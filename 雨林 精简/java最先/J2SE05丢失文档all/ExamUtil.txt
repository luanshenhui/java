package com.yulin.exam;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.Arrays;


public class ExamUtil {
	public static Question[] questionutil(String path) throws IOException {

		File file = new File(path);
		BufferedReader br = new BufferedReader(new FileReader(file));
		Question[] qs = new Question[10];
		int 题号 = 0;
		while (br.ready()) {
			String str = br.readLine();
			if (str.startsWith("@1")) {
				String[] ss = str.split("#");
				FillingQuestion fq = new FillingQuestion(ss[1], ss[2], Integer
						./* 字符串转换整数得分 */parseInt(ss[3]));
				//
				fq.set题号(题号);
				qs[题号++] = fq;// 题号对应数组的下标
			} else if (str.startsWith("@2")) {
				String[] ss = str.split("#");
				String[] options = ss[2].split(",");// 第二个元素在切分，选项切分
				SelectQuestion sq = new SelectQuestion(ss[1]/* 题干 */, options,//第一个元素都不取ss【0】
						ss[3], Integer.parseInt(ss[4]));
				// 创建一个选择题对象
				sq.set题号(题号);
				qs[题号++] = sq;

			}
		}
		return qs;

	}

	public static void userWriter(String path) {

	}

	public static/* userReader */void userReader(String path) {

	}

	public static void main(String[] args) {
		try {
			Question[] qs = ExamUtil.questionutil("src/exam.txt");
			System.out.println(Arrays.toString(qs));
			for (Question q : qs) {
				q.显示();
			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
