<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="Sequence">

  <resultMap id="result" class="com.dhc.base.persistence.ibatis.Sequence">
    <result property="name" column="name" columnIndex="1"/>
    <result property="nextId" column="nextid" columnIndex="2"/>
  </resultMap>

  <select id="getOracleSequence" parameterClass="java.lang.String" resultMap="result">
    select #seqName#.nextval as nextid from dual
  </select>
  
	<parameterMap id="sybaseResMap" class="java.util.Map">
 		<parameter property="seqId" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT"/>
	 	<parameter property="seqName" jdbcType="VARCHAR" javaType="java.lang.String" mode="IN" />	
	 	<parameter property="onCode" jdbcType="INTEGER" javaType="java.lang.Integer" mode="OUT" />	
	 	<parameter property="osMsg" jdbcType="VARCHAR" javaType="java.lang.String" mode="OUT" />
	</parameterMap>		
  	<procedure id="getSybaseSequence" parameterMap="sybaseResMap">
		{ ? = call JT_GET_SEQ_NEXT_VALUE_P (?,?,?)} 
	</procedure> 

</sqlMap>
