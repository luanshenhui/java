<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.rkylin.oms.system.enterprise.dao.EnterpriseDAOImpl">
	<resultMap id="BaseResultMap" type="cn.rkylin.oms.system.enterprise.domain.Enterprise">
		<id column="ent_id" jdbcType="VARCHAR" property="entId" />
		<result column="ent_name" jdbcType="VARCHAR" property="entName" />
		<result column="remark" jdbcType="VARCHAR" property="remark" />
	</resultMap>

	<sql id="Base_Column_App">
	ent_id as entId,ent_name as entName,remark
	</sql>
	
	<select id="getEnterpriseName" parameterType="cn.rkylin.oms.system.enterprise.domain.Enterprise" resultMap="BaseResultMap">
		select ent_id,ent_name from oms_enterprise
<!-- 		where 1=1 -->
<!-- 		<if test="shopId != null"> -->
<!-- 			and shop_id = #{shopId} -->
<!-- 		</if> -->
	</select>
	<select id="getOneEnterpriseList" parameterType="cn.rkylin.oms.system.enterprise.vo.EnterpriseVO" resultMap="BaseResultMap">
	SELECT
	ent_id,
	ent_name
	FROM
	oms_enterprise
	where ent_id in(
		select ent_id from wf_org_unit where 1=1
		AND unit_id in
			<foreach collection="unitList" item="unitList" index="index" close=")" open="(" separator=",">
				#{unitList.unitId}
			</foreach>
		)
	</select>

</mapper>