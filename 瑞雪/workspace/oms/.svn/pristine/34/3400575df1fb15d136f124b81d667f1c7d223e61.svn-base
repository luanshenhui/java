<html>
	<body>
		<link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/jquery-ui-1.10.4.custom/css/ui-lightness/jquery-ui-1.10.4.custom.min.css" />
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/font-awesome/css/font-awesome.min.css" />
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/bootstrap/css/bootstrap.min.css" />
        
        <!-- 加载本页需要的三方插件样式 -->
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/DataTables/media/css/jquery.dataTables.css">
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/DataTables/extensions/TableTools/css/dataTables.tableTools.min.css">
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/DataTables/media/css/dataTables.bootstrap.css">
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/jquery-tablesorter/themes/blue/style-custom.css">
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/jquery-bootstrap-wizard/custom.css">
	    <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/jquery-steps/css/jquery.steps.css">
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/animate.css/animate.css" />
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/iCheck/skins/all.css" />
    	<link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/bootstrap-datetimepicker/build/css/bootstrap-datetimepicker.min.css">
    	<link type="text/css" rel="stylesheet" href="/Apollo/madmin/vendors/user.css/jquery.ui.all.css">
		<!-- 加载主题风格样式 -->
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/css/themes/style1/orange-blue.css" class="default-style" />
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/css/themes/style1/orange-blue.css" id="theme-change" class="style-change color-change" />
        <link type="text/css" rel="stylesheet" href="/Apollo/madmin/css/style-responsive.css" />
		<table id="splitRuleItemTable"
			class="table table-hover table-striped table-bordered table-advanced"
			width="100%">
			<thead>
				<tr>
					<th width="10%" colValue=""></th>
					<th width="30%" colValue="roleName">角色名称</th>
					<th width="30%" colValue="roleDescription">角色描述</th>
					<th width="30%" colValue="isAdminrole">管理角色</th>
				</tr>
			</thead>
		</table>
		<script src="/Apollo/madmin/js/jquery-1.10.2.min.js"></script>
		<script src="/Apollo/madmin/js/jquery-migrate-1.2.1.min.js"></script>
	    <script src="/Apollo/madmin/js/jquery-ui.js"></script>
	    
	    <!-- 加载 bootstrap 和三方插件 js -->
	    <script src="/Apollo/madmin/vendors/bootstrap/js/bootstrap.min.js"></script>
	    <script src="/Apollo/madmin/vendors/bootstrap-hover-dropdown/bootstrap-hover-dropdown.js"></script>
	    <script src="/Apollo/madmin/js/html5shiv.js"></script>
	    <script src="/Apollo/madmin/js/respond.min.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-cookie/jquery.cookie.js"></script>
	    <script src="/Apollo/madmin/vendors/iCheck/icheck.min.js"></script>
	    <script src="/Apollo/madmin/vendors/iCheck/custom.min.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-notific8/jquery.notific8.min.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-pace/pace.min.js"></script>
	    <script src="/Apollo/madmin/vendors/holder/holder.js"></script>
	    <script src="/Apollo/madmin/vendors/responsive-tabs/responsive-tabs.js"></script>
	    <script src="/Apollo/madmin/vendors/moment/moment.js"></script>
		<script src="/Apollo/madmin/vendors/bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
	    <script src="/Apollo/madmin/vendors/DataTables/media/js/jquery.dataTables.js"></script>
	    <script src="/Apollo/madmin/vendors/DataTables/media/js/dataTables.bootstrap.js"></script>
	    <script src="/Apollo/madmin/vendors/DataTables/extensions/TableTools/js/dataTables.tableTools.min.js"></script>
    	<script src="/Apollo/madmin/vendors/jquery-tablesorter/jquery.tablesorter.js"></script>
    	<script src="/Apollo/madmin/js/table-advanced.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-validate/jquery.validate.min.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-validate/message_zh.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-steps/js/jquery.steps.min.js"></script>
	    <script src="/Apollo/madmin/vendors/jquery-bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>

	    <!-- 加载本页面对应的js -->
	    <script src="/views/static/js/export.js"></script>
	    <script src="/views/static/js/form.js"></script>
	    
	    <script type="text/javascript">
		var url = location.href
      	var param =url.split("type=")[1];
		manageRole(param);
	    function manageRole(param){
	    	if(param=="check"){
	    		splitRuleItemTable = $('#splitRuleItemTable').DataTable({
	    			"processing": true,
	    	        "serverSide": true,
	    	        "destroy":true,
	    	        "autoWidth": false,
	    	        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
	    	        "dom": '<"bottom"rtflp>',
	    	        "searching": false,
	    	        "pagingType": "full_numbers",
	    	        "deferRender": true,
	    	        "ajax": {
	    	            "url": "/role/getRole.action?isAdminRole=false",
	    	            "data": function ( d ) {
	    	            	var quickItemSearch = "";
	    	            	if (typeof($('#quickItemSearch').val())!='undefined'){
	    	            		quickItemSearch = encodeURI($('#quickItemSearch').val());
	    	            	} else {
	    	            		quickItemSearch = encodeURI(window.top.window.$('#quickItemSearch').val());
	    	            	}
	    	                d.quickSearch = quickItemSearch;
	    	            }
	    	        },
	    	        "tableTools": {
	    	            "sRowSelect": "bootstrap"
	    	        },
	    	        "columns": [
	    	        	{"data": "chk"}, 
	    	        	{"data": "roleName"}, 
	    	        	{"data": "roleDescription"}, 
	    	        	{"data": "isAdminrole"}
	    	        ],
	    	        "order": [[ 1, "asc" ]]
	    	    });
	    	}else if(param=="radio"){
	    		splitRuleItemTable = $('#splitRuleItemTable').DataTable({
	    	        "processing": true,
	    	        "serverSide": true,
	    	        "destroy":true,
	    	        "autoWidth": false,
	    	        "lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
	    	        "dom": '<"bottom"rtflp>',
	    	        "searching": false,
	    	        "pagingType": "full_numbers",
	    	        "deferRender": true,
	    	        "ajax": {
	    	            "url": "/role/getRole.action",
	    	            "data": function ( d ) {
	    	            	var quickItemSearch = "";
	    	            	if (typeof($('#quickItemSearch').val())!='undefined'){
	    	            		quickItemSearch = encodeURI($('#quickItemSearch').val());
	    	            	} else {
	    	            		quickItemSearch = encodeURI(window.top.window.$('#quickItemSearch').val());
	    	            	}
	    	                d.quickSearch = quickItemSearch;
	    	            }
	    	        },
	    	        "tableTools": {
	    	            "sRowSelect": "bootstrap"
	    	        },
	    	        "columns": [
	    	        	{"data": "radio"}, 
	    	        	{"data": "roleName"}, 
	    	        	{"data": "roleDescription"}, 
	    	        	{"data": "isAdminrole"}
	    	        ],
	    	        "order": [[ 2, "asc" ]]
	    	    });
	    	}
	    }
	    
	    function saveRadio(){
	    	var returnObj = new Object();
	    	var id=$('#splitRuleItemTable input:radio[name="statusRadio"]:checked')[0].getAttribute('radioid');
	    	var roleName=$($('#splitRuleItemTable input:radio[name="statusRadio"]:checked').parent().next()).text();
	    	returnObj.id = id;
			returnObj.roleName = roleName;
			return returnObj;
	    }
	    
	    function saveCheck(){
	    		var idString = "";
	    		var nameString = "";
	    		$("#splitRuleItemTable input[type='checkbox']:checked").each(function(k,v){
	    			var name=$(this).parent().next().text();
	    			if(idString==""){
	    				idString=this.getAttribute('roleid')
	    			}else if(idString!=""){
	    				idString+=","+this.getAttribute('roleid')
	    			}
	    			if(nameString==""){
	    				nameString=name;
	    			}else if(nameString!=""){
	    				nameString+=","+name;
	    			}
	    		});
	    		if (idString == null || idString==undefined || idString=="" || idString == ","){
	    			return;
	    		}
	    		var returnObj = new Object();
	    		returnObj.id = idString;
				returnObj.roleName = nameString;
				return returnObj;
	    }
	    </script>
	    
	</body>
</html>	