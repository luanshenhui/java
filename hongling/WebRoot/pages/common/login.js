eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(O(w,x){P y=w.45,cV=w.cV,cU=w.cU;P z=(O(){P h=O(a,b){N 2d h.fn.5d(a,b,cT)},gK=w.5Y,4o$=w.$,cT,gG=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,cJ=/\\S/,cH=/^\\s+/,cE=/\\s+$/,gF=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,gD=/^[\\],:{}\\s]*$/,gA=/\\\\(?:["\\\\\\/lh]|u[0-9a-fA-F]{4})/g,gy=/"[^"\\\\\\n\\r]*"|T|17|12|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,gx=/(?:^|:|,)(?:\\s*\\[)+/g,gw=/(gu)[ \\/]([\\w.]+)/,gq=/(le)(?:.*8G)?[ \\/]([\\w.]+)/,gn=/(ld) ([\\w.]+)/,gm=/(lc)(?:.*? lb:([\\w.]+))?/,gl=/-([a-z]|[0-9])/ig,gh=/^-bM-/,ge=O(a,b){N(b+"").8e()},bH=cV.bH,81,7Z,4l,5c=8y.2E.5c,8z=8y.2E.la,1x=3y.2E.1x,2f=3y.2E.2f,3D=8C.2E.3D,2z=3y.2E.2z,bh={};h.fn=h.2E={4M:h,5d:O(a,b,c){P d,U,1e,27;if(!a){N 6}if(a.1b){6.39=6[0]=a;6.Q=1;N 6}if(a==="1p"&&!b&&y.1p){6.39=y;6[0]=y.1p;6.2j=a;6.Q=1;N 6}if(1a a==="1t"){if(a.bd(0)==="<"&&a.bd(a.Q-1)===">"&&a.Q>=3){d=[12,a,12]}R{d=gG.22(a)}if(d&&(d[1]||!b)){if(d[1]){b=b 6Z h?b[0]:b;27=(b?b.2h||b:y);1e=gF.22(a);if(1e){if(h.7Q(b)){a=[y.1Z(1e[1])];h.fn.38.1i(a,b,T)}R{a=[27.1Z(1e[1])]}}R{1e=h.ba([d[1]],[27]);a=(1e.65?h.2R(1e.2p):1e.2p).3L}N h.70(6,a)}R{U=y.5W(d[2]);if(U&&U.1h){if(U.id!==d[2]){N c.2o(a)}6.Q=1;6[0]=U}6.39=y;6.2j=a;N 6}}R if(!b||b.6Y){N(b||c).2o(a)}R{N 6.4M(b).2o(a)}}R if(h.1z(a)){N c.3e(a)}if(a.2j!==x){6.2j=a.2j;6.39=a.39}N h.4S(a,6)},2j:"",6Y:"1.7.1",Q:0,l9:O(){N 6.Q},b2:O(){N 2f.1i(6,0)},1M:O(a){N a==12?6.b2():(a<0?6[6.Q+a]:6[a])},3j:O(a,b,c){P d=6.4M();if(h.2K(a)){1x.1R(d,a)}R{h.70(d,a)}d.aZ=6;d.39=6.39;if(b==="2o"){d.2j=6.2j+(6.2j?" ":"")+c}R if(b){d.2j=6.2j+"."+b+"("+c+")"}N d},1g:O(a,b){N h.1g(6,a,b)},3e:O(a){h.aY();7Z.23(a);N 6},eq:O(i){i=+i;N i===-1?6.2f(i):6.2f(i,i+1)},2t:O(){N 6.eq(0)},4t:O(){N 6.eq(-1)},2f:O(){N 6.3j(2f.1R(6,1r),"2f",2f.1i(1r).5q(","))},3n:O(b){N 6.3j(h.3n(6,O(a,i){N b.1i(a,i,a)}))},3o:O(){N 6.aZ||6.4M(12)},1x:1x,6a:[].6a,3s:[].3s};h.fn.5d.2E=h.fn;h.1w=h.fn.1w=O(){P a,1u,3B,3E,8R,2R,1S=1r[0]||{},i=1,Q=1r.Q,4m=17;if(1a 1S==="7K"){4m=1S;1S=1r[1]||{};i=2}if(1a 1S!=="29"&&!h.1z(1S)){1S={}}if(Q===i){1S=6;--i}V(;i<Q;i++){if((a=1r[i])!=12){V(1u in a){3B=1S[1u];3E=a[1u];if(1S===3E){5C}if(4m&&3E&&(h.7Q(3E)||(8R=h.2K(3E)))){if(8R){8R=17;2R=3B&&h.2K(3B)?3B:[]}R{2R=3B&&h.7Q(3B)?3B:{}}1S[1u]=h.1w(4m,2R,3E)}R if(3E!==x){1S[1u]=3E}}}}N 1S};h.1w({l8:O(a){if(w.$===h){w.$=4o$}if(a&&w.5Y===h){w.5Y=gK}N h},94:17,97:1,l7:O(a){if(a){h.97++}R{h.3e(T)}},3e:O(a){if((a===T&&!--h.97)||(a!==T&&!h.94)){if(!y.1p){N 5R(h.3e,1)}h.94=T;if(a!==T&&--h.97>0){N}7Z.6R(y,[h]);if(h.fn.2U){h(y).2U("3e").49("3e")}}},aY:O(){if(7Z){N}7Z=h.5V("51 2i");if(y.4c==="2N"){N 5R(h.3e,1)}if(y.52){y.52("4l",4l,17);w.52("7s",h.3e,17)}R if(y.4g){y.4g("6P",4l);w.4g("9l",h.3e);P a=17;2e{a=w.l6==12}2k(e){}if(y.25.g9&&a){aB()}}},1z:O(a){N h.14(a)==="O"},2K:3y.2K||O(a){N h.14(a)==="g5"},5i:O(a){N a&&1a a==="29"&&"aw"in a},9A:O(a){N!ar(1X(a))&&l5(a)},14:O(a){N a==12?8C(a):bh[5c.1i(a)]||"29"},7Q:O(a){if(!a||h.14(a)!=="29"||a.1b||h.5i(a)){N 17}2e{if(a.4M&&!8z.1i(a,"4M")&&!8z.1i(a.4M.2E,"l4")){N 17}}2k(e){N 17}P b;V(b in a){}N b===x||8z.1i(a,b)},7e:O(a){V(P b in a){N 17}N T},2m:O(a){am 2d al(a);},aj:O(a){if(1a a!=="1t"||!a){N 12}a=h.3D(a);if(w.9K&&w.9K.g4){N w.9K.g4(a)}if(gD.1c(a.1m(gA,"@").1m(gy,"]").1m(gx,""))){N(2d g3("N "+a))()}h.2m("g2 9K: "+a)},g1:O(a){P b,3J;2e{if(w.fZ){3J=2d fZ();b=3J.l3(a,"21/3f")}R{b=2d 9O("fW.l2");b.3V="17";b.l1(a)}}2k(e){b=x}if(!b||!b.25||b.26("fV").Q){h.2m("g2 l0: "+a)}N b},a8:O(){},a5:O(b){if(b&&cJ.1c(b)){(w.kZ||O(a){w["kY"].1i(w,a)})(b)}},5a:O(a){N a.1m(gh,"bM-").1m(gl,ge)},1j:O(a,b){N a.1j&&a.1j.8e()===b.8e()},1g:O(a,b,c){P d,i=0,Q=a.Q,a3=Q===x||h.1z(a);if(c){if(a3){V(d in a){if(b.1R(a[d],c)===17){2c}}}R{V(;i<Q;){if(b.1R(a[i++],c)===17){2c}}}}R{if(a3){V(d in a){if(b.1i(a[d],d,a[d])===17){2c}}}R{V(;i<Q;){if(b.1i(a[i],i,a[i++])===17){2c}}}}N a},3D:3D?O(a){N a==12?"":3D.1i(a)}:O(a){N a==12?"":a.5c().1m(cH,"").1m(cE,"")},4S:O(a,b){P c=b||[];if(a!=12){P d=h.14(a);if(a.Q==12||d==="1t"||d==="O"||d==="kX"||h.5i(a)){1x.1i(c,a)}R{h.70(c,a)}}N c},61:O(a,b,i){P c;if(b){if(2z){N 2z.1i(b,a,i)}c=b.Q;i=i?i<0?4n.57(0,c+i):i:0;V(;i<c;i++){if(i in b&&b[i]===a){N i}}}N-1},70:O(a,b){P i=a.Q,j=0;if(1a b.Q==="3K"){V(P l=b.Q;j<l;j++){a[i++]=b[j]}}R{1Y(b[j]!==x){a[i++]=b[j++]}}a.Q=i;N a},53:O(a,b,c){P d=[],a1;c=!!c;V(P i=0,Q=a.Q;i<Q;i++){a1=!!b(a[i],i);if(c!==a1){d.1x(a[i])}}N d},3n:O(a,b,c){P d,2Q,1e=[],i=0,Q=a.Q,2K=a 6Z h||Q!==x&&1a Q==="3K"&&((Q>0&&a[0]&&a[Q-1])||Q===0||h.2K(a));if(2K){V(;i<Q;i++){d=b(a[i],i,c);if(d!=12){1e[1e.Q]=d}}}R{V(2Q in a){d=b(a[2Q],2Q,c);if(d!=12){1e[1e.Q]=d}}}N 1e.6C.1R([],1e)},1T:1,7V:O(a,b){if(1a b==="1t"){P c=a[b];b=a;a=c}if(!h.1z(a)){N x}P d=2f.1i(1r,2),7V=O(){N a.1R(b,d.6C(2f.1i(1r)))};7V.1T=a.1T=a.1T||7V.1T||h.1T++;N 7V},75:O(a,b,c,d,e,f){P g=a.Q;if(1a b==="29"){V(P k in b){h.75(a,k,b[k],d,e,c)}N a}if(c!==x){d=!f&&d&&h.1z(c);V(P i=0;i<g;i++){e(a[i],b,d?c.1i(a[i],i,e(a[i],b)):c,f)}N a}N g?e(a[0],b):x},3b:O(){N(2d a2()).fT()},fS:O(a){a=a.1o();P b=gw.22(a)||gq.22(a)||gn.22(a)||a.2z("kW")<0&&gm.22(a)||[];N{4Y:b[1]||"",8G:b[2]||"0"}},a7:O(){O 2V(a,b){N 2d 2V.fn.5d(a,b)}h.1w(T,2V,6);2V.kV=6;2V.fn=2V.2E=6();2V.fn.4M=2V;2V.a7=6.a7;2V.fn.5d=O 5d(a,b){if(b&&b 6Z h&&!(b 6Z 2V)){b=2V(b)}N h.fn.5d.1i(6,a,b,c)};2V.fn.5d.2E=2V.fn;P c=2V(y);N 2V},4Y:{}});h.1g("kU kT 8C g3 3y a2 4T 8y".2l(" "),O(i,a){bh["[29 "+a+"]"]=a.1o()});81=h.fS(bH);if(81.4Y){h.4Y[81.4Y]=T;h.4Y.8G=81.8G}if(h.4Y.gu){h.4Y.kS=T}if(cJ.1c("\\ad")){cH=/^[\\s\\ad]+/;cE=/[\\s\\ad]+$/}cT=h(y);if(y.52){4l=O(){y.79("4l",4l,17);h.3e()}}R if(y.4g){4l=O(){if(y.4c==="2N"){y.ag("6P",4l);h.3e()}}}O aB(){if(h.94){N}2e{y.25.g9("1l")}2k(e){5R(aB,1);N}h.3e()}N h})();P A={};O fP(a){P b=A[a]={},i,Q;a=a.2l(/\\s+/);V(i=0,Q=a.Q;i<Q;i++){b[a[i]]=T}N b}z.5V=O(c){c=c?(A[c]||fP(c)):{};P d=[],4B=[],2i,6x,9F,71,5I,23=O(a){P i,Q,U,14,kQ;V(i=0,Q=a.Q;i<Q;i++){U=a[i];14=z.14(U);if(14==="g5"){23(U)}R if(14==="O"){if(!c.6v||!48.9z(U)){d.1x(U)}}}},6u=O(a,b){b=b||[];2i=!c.2i||[a,b];6x=T;5I=9F||0;9F=0;71=d.Q;V(;d&&5I<71;5I++){if(d[5I].1R(a,b)===17&&c.kN){2i=T;2c}}6x=17;if(d){if(!c.51){if(4B&&4B.Q){2i=4B.4F();48.6R(2i[0],2i[1])}}R if(2i===T){48.7k()}R{d=[]}}},48={23:O(){if(d){P a=d.Q;23(1r);if(6x){71=d.Q}R if(2i&&2i!==T){9F=a;6u(2i[0],2i[1])}}N 6},3l:O(){if(d){P a=1r,9y=0,fM=a.Q;V(;9y<fM;9y++){V(P i=0;i<d.Q;i++){if(a[9y]===d[i]){if(6x){if(i<=71){71--;if(i<=5I){5I--}}}d.3s(i--,1);if(c.6v){2c}}}}}N 6},9z:O(a){if(d){P i=0,Q=d.Q;V(;i<Q;i++){if(a===d[i]){N T}}}N 17},6s:O(){d=[];N 6},7k:O(){d=4B=2i=x;N 6},3w:O(){N!d},az:O(){4B=x;if(!2i||2i===T){48.7k()}N 6},kM:O(){N!4B},6R:O(a,b){if(4B){if(6x){if(!c.51){4B.1x([a,b])}}R if(!(c.51&&2i)){6u(a,b)}}N 6},6u:O(){48.6R(6,1r);N 6},aH:O(){N!!2i}};N 48};P B=[].2f;z.1w({7w:O(h){P i=z.5V("51 2i"),7z=z.5V("51 2i"),7B=z.5V("2i"),28="kD",9b={6q:i,98:7z,aN:7B},2q={2B:i.23,6p:7z.23,96:7B.23,28:O(){N 28},fG:i.aH,kC:7z.aH,91:O(a,b,c){1U.2B(a).6p(b).96(c);N 6},fC:O(){1U.2B.1R(1U,1r).6p.1R(1U,1r);N 6},kB:O(e,f,g){N z.7w(O(d){z.1g({2B:[e,"6q"],6p:[f,"98"],96:[g,"aN"]},O(a,b){P c=b[0],aV=b[1],6n;if(z.1z(c)){1U[a](O(){6n=c.1R(6,1r);if(6n&&z.1z(6n.2q)){6n.2q().91(d.6q,d.98,d.aN)}R{d[aV+"8U"](6===1U?d:6,[6n])}})}R{1U[a](d[aV])}})}).2q()},2q:O(a){if(a==12){a=2q}R{V(P b in 2q){a[b]=2q[b]}}N a}},1U=2q.2q({}),2Q;V(2Q in 9b){1U[2Q]=9b[2Q].6u;1U[2Q+"8U"]=9b[2Q].6R}1U.2B(O(){28="kA"},7z.7k,7B.az).6p(O(){28="kz"},i.7k,7B.az);if(h){h.1i(1U,1U)}N 1U},ky:O(b){P c=B.1i(1r,0),i=0,Q=c.Q,aX=2d 3y(Q),3p=Q,kx=Q,1U=Q<=1&&b&&z.1z(b.2q)?b:z.7w(),2q=1U.2q();O fz(i){N O(a){c[i]=1r.Q>1?B.1i(1r,0):a;if(!(--3p)){1U.7R(1U,c)}}}O fy(i){N O(a){aX[i]=1r.Q>1?B.1i(1r,0):a;1U.kw(2q,aX)}}if(Q>1){V(;i<Q;i++){if(c[i]&&c[i].2q&&z.1z(c[i].2q)){c[i].2q().91(fz(i),1U.98,fy(i))}R{--3p}}if(!3p){1U.7R(1U,c)}}R if(1U!==b){1U.7R(1U,Q?[b]:[])}N 2q}});z.1q=(O(){P b,4U,a,30,7W,1E,5x,2p,6j,1J,7X,i,5B,19=y.1Z("19"),25=y.25;19.4E("1V","t");19.2Z="   <bz/><2I></2I><a 3i=\'/a\' 18=\'1I:8o;8m:1l;2g:.55;\'>a</a><1E 14=\'4v\'/>";4U=19.26("*");a=19.26("a")[0];if(!4U||!4U.Q||!a){N{}}30=y.1Z("30");7W=30.31(y.1Z("35"));1E=19.26("1E")[0];b={bG:(19.1W.1b===3),2x:!19.26("2x").Q,fw:!!19.26("bz").Q,18:/1I/.1c(a.2y("18")),fu:(a.2y("3i")==="/a"),2g:/^0.55/.1c(a.18.2g),8a:!!a.18.8a,ft:(1E.1s==="3c"),fs:7W.4K,87:19.1V!=="t",8q:!!y.1Z("3Q").8q,bR:y.1Z("8r").6g(T).8s!=="<:8r></:8r>",fr:T,fp:T,fo:17,6b:T,c5:T,c6:17,c9:17,cd:T};1E.2C=T;b.fm=1E.6g(T).2C;30.3w=T;b.fl=!7W.3w;2e{3m 19.1c}2k(e){b.6b=17}if(!19.52&&19.4g&&19.fk){19.4g("fj",O(){b.c5=17});19.6g(T).fk("fj")}1E=y.1Z("1E");1E.1s="t";1E.4E("14","3U");b.fi=1E.1s==="t";1E.4E("2C","2C");19.31(1E);2p=y.9e();2p.31(19.9f);b.cj=2p.6g(T).6g(T).9f.2C;b.fh=1E.2C;2p.3I(1E);2p.31(19);19.2Z="";if(w.4J){5x=y.1Z("19");5x.18.2P="0";5x.18.5G="0";19.18.2P="ks";19.31(5x);b.cd=(fe((w.4J(5x,12)||{5G:0}).5G,10)||0)===0}if(19.4g){V(i in{6c:1,6B:1,9m:1}){7X="3c"+i;5B=(7X in 19);if(!5B){19.4E(7X,"N;");5B=(1a 19[7X]==="O")}b[i+"kl"]=5B}}2p.3I(19);2p=30=7W=5x=19=1E=12;z(O(){P a,62,3R,2I,3H,6H,9o,9q,9Z,18,2A,1p=y.26("1p")[0];if(!1p){N}9o=1;9q="36:cu;1I:0;1l:0;2P:8o;3g:8o;6O:0;";9Z="fb:2W;5T:0;";18="18=\'"+9q+"5T:kk kj #ki;6T:0;\'";2A="<19 "+18+"><19></19></19>"+"<2I "+18+" f8=\'0\' f7=\'0\'>"+"<4X><3H></3H></4X></2I>";a=y.1Z("19");a.18.9N=9Z+"2P:0;3g:0;36:9P;1I:0;6O-1I:"+9o+"3P";1p.4u(a,1p.1W);19=y.1Z("19");a.31(19);19.2Z="<2I><4X><3H 18=\'6T:0;5T:0;1F:4b\'></3H><3H>t</3H></4X></2I>";6j=19.26("3H");5B=(6j[0].9Y===0);6j[0].18.1F="";6j[1].18.1F="4b";b.f2=5B&&(6j[0].9Y===0);19.2Z="";19.18.2P=19.18.f1="8o";z.74=b.74=19.5J===2;if(1a 19.18.76!=="2G"){19.18.1F="78";19.18.76=1;b.c6=(19.5J===2);19.18.1F="";19.2Z="<19 18=\'2P:kh;\'></19>";b.c9=(19.5J!==2)}19.18.9N=9q+9Z;19.2Z=2A;62=19.1W;3R=62.1W;3H=62.3z.1W.1W;6H={f0:(3R.3Y!==5),eZ:(3H.3Y===5)};3R.18.36="9H";3R.18.1I="kg";6H.cC=(3R.3Y===20||3R.3Y===15);3R.18.36=3R.18.1I="";62.18.4s="2W";62.18.36="46";6H.eV=(3R.3Y===-5);6H.eU=(1p.3Y!==9o);1p.3I(a);19=a=12;z.1w(b,6H)});N b})();P C=/^(?:\\{.*\\}|\\[.*\\])$/,eN=/([A-Z])/g;z.1w({1A:{},eM:0,2u:"5Y"+(z.fn.6Y+4n.eL()).1m(/\\D/g,""),co:{"cm":T,"29":"kd:kc-kb-ka-k9-k8","k7":T},ci:O(a){a=a.1b?z.1A[a[z.2u]]:a[z.2u];N!!a&&!95(a)},1f:O(a,b,c,d){if(!z.7G(a)){N}P e,3N,1e,3x=z.2u,ce=1a b==="1t",4D=a.1b,1A=4D?z.1A:a,id=4D?a[3x]:a[3x]&&3x,cc=b==="1J";if((!id||!1A[id]||(!cc&&!d&&!1A[id].1f))&&ce&&c===x){N}if(!id){if(4D){a[3x]=id=++z.eM}R{id=3x}}if(!1A[id]){1A[id]={};if(!4D){1A[id].eF=z.a8}}if(1a b==="29"||1a b==="O"){if(d){1A[id]=z.1w(1A[id],b)}R{1A[id].1f=z.1w(1A[id].1f,b)}}e=3N=1A[id];if(!d){if(!3N.1f){3N.1f={}}3N=3N.1f}if(c!==x){3N[z.5a(b)]=c}if(cc&&!3N[b]){N e.1J}if(ce){1e=3N[b];if(1e==12){1e=3N[z.5a(b)]}}R{1e=3N}N 1e},42:O(a,b,c){if(!z.7G(a)){N}P d,i,l,3x=z.2u,4D=a.1b,1A=4D?z.1A:a,id=4D?a[3x]:3x;if(!1A[id]){N}if(b){d=c?1A[id]:1A[id].1f;if(d){if(!z.2K(b)){if(b in d){b=[b]}R{b=z.5a(b);if(b in d){b=[b]}R{b=b.2l(" ")}}}V(i=0,l=b.Q;i<l;i++){3m d[b[i]]}if(!(c?95:z.7e)(d)){N}}}if(!c){3m 1A[id].1f;if(!95(1A[id])){N}}if(z.1q.6b||!1A.aw){3m 1A[id]}R{1A[id]=12}if(4D){if(z.1q.6b){3m a[3x]}R if(a.5g){a.5g(3x)}R{a[3x]=12}}},1D:O(a,b,c){N z.1f(a,b,c,T)},7G:O(a){if(a.1j){P b=z.co[a.1j.1o()];if(b){N!(b===T||a.2y("k6")!==b)}}N T}});z.fn.1w({1f:O(b,c){P d,38,1u,1f=12;if(1a b==="2G"){if(6.Q){1f=z.1f(6[0]);if(6[0].1b===1&&!z.1D(6[0],"eC")){38=6[0].c1;V(P i=0,l=38.Q;i<l;i++){1u=38[i].1u;if(1u.2z("1f-")===0){1u=z.5a(1u.k5(5));bY(6[0],1u,1f[1u])}}z.1D(6[0],"eC",T)}}N 1f}R if(1a b==="29"){N 6.1g(O(){z.1f(6,b)})}d=b.2l(".");d[1]=d[1]?"."+d[1]:"";if(c===x){1f=6.8B("eB"+d[1]+"!",[d[0]]);if(1f===x&&6.Q){1f=z.1f(6[0],b);1f=bY(6[0],b,1f)}N 1f===x&&d[1]?6.1f(d[0]):1f}R{N 6.1g(O(){P a=z(6),6d=[d[0],c];a.8B("eA"+d[1]+"!",6d);z.1f(6,b,c);a.8B("ez"+d[1]+"!",6d)})}},42:O(a){N 6.1g(O(){z.42(6,a)})}});O bY(a,b,c){if(c===x&&a.1b===1){P d="1f-"+b.1m(eN,"-$1").1o();c=a.2y(d);if(1a c==="1t"){2e{c=c==="T"?T:c==="17"?17:c==="12"?12:z.9A(c)?1X(c):C.1c(c)?z.aj(c):c}2k(e){}z.1f(a,b,c)}R{c=x}}N c}O 95(a){V(P b in a){if(b==="1f"&&z.7e(a[b])){5C}if(b!=="eF"){N 17}}N T}O bS(a,b,c){P d=b+"6f",82=b+"24",84=b+"67",6f=z.1D(a,d);if(6f&&(c==="24"||!z.1D(a,82))&&(c==="67"||!z.1D(a,84))){5R(O(){if(!z.1D(a,82)&&!z.1D(a,84)){z.42(a,d,T);6f.6u()}},0)}}z.1w({ew:O(a,b){if(a){b=(b||"fx")+"67";z.1D(a,b,(z.1D(a,b)||0)+1)}},bN:O(a,b,c){if(a!==T){c=b;b=a;a=17}if(b){c=c||"fx";P d=c+"67",3p=a?0:((z.1D(b,d)||1)-1);if(3p){z.1D(b,d,3p)}R{z.42(b,d,T);bS(b,c,"67")}}},24:O(a,b,c){P q;if(a){b=(b||"fx")+"24";q=z.1D(a,b);if(c){if(!q||z.2K(c)){q=z.1D(a,b,z.4S(c))}R{q.1x(c)}}N q||[]}},5Z:O(a,b){b=b||"fx";P c=z.24(a,b),fn=c.4F(),1P={};if(fn==="bJ"){fn=c.4F()}if(fn){if(b==="fx"){c.4f("bJ")}z.1D(a,b+".8f",1P);fn.1i(a,O(){z.5Z(a,b)},1P)}if(!c.Q){z.42(a,b+"24 "+b+".8f",T);bS(a,b,"24")}}});z.fn.1w({24:O(b,c){if(1a b!=="1t"){c=b;b="fx"}if(c===x){N z.24(6[0],b)}N 6.1g(O(){P a=z.24(6,b,c);if(b==="fx"&&a[0]!=="bJ"){z.5Z(6,b)}})},5Z:O(a){N 6.1g(O(){z.5Z(6,a)})},k4:O(d,e){d=z.fx?z.fx.8d[d]||d:d;e=e||"fx";N 6.24(e,O(a,b){P c=5R(a,d);b.5S=O(){eu(c)}})},k2:O(a){N 6.24(a||"fx",[])},2q:O(a,b){if(1a a!=="1t"){b=a;a=x}a=a||"fx";P c=z.7w(),3X=6,i=3X.Q,3p=1,bB=a+"6f",82=a+"24",84=a+"67",3J;O 6q(){if(!(--3p)){c.7R(3X,[3X])}}1Y(i--){if((3J=z.1f(3X[i],bB,x,T)||(z.1f(3X[i],82,x,T)||z.1f(3X[i],84,x,T))&&z.1f(3X[i],bB,z.5V("51 2i"),T))){3p++;3J.23(6q)}}6q();N c.2q()}});P D=/[\\n\\t\\r]/g,88=/\\s+/,es=/\\r/g,er=/^(?:2v|1E)$/i,ep=/^(?:2v|1E|29|30|86)$/i,eo=/^a(?:k1)?$/i,bv=/^(?:k0|jZ|3V|2C|jY|6f|3w|2W|jX|bu|bt|gN|jV|jR|4K)$/i,87=z.1q.87,3Z,bm,bj;z.fn.1w({38:O(a,b){N z.75(6,a,b,T,z.38)},7S:O(a){N 6.1g(O(){z.7S(6,a)})},1N:O(a,b){N z.75(6,a,b,T,z.1N)},jQ:O(a){a=z.6m[a]||a;N 6.1g(O(){2e{6[a]=x;3m 6[a]}2k(e){}})},bb:O(a){P b,i,l,U,7P,c,cl;if(z.1z(a)){N 6.1g(O(j){z(6).bb(a.1i(6,j,6.1V))})}if(a&&1a a==="1t"){b=a.2l(88);V(i=0,l=6.Q;i<l;i++){U=6[i];if(U.1b===1){if(!U.1V&&b.Q===1){U.1V=a}R{7P=" "+U.1V+" ";V(c=0,cl=b.Q;c<cl;c++){if(!~7P.2z(" "+b[c]+" ")){7P+=b[c]+" "}}U.1V=z.3D(7P)}}}}N 6},b8:O(a){P b,i,l,U,1V,c,cl;if(z.1z(a)){N 6.1g(O(j){z(6).b8(a.1i(6,j,6.1V))})}if((a&&1a a==="1t")||a===x){b=(a||"").2l(88);V(i=0,l=6.Q;i<l;i++){U=6[i];if(U.1b===1&&U.1V){if(a){1V=(" "+U.1V+" ").1m(D," ");V(c=0,cl=b.Q;c<cl;c++){1V=1V.1m(" "+b[c]+" "," ")}U.1V=z.3D(1V)}R{U.1V=""}}}}N 6},en:O(b,c){P d=1a b,em=1a c==="7K";if(z.1z(b)){N 6.1g(O(i){z(6).en(b.1i(6,i,6.1V,c),c)})}N 6.1g(O(){if(d==="1t"){P a,i=0,48=z(6),28=c,ek=b.2l(88);1Y((a=ek[i++])){28=em?28:!48.ej(a);48[28?"bb":"b8"](a)}}R if(d==="2G"||d==="7K"){if(6.1V){z.1D(6,"eh",6.1V)}6.1V=6.1V||b===17?"":z.1D(6,"eh")||""}})},ej:O(a){P b=" "+a+" ",i=0,l=6.Q;V(;i<l;i++){if(6[i].1b===1&&(" "+6[i].1V+" ").1m(D," ").2z(b)>-1){N T}}N 17},1K:O(c){P d,1e,1z,U=6[0];if(!1r.Q){if(U){d=z.4z[U.1j.1o()]||z.4z[U.14];if(d&&"1M"in d&&(1e=d.1M(U,"1s"))!==x){N 1e}1e=U.1s;N 1a 1e==="1t"?1e.1m(es,""):1e==12?"":1e}N}1z=z.1z(c);N 6.1g(O(i){P b=z(6),1K;if(6.1b!==1){N}if(1z){1K=c.1i(6,i,b.1K())}R{1K=c}if(1K==12){1K=""}R if(1a 1K==="3K"){1K+=""}R if(z.2K(1K)){1K=z.3n(1K,O(a){N a==12?"":a+""})}d=z.4z[6.1j.1o()]||z.4z[6.14];if(!d||!("1B"in d)||d.1B(6,1K,"1s")===x){6.1s=1K}})}});z.1w({4z:{35:{1M:O(a){P b=a.c1.1s;N!b||b.aU?a.1s:a.21}},30:{1M:O(a){P b,i,57,35,5f=a.7F,8Z=[],1L=a.1L,5p=a.14==="30-5p";if(5f<0){N 12}i=5p?5f:0;57=5p?5f+1:1L.Q;V(;i<57;i++){35=1L[i];if(35.4K&&(z.1q.fl?!35.3w:35.2y("3w")===12)&&(!35.1h.3w||!z.1j(35.1h,"ec"))){b=z(35).1K();if(5p){N b}8Z.1x(b)}}if(5p&&!8Z.Q&&1L.Q){N z(1L[5f]).1K()}N 8Z},1B:O(a,b){P c=z.4S(b);z(a).2o("35").1g(O(){6.4K=z.61(z(6).1K(),c)>=0});if(!c.Q){a.7F=-1}N c}}},93:{1K:T,1H:T,2A:T,21:T,1f:T,2P:T,3g:T,2J:T},38:O(a,b,c,d){P e,1P,59,3S=a.1b;if(!a||3S===3||3S===8||3S===2){N}if(d&&b in z.93){N z(a)[b](c)}if(1a a.2y==="2G"){N z.1N(a,b,c)}59=3S!==1||!z.99(a);if(59){b=b.1o();1P=z.4d[b]||(bv.1c(b)?bm:3Z)}if(c!==x){if(c===12){z.7S(a,b);N}R if(1P&&"1B"in 1P&&59&&(e=1P.1B(a,c,b))!==x){N e}R{a.4E(b,""+c);N c}}R if(1P&&"1M"in 1P&&59&&(e=1P.1M(a,b))!==12){N e}R{e=a.2y(b);N e===12?x:e}},7S:O(a,b){P c,9c,1u,l,i=0;if(b&&a.1b===1){9c=b.1o().2l(88);l=9c.Q;V(;i<l;i++){1u=9c[i];if(1u){c=z.6m[1u]||1u;z.38(a,1u,"");a.5g(87?1u:c);if(bv.1c(1u)&&c in a){a[c]=17}}}}},4d:{14:{1B:O(a,b){if(er.1c(a.1j)&&a.1h){z.2m("14 9d jP\'t be jO")}R if(!z.1q.fi&&b==="3U"&&z.1j(a,"1E")){P c=a.1s;a.4E("14",b);if(c){a.1s=c}N b}}},1s:{1M:O(a,b){if(3Z&&z.1j(a,"2v")){N 3Z.1M(a,b)}N b in a?a.1s:12},1B:O(a,b,c){if(3Z&&z.1j(a,"2v")){N 3Z.1B(a,b,c)}a.1s=b}}},6m:{9h:"aL",gN:"jN","V":"e7","5t":"1V",jM:"jL",f7:"jK",f8:"jJ",jF:"jE",jD:"jC",jB:"jz",jy:"e1",e0:"jw"},1N:O(a,b,c){P d,1P,59,3S=a.1b;if(!a||3S===3||3S===8||3S===2){N}59=3S!==1||!z.99(a);if(59){b=z.6m[b]||b;1P=z.7l[b]}if(c!==x){if(1P&&"1B"in 1P&&(d=1P.1B(a,c,b))!==x){N d}R{N(a[b]=c)}}R{if(1P&&"1M"in 1P&&(d=1P.1M(a,b))!==12){N d}R{N a[b]}}},7l:{aL:{1M:O(a){P b=a.4O("9h");N b&&b.aU?fe(b.1s,10):ep.1c(a.1j)||eo.1c(a.1j)&&a.3i?0:x}}}});z.4d.9h=z.7l.aL;bm={1M:O(a,b){P c,9d=z.1N(a,b);N 9d===T||1a 9d!=="7K"&&(c=a.4O(b))&&c.5D!==17?b.1o():x},1B:O(a,b,c){P d;if(b===17){z.7S(a,c)}R{d=z.6m[c]||c;if(d in a){a[d]=T}a.4E(c,c.1o())}N c}};if(!87){bj={1u:T,id:T};3Z=z.4z.2v={1M:O(a,b){P c;c=a.4O(b);N c&&(bj[b]?c.5D!=="":c.aU)?c.5D:x},1B:O(a,b,c){P d=a.4O(c);if(!d){d=y.jv(c);a.ju(d)}N(d.5D=b+"")}};z.4d.9h.1B=3Z.1B;z.1g(["2P","3g"],O(i,c){z.4d[c]=z.1w(z.4d[c],{1B:O(a,b){if(b===""){a.4E(c,"9B");N b}}})});z.4d.e0={1M:3Z.1M,1B:O(a,b,c){if(b===""){b="17"}3Z.1B(a,b,c)}}}if(!z.1q.fu){z.1g(["3i","3B","2P","3g"],O(i,c){z.4d[c]=z.1w(z.4d[c],{1M:O(a){P b=a.2y(c,2);N b===12?x:b}})})}if(!z.1q.18){z.4d.18={1M:O(a){N a.18.9N.1o()||x},1B:O(a,b){N(a.18.9N=""+b)}}}if(!z.1q.fs){z.7l.4K=z.1w(z.7l.4K,{1M:O(a){P b=a.1h;if(b){b.7F;if(b.1h){b.1h.7F}}N 12}})}if(!z.1q.8q){z.6m.8q="jt"}if(!z.1q.ft){z.1g(["3U","4v"],O(){z.4z[6]={1M:O(a){N a.2y("1s")===12?"3c":a.1s}}})}z.1g(["3U","4v"],O(){z.4z[6]=z.1w(z.4z[6],{1B:O(a,b){if(z.2K(b)){N(a.2C=z.61(z(a).1K(),b)>=0)}}})});P E=/^(?:86|1E|30)$/i,as=/^([^\\.]*)?(?:\\.(.+))?$/,dW=/\\js(\\.\\S+)?\\b/,dU=/^2Q/,dT=/^(?:jr|dS)|5L/,ah=/^(?:jo|jn)$/,dQ=/^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,dO=O(a){P b=dQ.22(a);if(b){b[1]=(b[1]||"").1o();b[3]=b[3]&&2d 4T("(?:^|\\\\s)"+b[3]+"(?:\\\\s|$)")}N b},dN=O(a,m){P b=a.c1||{};N((!m[1]||a.1j.1o()===m[1])&&(!m[2]||(b.id||{}).1s===m[2])&&(!m[3]||m[3].1c((b["5t"]||{}).1s)))},cP=O(a){N z.1k.1y.dL?a:a.1m(dW,"9V$1 9W$1")};z.1k={23:O(a,b,c,d,f){P g,4H,1J,t,4e,14,2M,1C,a0,9X,58,1y;if(a.1b===3||a.1b===8||!b||!c||!(g=z.1D(a))){N}if(c.3C){a0=c;c=a0.3C}if(!c.1T){c.1T=z.1T++}1J=g.1J;if(!1J){g.1J=1J={}}4H=g.1O;if(!4H){g.1O=4H=O(e){N 1a z!=="2G"&&(!e||z.1k.9T!==e.14)?z.1k.9S.1R(4H.U,1r):x};4H.U=a}b=z.3D(cP(b)).2l(" ");V(t=0;t<b.Q;t++){4e=as.22(b[t])||[];14=4e[1];2M=(4e[2]||"").2l(".").6a();1y=z.1k.1y[14]||{};14=(f?1y.6E:1y.9Q)||14;1y=z.1k.1y[14]||{};1C=z.1w({14:14,63:4e[1],1f:d,3C:c,1T:c.1T,2j:f,9X:dO(f),3u:2M.5q(".")},a0);58=1J[14];if(!58){58=1J[14]=[];58.4w=0;if(!1y.64||1y.64.1i(a,d,2M,4H)===17){if(a.52){a.52(14,4H,17)}R if(a.4g){a.4g("3c"+14,4H)}}}if(1y.23){1y.23.1i(a,1C);if(!1C.3C.1T){1C.3C.1T=c.1T}}if(f){58.3s(58.4w++,0,1C)}R{58.1x(1C)}z.1k.6I[14]=T}a=12},6I:{},3l:O(a,b,c,d,e){P f=z.ci(a)&&z.1D(a),t,4e,14,63,2M,af,j,1J,1y,1O,4h,1C;if(!f||!(1J=f.1J)){N}b=z.3D(cP(b||"")).2l(" ");V(t=0;t<b.Q;t++){4e=as.22(b[t])||[];14=63=4e[1];2M=4e[2];if(!14){V(14 in 1J){z.1k.3l(a,14+b[t],c,d,T)}5C}1y=z.1k.1y[14]||{};14=(d?1y.6E:1y.9Q)||14;4h=1J[14]||[];af=4h.Q;2M=2M?2d 4T("(^|\\\\.)"+2M.2l(".").6a().5q("\\\\.(?:.*\\\\.)?")+"(\\\\.|$)"):12;V(j=0;j<4h.Q;j++){1C=4h[j];if((e||63===1C.63)&&(!c||c.1T===1C.1T)&&(!2M||2M.1c(1C.3u))&&(!d||d===1C.2j||d==="**"&&1C.2j)){4h.3s(j--,1);if(1C.2j){4h.4w--}if(1y.3l){1y.3l.1i(a,1C)}}}if(4h.Q===0&&af!==4h.Q){if(!1y.6J||1y.6J.1i(a,2M)===17){z.ai(a,14,f.1O)}3m 1J[14]}}if(z.7e(1J)){1O=f.1O;if(1O){1O.U=12}z.42(a,["1J","1O"],T)}},dK:{"eB":T,"eA":T,"ez":T},2U:O(a,b,c,d){if(c&&(c.1b===3||c.1b===8)){N}P e=a.14||a,2M=[],1A,7b,i,1d,2b,5k,1y,1O,5z,7h;if(ah.1c(e+z.1k.9T)){N}if(e.2z("!")>=0){e=e.2f(0,-1);7b=T}if(e.2z(".")>=0){2M=e.2l(".");e=2M.4F();2M.6a()}if((!c||z.1k.dK[e])&&!z.1k.6I[e]){N}a=1a a==="29"?a[z.2u]?a:2d z.5j(e,a):2d z.5j(e);a.14=e;a.7i=T;a.7b=7b;a.3u=2M.5q(".");a.at=a.3u?2d 4T("(^|\\\\.)"+2M.5q("\\\\.(?:.*\\\\.)?")+"(\\\\.|$)"):12;5k=e.2z(":")<0?"3c"+e:"";if(!c){1A=z.1A;V(i in 1A){if(1A[i].1J&&1A[i].1J[e]){z.1k.2U(a,b,1A[i].1O.U,T)}}N}a.2X=x;if(!a.1S){a.1S=c}b=b!=12?z.4S(b):[];b.4f(a);1y=z.1k.1y[e]||{};if(1y.2U&&1y.2U.1R(c,b)===17){N}5z=[[c,1y.9Q||e]];if(!d&&!1y.dJ&&!z.5i(c)){7h=1y.6E||e;1d=ah.1c(7h+e)?c:c.1h;2b=12;V(;1d;1d=1d.1h){5z.1x([1d,7h]);2b=1d}if(2b&&2b===c.2h){5z.1x([2b.3d||2b.dI||w,7h])}}V(i=0;i<5z.Q&&!a.9t();i++){1d=5z[i][0];a.14=5z[i][1];1O=(z.1D(1d,"1J")||{})[a.14]&&z.1D(1d,"1O");if(1O){1O.1R(1d,b)}1O=5k&&1d[5k];if(1O&&z.7G(1d)&&1O.1R(1d,b)===17){a.5h()}}a.14=e;if(!d&&!a.7m()){if((!1y.4j||1y.4j.1R(c.2h,b)===17)&&!(e==="5L"&&z.1j(c,"a"))&&z.7G(c)){if(5k&&c[e]&&((e!=="7n"&&e!=="9p")||a.1S.5J!==0)&&!z.5i(c)){2b=c[5k];if(2b){c[5k]=12}z.1k.9T=e;c[e]();z.1k.9T=x;if(2b){c[5k]=2b}}}}N a.2X},9S:O(a){a=z.1k.aD(a||w.1k);P b=((z.1D(6,"1J")||{})[a.14]||[]),4w=b.4w,6d=[].2f.1i(1r,0),dH=!a.7b&&!a.3u,7o=[],i,j,1d,7p,1e,7q,6N,2T,1C,6Q,7x;6d[0]=a;a.dG=6;if(4w&&!a.1S.3w&&!(a.2v&&a.14==="5L")){7p=z(6);7p.39=6.2h||6;V(1d=a.1S;1d!=6;1d=1d.1h||6){7q={};2T=[];7p[0]=1d;V(i=0;i<4w;i++){1C=b[i];6Q=1C.2j;if(7q[6Q]===x){7q[6Q]=(1C.9X?dN(1d,1C.9X):7p.is(6Q))}if(7q[6Q]){2T.1x(1C)}}if(2T.Q){7o.1x({U:1d,2T:2T})}}}if(b.Q>4w){7o.1x({U:6,2T:b.2f(4w)})}V(i=0;i<7o.Q&&!a.9t();i++){6N=7o[i];a.dF=6N.U;V(j=0;j<6N.2T.Q&&!a.aO();j++){1C=6N.2T[j];if(dH||(!a.3u&&!1C.3u)||a.at&&a.at.1c(1C.3u)){a.1f=1C.1f;a.1C=1C;1e=((z.1k.1y[1C.63]||{}).1O||1C.3C).1R(6N.U,6d);if(1e!==x){a.2X=1e;if(1e===17){a.5h();a.7E()}}}}}N a.2X},3v:"jm jj ji dE jg jf je dD dF jb b0 8Q ja 1S b3 j9 3h".2l(" "),8P:{},dC:{3v:"j8 b9 2Q dA".2l(" "),1n:O(a,b){if(a.3h==12){a.3h=b.b9!=12?b.b9:b.dA}N a}},dz:{3v:"2v j7 bf dy 6X j6 j4 bk dw j3 j2 du".2l(" "),1n:O(a,b){P c,27,1p,2v=b.2v,6X=b.6X;if(a.bk==12&&b.bf!=12){c=a.1S.2h||y;27=c.25;1p=c.1p;a.bk=b.bf+(27&&27.44||1p&&1p.44||0)-(27&&27.6U||1p&&1p.6U||0);a.dw=b.dy+(27&&27.3W||1p&&1p.3W||0)-(27&&27.6M||1p&&1p.6M||0)}if(!a.8Q&&6X){a.8Q=6X===a.1S?b.du:6X}if(!a.3h&&2v!==x){a.3h=(2v&1?1:(2v&2?3:(2v&4?2:0)))}N a}},aD:O(a){if(a[z.2u]){N a}P i,1N,40=a,83=z.1k.8P[a.14]||{},3E=83.3v?6.3v.6C(83.3v):6.3v;a=z.5j(40);V(i=3E.Q;i;){1N=3E[--i];a[1N]=40[1N]}if(!a.1S){a.1S=40.dE||y}if(a.1S.1b===3){a.1S=a.1S.1h}if(a.b0===x){a.b0=a.dD}N 83.1n?83.1n(a,40):a},1y:{3e:{64:z.aY},7s:{dJ:T},7n:{6E:"9m"},9p:{6E:"by"},j1:{64:O(a,b,c){if(z.5i(6)){6.bA=c}},6J:O(a,b){if(6.bA===b){6.bA=12}}}},8b:O(a,b,c,d){P e=z.1w(2d z.5j(),c,{14:a,bC:T,40:{}});if(d){z.1k.2U(e,12,b)}R{z.1k.9S.1i(b,e)}if(e.7m()){c.5h()}}};z.1k.1O=z.1k.9S;z.ai=y.79?O(a,b,c){if(a.79){a.79(b,c,17)}}:O(a,b,c){if(a.ag){a.ag("3c"+b,c)}};z.5j=O(a,b){if(!(6 6Z z.5j)){N 2d z.5j(a,b)}if(a&&a.14){6.40=a;6.14=a.14;6.7m=(a.j0||a.dr===17||a.dq&&a.dq())?8c:69}R{6.14=a}if(b){z.1w(6,b)}6.b3=a&&a.b3||z.3b();6[z.2u]=T};O 69(){N 17}O 8c(){N T}z.5j.2E={5h:O(){6.7m=8c;P e=6.40;if(!e){N}if(e.5h){e.5h()}R{e.dr=17}},7E:O(){6.9t=8c;P e=6.40;if(!e){N}if(e.7E){e.7E()}e.iZ=T},iY:O(){6.aO=8c;6.7E()},7m:69,9t:69,aO:69};z.1g({9V:"dm",9W:"dl"},O(c,d){z.1k.1y[c]={6E:d,9Q:d,1O:O(a){P b=6,7x=a.8Q,1C=a.1C,2j=1C.2j,1e;if(!7x||(7x!==b&&!z.34(b,7x))){a.14=1C.63;1e=1C.3C.1R(6,1r);a.14=d}N 1e}}});if(!z.1q.fr){z.1k.1y.6c={64:O(){if(z.1j(6,"3Q")){N 17}z.1k.23(6,"5L.8p dk.8p",O(e){P b=e.1S,3Q=z.1j(b,"1E")||z.1j(b,"2v")?b.3Q:x;if(3Q&&!3Q.dj){z.1k.23(3Q,"6c.8p",O(a){if(6.1h&&!a.7i){z.1k.8b("6c",6.1h,a,T)}});3Q.dj=T}})},6J:O(){if(z.1j(6,"3Q")){N 17}z.1k.3l(6,".8p")}}}if(!z.1q.fp){z.1k.1y.6B={64:O(){if(E.1c(6.1j)){if(6.14==="4v"||6.14==="3U"){z.1k.23(6,"iX.85",O(a){if(a.40.iV==="2C"){6.bT=T}});z.1k.23(6,"5L.85",O(a){if(6.bT&&!a.7i){6.bT=17;z.1k.8b("6B",6,a,T)}})}N 17}z.1k.23(6,"iU.85",O(e){P b=e.1S;if(E.1c(b.1j)&&!b.df){z.1k.23(b,"6B.85",O(a){if(6.1h&&!a.bC&&!a.7i){z.1k.8b("6B",6.1h,a,T)}});b.df=T}})},1O:O(a){P b=a.1S;if(6!==b||a.bC||a.7i||(b.14!=="3U"&&b.14!=="4v")){N a.1C.3C.1R(6,1r)}},6J:O(){z.1k.3l(6,".85");N E.1c(6.1j)}}}if(!z.1q.fo){z.1g({7n:"9m",9p:"by"},O(b,c){P d=0,3C=O(a){z.1k.8b(c,a.1S,z.1k.aD(a),T)};z.1k.1y[c]={64:O(){if(d++===0){y.52(b,3C,T)}},6J:O(){if(--d===0){y.79(b,3C,T)}}}})}z.fn.1w({3c:O(b,c,d,e,f){P g,14;if(1a b==="29"){if(1a c!=="1t"){d=c;c=x}V(14 in b){6.3c(14,c,d,b[14],f)}N 6}if(d==12&&e==12){e=c;d=c=x}R if(e==12){if(1a c==="1t"){e=d;d=x}R{e=d;d=c;c=x}}if(e===17){e=69}R if(!e){N 6}if(f===1){g=e;e=O(a){z().49(a);N g.1R(6,1r)};e.1T=g.1T||(g.1T=z.1T++)}N 6.1g(O(){z.1k.23(6,b,e,d,c)})},5p:O(a,b,c,d){N 6.3c.1i(6,a,b,c,d,1)},49:O(a,b,c){if(a&&a.5h&&a.1C){P d=a.1C;z(a.dG).49(d.3u?d.14+"."+d.3u:d.14,d.2j,d.3C);N 6}if(1a a==="29"){V(P e in a){6.49(e,b,a[e])}N 6}if(b===17||1a b==="O"){c=b;b=x}if(c===17){c=69}N 6.1g(O(){z.1k.3l(6,a,c,b)})},iT:O(a,b,c){N 6.3c(a,12,b,c)},iN:O(a,b){N 6.49(a,12,b)},iJ:O(a,b,c){z(6.39).3c(a,6.2j,b,c);N 6},iI:O(a,b){z(6.39).49(a,6.2j||"**",b);N 6},iH:O(a,b,c,d){N 6.3c(b,a,c,d)},iG:O(a,b,c){N 1r.Q==1?6.49(a,"**"):6.49(b,a,c)},2U:O(a,b){N 6.1g(O(){z.1k.2U(a,b,6)})},8B:O(a,b){if(6[0]){N z.1k.2U(a,b,6[0],T)}},3O:O(c){P d=1r,1T=c.1T||z.1T++,i=0,c2=O(a){P b=(z.1D(6,"d9"+c.1T)||0)%i;z.1D(6,"d9"+c.1T,b+1);a.5h();N d[b].1R(6,1r)||17};c2.1T=1T;1Y(i<d.Q){d[i++].1T=1T}N 6.5L(c2)},dL:O(a,b){N 6.9V(a).9W(b||a)}});z.1g(("9p 7n 9m by 7s iF 8L d8 5L iE "+"iB iA ix dm dl 9V 9W "+"6B 30 6c iv dk iu 2m dS").2l(" "),O(i,c){z.fn[c]=O(a,b){if(b==12){b=a;a=12}N 1r.Q>0?6.3c(c,12,a,b):6.2U(c)};if(z.93){z.93[c]=T}if(dU.1c(c)){z.1k.8P[c]=z.1k.dC}if(dT.1c(c)){z.1k.8P[c]=z.1k.dz}});(O(){P k=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|[\'"][^\'"]*[\'"]|[^\\[\\]\'"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,2u="ir"+(4n.eL()+\'\').1m(\'.\',\'\'),2B=0,5c=8y.2E.5c,7J=17,cf=T,5M=/\\\\/g,d2=/\\r\\n/g,7D=/\\W/;[0,0].6a(O(){cf=17;N 0});P n=O(a,b,c,d){c=c||[];b=b||y;P e=b;if(b.1b!==1&&b.1b!==9){N[]}if(!a||1a a!=="1t"){N c}P m,1B,2H,9j,1e,1d,3M,i,cn=T,7u=n.6o(b),1v=[],cq=a;do{k.22("");m=k.22(cq);if(m){cq=m[3];1v.1x(m[1]);if(m[2]){9j=m[3];2c}}}1Y(m);if(1v.Q>1&&q.22(a)){if(1v.Q===2&&p.46[1v[0]]){1B=u(1v[0]+1v[1],b,d)}R{1B=p.46[1v[0]]?[b]:n(1v.4F(),b);1Y(1v.Q){a=1v.4F();if(p.46[a]){a+=1v.4F()}1B=u(a,1B,d)}}}R{if(!d&&1v.Q>1&&b.1b===9&&!7u&&p.2a.4G.1c(1v[0])&&!p.2a.4G.1c(1v[1v.Q-1])){1e=n.2o(1v.4F(),b,7u);b=1e.2F?n.1n(1e.2F,1e.1B)[0]:1e.1B[0]}if(b){1e=d?{2F:1v.3M(),1B:s(d)}:n.2o(1v.3M(),1v.Q===1&&(1v[0]==="~"||1v[0]==="+")&&b.1h?b.1h:b,7u);1B=1e.2F?n.1n(1e.2F,1e.1B):1e.1B;if(1v.Q>0){2H=s(1B)}R{cn=17}1Y(1v.Q){1d=1v.3M();3M=1d;if(!p.46[1d]){1d=""}R{3M=1v.3M()}if(3M==12){3M=b}p.46[1d](2H,3M,7u)}}R{2H=1v=[]}}if(!2H){2H=1B}if(!2H){n.2m(1d||a)}if(5c.1i(2H)==="[29 3y]"){if(!cn){c.1x.1R(c,2H)}R if(b&&b.1b===1){V(i=0;2H[i]!=12;i++){if(2H[i]&&(2H[i]===T||2H[i].1b===1&&n.34(b,2H[i]))){c.1x(1B[i])}}}R{V(i=0;2H[i]!=12;i++){if(2H[i]&&2H[i].1b===1){c.1x(1B[i])}}}}R{s(2H,c)}if(9j){n(9j,e,c,d);n.cx(c)}N c};n.cx=O(a){if(t){7J=cf;a.6a(t);if(7J){V(P i=1;i<a.Q;i++){if(a[i]===a[i-1]){a.3s(i--,1)}}}}N a};n.2T=O(a,b){N n(a,12,12,b)};n.7j=O(a,b){N n(b,12,12,[a]).Q>0};n.2o=O(a,b,c){P d,i,6l,2a,r,1l;if(!a){N[]}V(i=0,6l=p.9D.Q;i<6l;i++){r=p.9D[i];if((2a=p.9E[r].22(a))){1l=2a[1];2a.3s(1,1);if(1l.7g(1l.Q-1)!=="\\\\"){2a[1]=(2a[1]||"").1m(5M,"");d=p.2o[r](2a,b,c);if(d!=12){a=a.1m(p.2a[r],"");2c}}}}if(!d){d=1a b.26!=="2G"?b.26("*"):[]}N{1B:d,2F:a}};n.1n=O(a,b,c,d){P e,5w,r,6i,7d,1n,1l,i,9J,2b=a,2X=[],4N=b,d1=b&&b[0]&&n.6o(b[0]);1Y(a&&b.Q){V(r in p.1n){if((e=p.9E[r].22(a))!=12&&e[2]){1n=p.1n[r];1l=e[1];5w=17;e.3s(1,1);if(1l.7g(1l.Q-1)==="\\\\"){5C}if(4N===2X){2X=[]}if(p.cI[r]){e=p.cI[r](e,4N,c,2X,d,d1);if(!e){5w=6i=T}R if(e===T){5C}}if(e){V(i=0;(7d=4N[i])!=12;i++){if(7d){6i=1n(7d,e,i,4N);9J=d^6i;if(c&&6i!=12){if(9J){5w=T}R{4N[i]=17}}R if(9J){2X.1x(7d);5w=T}}}}if(6i!==x){if(!c){4N=2X}a=a.1m(p.2a[r],"");if(!5w){N[]}2c}}}if(a===2b){if(5w==12){n.2m(a)}R{2c}}2b=a}N 4N};n.2m=O(a){am 2d al("iq 2m, ip io: "+a);};P o=n.cX=O(a){P i,2L,1b=a.1b,1e="";if(1b){if(1b===1||1b===9){if(1a a.9R===\'1t\'){N a.9R}R if(1a a.cQ===\'1t\'){N a.cQ.1m(d2,\'\')}R{V(a=a.1W;a;a=a.3z){1e+=o(a)}}}R if(1b===3||1b===4){N a.5D}}R{V(i=0;(2L=a[i]);i++){if(2L.1b!==8){1e+=o(2L)}}}N 1e};P p=n.cR={9D:["4G","cS","6h"],2a:{4G:/#((?:[\\w\\5s-\\60\\-]|\\\\.)+)/,6K:/\\.((?:[\\w\\5s-\\60\\-]|\\\\.)+)/,cS:/\\[1u=[\'"]*((?:[\\w\\5s-\\60\\-]|\\\\.)+)[\'"]*\\]/,cN:/\\[\\s*((?:[\\w\\5s-\\60\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:([\'"])(.*?)\\3|(#?(?:[\\w\\5s-\\60\\-]|\\\\.)*)|)|)\\s*\\]/,6h:/^((?:[\\w\\5s-\\60\\*\\-]|\\\\.)+)/,9L:/:(cZ|4Q|4t|2t)-im(?:\\(\\s*(8Y|8S|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,4q:/:(4Q|eq|gt|d5|2t|4t|8Y|8S)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,6y:/:((?:[\\w\\5s-\\60\\-]|\\\\.)+)(?:\\(([\'"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},9E:{},8N:{"5t":"1V","V":"e7"},8M:{3i:O(a){N a.2y("3i")},14:O(a){N a.2y("14")}},46:{"+":O(a,b){P c=1a b==="1t",c3=c&&!7D.1c(b),c0=c&&!c3;if(c3){b=b.1o()}V(P i=0,l=a.Q,U;i<l;i++){if((U=a[i])){1Y((U=U.6A)&&U.1b!==1){}a[i]=c0||U&&U.1j.1o()===b?U||17:U===b}}if(c0){n.1n(b,a,T)}},">":O(a,b){P c,8D=1a b==="1t",i=0,l=a.Q;if(8D&&!7D.1c(b)){b=b.1o();V(;i<l;i++){c=a[i];if(c){P d=c.1h;a[i]=d.1j.1o()===b?d:17}}}R{V(;i<l;i++){c=a[i];if(c){a[i]=8D?c.1h:c.1h===b}}if(8D){n.1n(b,a,T)}}},"":O(a,b,c){P d,54=2B++,6D=bV;if(1a b==="1t"&&!7D.1c(b)){b=b.1o();d=b;6D=bU}6D("1h",b,54,a,d,c)},"~":O(a,b,c){P d,54=2B++,6D=bV;if(1a b==="1t"&&!7D.1c(b)){b=b.1o();d=b;6D=bU}6D("6A",b,54,a,d,c)}},2o:{4G:O(a,b,c){if(1a b.5W!=="2G"&&!c){P m=b.5W(a[1]);N m&&m.1h?[m]:[]}},cS:O(a,b){if(1a b.dh!=="2G"){P c=[],8t=b.dh(a[1]);V(P i=0,l=8t.Q;i<l;i++){if(8t[i].2y("1u")===a[1]){c.1x(8t[i])}}N c.Q===0?12:c}},6h:O(a,b){if(1a b.26!=="2G"){N b.26(a[1])}}},cI:{6K:O(a,b,c,d,e,f){a=" "+a[1].1m(5M,"")+" ";if(f){N a}V(P i=0,U;(U=b[i])!=12;i++){if(U){if(e^(U.1V&&(" "+U.1V+" ").1m(/[\\t\\n\\r]/g," ").2z(a)>=0)){if(!c){d.1x(U)}}R if(c){b[i]=17}}}N 17},4G:O(a){N a[1].1m(5M,"")},6h:O(a,b){N a[1].1m(5M,"").1o()},9L:O(a){if(a[1]==="4Q"){if(!a[2]){n.2m(a[0])}a[2]=a[2].1m(/^\\+|\\s*/g,\'\');P b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.22(a[2]==="8Y"&&"2n"||a[2]==="8S"&&"2n+1"||!/\\D/.1c(a[2])&&"il+"+a[2]||a[2]);a[2]=(b[1]+(b[2]||1))-0;a[3]=b[3]-0}R if(a[2]){n.2m(a[0])}a[0]=2B++;N a},cN:O(a,b,c,d,e,f){P g=a[1]=a[1].1m(5M,"");if(!f&&p.8N[g]){a[1]=p.8N[g]}a[4]=(a[4]||a[5]||"").1m(5M,"");if(a[2]==="~="){a[4]=" "+a[4]+" "}N a},6y:O(a,b,c,d,e){if(a[1]==="6G"){if((k.22(a[3])||"").Q>1||/^\\w/.1c(a[3])){a[3]=n(a[3],12,12,b)}R{P f=n.1n(a[3],b,c,T^e);if(!c){d.1x.1R(d,f)}N 17}}R if(p.2a.4q.1c(a[0])||p.2a.9L.1c(a[0])){N T}N a},4q:O(a){a.4f(T);N a}},4k:{ik:O(a){N a.3w===17&&a.14!=="2W"},3w:O(a){N a.3w===T},2C:O(a){N a.2C===T},4K:O(a){if(a.1h){a.1h.7F}N a.4K===T},2s:O(a){N!!a.1W},6s:O(a){N!a.1W},9z:O(a,i,b){N!!n(b[3],a).Q},dp:O(a){N(/h\\d/i).1c(a.1j)},21:O(a){P b=a.2y("14"),r=a.14;N a.1j.1o()==="1E"&&"21"===r&&(b===r||b===12)},3U:O(a){N a.1j.1o()==="1E"&&"3U"===a.14},4v:O(a){N a.1j.1o()==="1E"&&"4v"===a.14},bF:O(a){N a.1j.1o()==="1E"&&"bF"===a.14},8h:O(a){N a.1j.1o()==="1E"&&"8h"===a.14},6c:O(a){P b=a.1j.1o();N(b==="1E"||b==="2v")&&"6c"===a.14},ds:O(a){N a.1j.1o()==="1E"&&"ds"===a.14},dt:O(a){P b=a.1j.1o();N(b==="1E"||b==="2v")&&"dt"===a.14},2v:O(a){P b=a.1j.1o();N b==="1E"&&"2v"===a.14||b==="2v"},1E:O(a){N(/1E|30|86|2v/i).1c(a.1j)},7n:O(a){N a===a.2h.ij}},dv:{2t:O(a,i){N i===0},4t:O(a,i,b,c){N i===c.Q-1},8Y:O(a,i){N i%2===0},8S:O(a,i){N i%2===1},d5:O(a,i,b){N i<b[3]-0},gt:O(a,i,b){N i>b[3]-0},4Q:O(a,i,b){N b[3]-0===i},eq:O(a,i,b){N b[3]-0===i}},1n:{6y:O(a,b,i,c){P d=b[1],1n=p.4k[d];if(1n){N 1n(a,i,b,c)}R if(d==="34"){N(a.9R||a.cQ||o([a])||"").2z(b[3])>=0}R if(d==="6G"){P e=b[3];V(P j=0,l=e.Q;j<l;j++){if(e[j]===a){N 17}}N T}R{n.2m(d)}},9L:O(a,b){P c,4t,54,2s,1A,3p,7T,r=b[1],2L=a;ii(r){8I"cZ":8I"2t":1Y((2L=2L.6A)){if(2L.1b===1){N 17}}if(r==="2t"){N T}2L=a;8I"4t":1Y((2L=2L.3z)){if(2L.1b===1){N 17}}N T;8I"4Q":c=b[2];4t=b[3];if(c===1&&4t===0){N T}54=b[0];2s=a.1h;if(2s&&(2s[2u]!==54||!a.bc)){3p=0;V(2L=2s.1W;2L;2L=2L.3z){if(2L.1b===1){2L.bc=++3p}}2s[2u]=54}7T=a.bc-4t;if(c===0){N 7T===0}R{N(7T%c===0&&7T/c>=0)}}},4G:O(a,b){N a.1b===1&&a.2y("id")===b},6h:O(a,b){N(b==="*"&&a.1b===1)||!!a.1j&&a.1j.1o()===b},6K:O(a,b){N(" "+(a.1V||a.2y("5t"))+" ").2z(b)>-1},cN:O(a,b){P c=b[1],2X=n.38?n.38(a,c):p.8M[c]?p.8M[c](a):a[c]!=12?a[c]:a.2y(c),1s=2X+"",r=b[2],3t=b[4];N 2X==12?r==="!=":!r&&n.38?2X!=12:r==="="?1s===3t:r==="*="?1s.2z(3t)>=0:r==="~="?(" "+1s+" ").2z(3t)>=0:!3t?1s&&2X!==17:r==="!="?1s!==3t:r==="^="?1s.2z(3t)===0:r==="$="?1s.7g(1s.Q-3t.Q)===3t:r==="|="?1s===3t||1s.7g(0,3t.Q+1)===3t+"-":17},4q:O(a,b,i,c){P d=b[2],1n=p.dv[d];if(1n){N 1n(a,i,b,c)}}}};P q=p.2a.4q,dB=O(a,b){N"\\\\"+(b-0+1)};V(P r in p.2a){p.2a[r]=2d 4T(p.2a[r].8O+(/(?![^\\[]*\\])(?![^\\(]*\\))/.8O));p.9E[r]=2d 4T(/(^(?:.|\\r|\\n)*?)/.8O+p.2a[r].8O.1m(/\\\\(\\d+)/g,dB))}P s=O(a,b){a=3y.2E.2f.1i(a,0);if(b){b.1x.1R(b,a);N b}N a};2e{3y.2E.2f.1i(y.25.3L,0)[0].1b}2k(e){s=O(a,b){P i=0,1e=b||[];if(5c.1i(a)==="[29 3y]"){3y.2E.1x.1R(1e,a)}R{if(1a a.Q==="3K"){V(P l=a.Q;i<l;i++){1e.1x(a[i])}}R{V(;a[i];i++){1e.1x(a[i])}}}N 1e}}P t,6W;if(y.25.5r){t=O(a,b){if(a===b){7J=T;N 0}if(!a.5r||!b.5r){N a.5r?-1:1}N a.5r(b)&4?-1:1}}R{t=O(a,b){if(a===b){7J=T;N 0}R if(a.8W&&b.8W){N a.8W-b.8W}P c,bl,ap=[],bp=[],9v=a.1h,9w=b.1h,1d=9v;if(9v===9w){N 6W(a,b)}R if(!9v){N-1}R if(!9w){N 1}1Y(1d){ap.4f(1d);1d=1d.1h}1d=9w;1Y(1d){bp.4f(1d);1d=1d.1h}c=ap.Q;bl=bp.Q;V(P i=0;i<c&&i<bl;i++){if(ap[i]!==bp[i]){N 6W(ap[i],bp[i])}}N i===c?6W(a,bp[i],-1):6W(ap[i],b,1)};6W=O(a,b,c){if(a===b){N c}P d=a.3z;1Y(d){if(d===b){N-1}d=d.3z}N 1}}(O(){P d=y.1Z("19"),id="2w"+(2d a2()).fT(),47=y.25;d.2Z="<a 1u=\'"+id+"\'/>";47.4u(d,47.1W);if(y.5W(id)){p.2o.4G=O(a,b,c){if(1a b.5W!=="2G"&&!c){P m=b.5W(a[1]);N m?m.id===a[1]||1a m.4O!=="2G"&&m.4O("id").5D===a[1]?[m]:x:[]}};p.1n.4G=O(a,b){P c=1a a.4O!=="2G"&&a.4O("id");N a.1b===1&&c&&c.5D===b}}47.3I(d);47=d=12})();(O(){P e=y.1Z("19");e.31(y.ih(""));if(e.26("*").Q>0){p.2o.6h=O(a,b){P c=b.26(a[1]);if(a[1]==="*"){P d=[];V(P i=0;c[i];i++){if(c[i].1b===1){d.1x(c[i])}}c=d}N c}}e.2Z="<a 3i=\'#\'></a>";if(e.1W&&1a e.1W.2y!=="2G"&&e.1W.2y("3i")!=="#"){p.8M.3i=O(a){N a.2y("3i",2)}}e=12})();if(y.5Q){(O(){P h=n,19=y.1Z("19"),id="ie";19.2Z="<p 5t=\'dP\'></p>";if(19.5Q&&19.5Q(".dP").Q===0){N}n=O(a,b,c,d){b=b||y;if(!d&&!n.6o(b)){P e=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.22(a);if(e&&(b.1b===1||b.1b===9)){if(e[1]){N s(b.26(a),c)}R if(e[2]&&p.2o.6K&&b.5O){N s(b.5O(e[2]),c)}}if(b.1b===9){if(a==="1p"&&b.1p){N s([b.1p],c)}R if(e&&e[3]){P f=b.5W(e[3]);if(f&&f.1h){if(f.id===e[3]){N s([f],c)}}R{N s([],c)}}2e{N s(b.5Q(a),c)}2k(ic){}}R if(b.1b===1&&b.1j.1o()!=="29"){P g=b,2b=b.2y("id"),7c=2b||id,an=b.1h,ao=/^\\s*[+~]/.1c(a);if(!2b){b.4E("id",7c)}R{7c=7c.1m(/\'/g,"\\\\$&")}if(ao&&an){b=b.1h}2e{if(!ao||an){N s(b.5Q("[id=\'"+7c+"\'] "+a),c)}}2k(dV){}ib{if(!2b){g.5g("id")}}}}N h(a,b,c,d)};V(P i in h){n[i]=h[i]}19=12})()}(O(){P d=y.25,2T=d.7j||d.ia||d.i9||d.i8;if(2T){P f=!2T.1i(y.1Z("19"),"19"),ax=17;2e{2T.1i(y.25,"[1c!=\'\']:i7")}2k(dV){ax=T}n.7j=O(a,b){b=b.1m(/\\=\\s*([^\'"\\]]*)\\s*\\]/g,"=\'$1\']");if(!n.6o(a)){2e{if(ax||!p.2a.6y.1c(b)&&!/!=/.1c(b)){P c=2T.1i(a,b);if(c||!f||a.45&&a.45.1b!==11){N c}}}2k(e){}}N n(b,12,12,[a]).Q>0}}})();(O(){P d=y.1Z("19");d.2Z="<19 5t=\'1c e\'></19><19 5t=\'1c\'></19>";if(!d.5O||d.5O("e").Q===0){N}d.9f.1V="e";if(d.5O("e").Q===1){N}p.9D.3s(1,0,"6K");p.2o.6K=O(a,b,c){if(1a b.5O!=="2G"&&!c){N b.5O(a[1])}};d=12})();O bU(a,b,c,d,e,f){V(P i=0,l=d.Q;i<l;i++){P g=d[i];if(g){P h=17;g=g[a];1Y(g){if(g[2u]===c){h=d[g.9s];2c}if(g.1b===1&&!f){g[2u]=c;g.9s=i}if(g.1j.1o()===b){h=g;2c}g=g[a]}d[i]=h}}}O bV(a,b,c,d,e,f){V(P i=0,l=d.Q;i<l;i++){P g=d[i];if(g){P h=17;g=g[a];1Y(g){if(g[2u]===c){h=d[g.9s];2c}if(g.1b===1){if(!f){g[2u]=c;g.9s=i}if(1a b!=="1t"){if(g===b){h=T;2c}}R if(n.1n(b,[g]).Q>0){h=g;2c}}g=g[a]}d[i]=h}}}if(y.25.34){n.34=O(a,b){N a!==b&&(a.34?a.34(b):T)}}R if(y.25.5r){n.34=O(a,b){N!!(a.5r(b)&16)}}R{n.34=O(){N 17}}n.6o=O(a){P b=(a?a.2h||a:0).25;N b?b.1j!=="i6":17};P u=O(a,b,c){P d,aJ=[],aK="",47=b.1b?[b]:b;1Y((d=p.2a.6y.22(a))){aK+=d[0];a=a.1m(p.2a.6y,"")}a=p.46[a]?a+"*":a;V(P i=0,l=47.Q;i<l;i++){n(a,47[i],aJ,c)}N n.1n(aK,aJ)};n.38=z.38;n.cR.8N={};z.2o=n;z.2F=n.cR;z.2F[":"]=z.2F.4k;z.6v=n.cx;z.21=n.cX;z.99=n.6o;z.34=n.34})();P F=/i5$/,e9=/^(?:ea|eb|aT)/,ed=/,/,ee=/^.[^:#\\[\\.,]*$/,2f=3y.2E.2f,4q=z.2F.2a.4q,ef={eg:T,4I:T,ei:T,4L:T};z.fn.1w({2o:O(a){P b=6,i,l;if(1a a!=="1t"){N z(a).1n(O(){V(i=0,l=b.Q;i<l;i++){if(z.34(b[i],6)){N T}}})}P c=6.3j("","2o",a),Q,n,r;V(i=0,l=6.Q;i<l;i++){Q=c.Q;z.2o(a,6[i],c);if(i>0){V(n=Q;n<c.Q;n++){V(r=0;r<Q;r++){if(c[r]===c[n]){c.3s(n--,1);2c}}}}}N c},9z:O(a){P b=z(a);N 6.1n(O(){V(P i=0,l=b.Q;i<l;i++){if(z.34(6,b[i])){N T}}})},6G:O(a){N 6.3j(b1(6,a,17),"6G",a)},1n:O(a){N 6.3j(b1(6,a,T),"1n",a)},is:O(a){N!!a&&(1a a==="1t"?4q.1c(a)?z(a,6.39).5f(6[0])>=0:z.1n(a,6).Q>0:6.1n(a).Q>0)},el:O(a,b){P c=[],i,l,1d=6[0];if(z.2K(a)){P d=1;1Y(1d&&1d.2h&&1d!==b){V(i=0;i<a.Q;i++){if(z(1d).is(a[i])){c.1x({2j:a[i],U:1d,i4:d})}}1d=1d.1h;d++}N c}P e=4q.1c(a)||1a a!=="1t"?z(a,b||6.39):0;V(i=0,l=6.Q;i<l;i++){1d=6[i];1Y(1d){if(e?e.5f(1d)>-1:z.2o.7j(1d,a)){c.1x(1d);2c}R{1d=1d.1h;if(!1d||!1d.2h||1d===b||1d.1b===11){2c}}}}c=c.Q>1?z.6v(c):c;N 6.3j(c,"el",a)},5f:O(a){if(!a){N(6[0]&&6[0].1h)?6.aT().Q:-1}if(1a a==="1t"){N z.61(6[0],z(a))}N z.61(a.6Y?a[0]:a,6)},23:O(a,b){P c=1a a==="1t"?z(a,b):z.4S(a&&a.1b?[a]:a),4U=z.70(6.1M(),c);N 6.3j(b7(c[0])||b7(4U[0])?4U:z.6v(4U))},i3:O(){N 6.23(6.aZ)}});O b7(a){N!a||!a.1h||a.1h.1b===11}z.1g({2s:O(a){P b=a.1h;N b&&b.1b!==11?b:12},ea:O(a){N z.5H(a,"1h")},i2:O(a,i,b){N z.5H(a,"1h",b)},ei:O(a){N z.4Q(a,2,"3z")},4L:O(a){N z.4Q(a,2,"6A")},i1:O(a){N z.5H(a,"3z")},aT:O(a){N z.5H(a,"6A")},i0:O(a,i,b){N z.5H(a,"3z",b)},eb:O(a,i,b){N z.5H(a,"6A",b)},hZ:O(a){N z.bI(a.1h.1W,a)},eg:O(a){N z.bI(a.1W)},4I:O(a){N z.1j(a,"3q")?a.ex||a.ey.45:z.4S(a.3L)}},O(d,e){z.fn[d]=O(a,b){P c=z.3n(6,e,a);if(!F.1c(d)){b=a}if(b&&1a b==="1t"){c=z.1n(b,c)}c=6.Q>1&&!ef[d]?z.6v(c):c;if((6.Q>1||ed.1c(b))&&e9.1c(d)){c=c.hY()}N 6.3j(c,d,2f.1i(1r).5q(","))}});z.1w({1n:O(a,b,c){if(c){a=":6G("+a+")"}N b.Q===1?z.2o.7j(b[0],a)?[b[0]]:[]:z.2o.2T(a,b)},5H:O(a,b,c){P d=[],1d=a[b];1Y(1d&&1d.1b!==9&&(c===x||1d.1b!==1||!z(1d).is(c))){if(1d.1b===1){d.1x(1d)}1d=1d[b]}N d},4Q:O(a,b,c,d){b=b||1;P e=0;V(;a;a=a[c]){if(a.1b===1&&++e===b){2c}}N a},bI:O(n,a){P r=[];V(;n;n=n.3z){if(n.1b===1&&n!==a){r.1x(n)}}N r}});O b1(c,d,e){d=d||0;if(z.1z(d)){N z.53(c,O(a,i){P b=!!d.1i(a,i,a);N b===e})}R if(d.1b){N z.53(c,O(a,i){N(a===d)===e})}R if(1a d==="1t"){P f=z.53(c,O(a){N a.1b===1});if(ee.1c(d)){N z.1n(d,f,!e)}R{d=z.1n(d,f)}}N z.53(c,O(a,i){N(z.61(a,d)>=0)===e})}O bW(a){P b=G.2l("|"),8J=a.9e();if(8J.1Z){1Y(b.Q){8J.1Z(b.3M())}}N 8J}P G="hX|hW|hU|hT|hS|hR|hQ|hP|hO|hN|"+"dp|hM|67|hJ|8r|hH|96|hE|hD|eR|hC",eT=/ 5Y\\d+="(?:\\d+|12)"/g,9r=/^\\s+/,cs=/<(?!eW|br|eY|cm|hr|hz|1E|bz|hy|73)(([\\w:]+)[^>]*)\\/>/ig,cW=/<([\\w:]+)/,f3=/<2x/i,f4=/<|&#?\\w+;/,f5=/<(?:2w|18)/i,f6=/<(?:2w|29|cm|35|18)/i,cM=2d 4T("<(?:"+G+")","i"),cL=/2C\\s*(?:[^=]|=\\s*.2C.)/i,f9=/\\/(hx|hw)2w/i,fc=/^\\s*<!(?:\\[hv\\[|\\-\\-)/,3a={35:[1,"<30 bu=\'bu\'>","</30>"],hu:[1,"<ff>","</ff>"],fg:[1,"<2I>","</2I>"],4X:[2,"<2I><2x>","</2x></2I>"],3H:[3,"<2I><2x><4X>","</4X></2x></2I>"],eY:[2,"<2I><2x></2x><ck>","</ck></2I>"],eW:[1,"<3n>","</3n>"],4j:[0,"",""]},ch=bW(y);3a.ec=3a.35;3a.2x=3a.ht=3a.ck=3a.hs=3a.fg;3a.hq=3a.3H;if(!z.1q.fw){3a.4j=[1,"19<19>","</19>"]}z.fn.1w({21:O(b){if(z.1z(b)){N 6.1g(O(i){P a=z(6);a.21(b.1i(6,i,a.21()))})}if(1a b!=="29"&&b!==x){N 6.6s().4x((6[0]&&6[0].2h||y).bX(b))}N z.21(6)},8u:O(b){if(z.1z(b)){N 6.1g(O(i){z(6).8u(b.1i(6,i))})}if(6[0]){P c=z(b,6[0].2h).eq(0).2R(T);if(6[0].1h){c.4u(6[0])}c.3n(O(){P a=6;1Y(a.1W&&a.1W.1b===1){a=a.1W}N a}).4x(6)}N 6},fq:O(b){if(z.1z(b)){N 6.1g(O(i){z(6).fq(b.1i(6,i))})}N 6.1g(O(){P a=z(6),4I=a.4I();if(4I.Q){4I.8u(b)}R{a.4x(b)}})},6e:O(a){P b=z.1z(a);N 6.1g(O(i){z(6).8u(b?a.1i(6,i):a)})},hp:O(){N 6.2s().1g(O(){if(!z.1j(6,"1p")){z(6).89(6.3L)}}).3o()},4x:O(){N 6.5X(1r,T,O(a){if(6.1b===1){6.31(a)}})},fv:O(){N 6.5X(1r,T,O(a){if(6.1b===1){6.4u(a,6.1W)}})},8g:O(){if(6[0]&&6[0].1h){N 6.5X(1r,17,O(a){6.1h.4u(a,6)})}R if(1r.Q){P b=z.8j(1r);b.1x.1R(b,6.b2());N 6.3j(b,"8g",1r)}},bi:O(){if(6[0]&&6[0].1h){N 6.5X(1r,17,O(a){6.1h.4u(a,6.3z)})}R if(1r.Q){P b=6.3j(6,"bi",1r);b.1x.1R(b,z.8j(1r));N b}},3l:O(a,b){V(P i=0,U;(U=6[i])!=12;i++){if(!a||z.1n(a,[U]).Q){if(!b&&U.1b===1){z.7O(U.26("*"));z.7O([U])}if(U.1h){U.1h.3I(U)}}}N 6},6s:O(){V(P i=0,U;(U=6[i])!=12;i++){if(U.1b===1){z.7O(U.26("*"))}1Y(U.1W){U.3I(U.1W)}}N 6},2R:O(a,b){a=a==12?17:a;b=b==12?a:b;N 6.3n(O(){N z.2R(6,a,b)})},2A:O(b){if(b===x){N 6[0]&&6[0].1b===1?6[0].2Z.1m(eT,""):12}R if(1a b==="1t"&&!f5.1c(b)&&(z.1q.bG||!9r.1c(b))&&!3a[(cW.22(b)||["",""])[1].1o()]){b=b.1m(cs,"<$1></$2>");2e{V(P i=0,l=6.Q;i<l;i++){if(6[i].1b===1){z.7O(6[i].26("*"));6[i].2Z=b}}}2k(e){6.6s().4x(b)}}R if(z.1z(b)){6.1g(O(i){P a=z(6);a.2A(b.1i(6,i,a.2A()))})}R{6.6s().4x(b)}N 6},89:O(b){if(6[0]&&6[0].1h){if(z.1z(b)){N 6.1g(O(i){P a=z(6),2b=a.2A();a.89(b.1i(6,i,2b))})}if(1a b!=="1t"){b=z(b).fB()}N 6.1g(O(){P a=6.3z,2s=6.1h;z(6).3l();if(a){z(a).8g(b)}R{z(2s).4x(b)}})}R{N 6.Q?6.3j(z(z.1z(b)?b():b),"89",b):6}},fB:O(a){N 6.3l(a,T)},5X:O(b,c,d){P e,2t,2p,2s,1s=b[0],90=[];if(!z.1q.cj&&1r.Q===3&&1a 1s==="1t"&&cL.1c(1s)){N 6.1g(O(){z(6).5X(b,c,d,T)})}if(z.1z(1s)){N 6.1g(O(i){P a=z(6);b[0]=1s.1i(6,i,c?a.2A():x);a.5X(b,c,d)})}if(6[0]){2s=1s&&1s.1h;if(z.1q.1h&&2s&&2s.1b===11&&2s.3L.Q===6.Q){e={2p:2s}}R{e=z.ba(b,6,90)}2p=e.2p;if(2p.3L.Q===1){2t=2p=2p.1W}R{2t=2p.1W}if(2t){c=c&&z.1j(2t,"4X");V(P i=0,l=6.Q,fD=l-1;i<l;i++){d.1i(c?47(6[i],2t):6[i],e.65||(l>1&&i<fD)?z.2R(2p,T,T):2p)}}if(90.Q){z.1g(90,fE)}}N 6}});O 47(a,b){N z.1j(a,"2I")?(a.26("2x")[0]||a.31(a.2h.1Z("2x"))):a}O aQ(a,b){if(b.1b!==1||!z.ci(a)){N}P c,i,l,aP=z.1D(a),6r=z.1D(b,aP),1J=aP.1J;if(1J){3m 6r.1O;6r.1J={};V(c in 1J){V(i=0,l=1J[c].Q;i<l;i++){z.1k.23(b,c+(1J[c][i].3u?".":"")+1J[c][i].3u,1J[c][i],1J[c][i].1f)}}}if(6r.1f){6r.1f=z.1w({},6r.1f)}}O aF(a,b){P c;if(b.1b!==1){N}if(b.fJ){b.fJ()}if(b.fK){b.fK(a)}c=b.1j.1o();if(c==="29"){b.8s=a.8s}R if(c==="1E"&&(a.14==="4v"||a.14==="3U")){if(a.2C){b.fL=b.2C=a.2C}if(b.1s!==a.1s){b.1s=a.1s}}R if(c==="35"){b.4K=a.ho}R if(c==="1E"||c==="86"){b.fN=a.fN}b.5g(z.2u)}z.ba=O(a,b,c){P d,65,6t,27,2t=a[0];if(b&&b[0]){27=b[0].2h||b[0]}if(!27.9e){27=y}if(a.Q===1&&1a 2t==="1t"&&2t.Q<hn&&27===y&&2t.bd(0)==="<"&&!f6.1c(2t)&&(z.1q.cj||!cL.1c(2t))&&(z.1q.bR||!cM.1c(2t))){65=T;6t=z.ak[2t];if(6t&&6t!==1){d=6t}}if(!d){d=27.9e();z.8j(a,27,d,c)}if(65){z.ak[2t]=6t?d:1}N{2p:d,65:65}};z.ak={};z.1g({fQ:"4x",hm:"fv",4u:"8g",hl:"bi",hk:"89"},O(d,e){z.fn[d]=O(a){P b=[],6F=z(a),2s=6.Q===1&&6[0].1h;if(2s&&2s.1b===11&&2s.3L.Q===1&&6F.Q===1){6F[e](6[0]);N 6}R{V(P i=0,l=6F.Q;i<l;i++){P c=(i>0?6.2R(T):6).1M();z(6F[i])[e](c);b=b.6C(c)}N 6.3j(b,d,6F.2j)}}});O 77(a){if(1a a.26!=="2G"){N a.26("*")}R if(1a a.5Q!=="2G"){N a.5Q("*")}R{N[]}}O ac(a){if(a.14==="4v"||a.14==="3U"){a.fL=a.2C}}O ae(a){P b=(a.1j||"").1o();if(b==="1E"){ac(a)}R if(b!=="2w"&&1a a.26!=="2G"){z.53(a.26("1E"),ac)}}O fY(a){P b=y.1Z("19");ch.31(b);b.2Z=a.8s;N b.1W}z.1w({2R:O(a,b,c){P d,66,i,2R=z.1q.bR||!cM.1c("<"+a.1j)?a.6g(T):fY(a);if((!z.1q.c5||!z.1q.fm)&&(a.1b===1||a.1b===11)&&!z.99(a)){aF(a,2R);d=77(a);66=77(2R);V(i=0;d[i];++i){if(66[i]){aF(d[i],66[i])}}}if(b){aQ(a,2R);if(c){d=77(a);66=77(2R);V(i=0;d[i];++i){aQ(d[i],66[i])}}}d=66=12;N 2R},8j:O(b,c,d,e){P f;c=c||y;if(1a c.1Z==="2G"){c=c.2h||c[0]&&c[0].2h||y}P g=[],j;V(P i=0,U;(U=b[i])!=12;i++){if(1a U==="3K"){U+=""}if(!U){5C}if(1a U==="1t"){if(!f4.1c(U)){U=c.bX(U)}R{U=U.1m(cs,"<$1></$2>");P h=(cW.22(U)||["",""])[1].1o(),6e=3a[h]||3a.4j,g0=6e[0],19=c.1Z("19");if(c===y){ch.31(19)}R{bW(c).31(19)}19.2Z=6e[1]+U+6e[2];1Y(g0--){19=19.9f}if(!z.1q.2x){P k=f3.1c(U),2x=h==="2I"&&!k?19.1W&&19.1W.3L:6e[1]==="<2I>"&&!k?19.3L:[];V(j=2x.Q-1;j>=0;--j){if(z.1j(2x[j],"2x")&&!2x[j].3L.Q){2x[j].1h.3I(2x[j])}}}if(!z.1q.bG&&9r.1c(U)){19.4u(c.bX(9r.22(U)[0]),19.1W)}U=19.3L}}P l;if(!z.1q.fh){if(U[0]&&1a(l=U.Q)==="3K"){V(j=0;j<l;j++){ae(U[j])}}R{ae(U)}}if(U.1b){g.1x(U)}R{g=z.70(g,U)}}if(d){f=O(a){N!a.14||f9.1c(a.14)};V(i=0;g[i];i++){if(e&&z.1j(g[i],"2w")&&(!g[i].14||g[i].14.1o()==="21/7a")){e.1x(g[i].1h?g[i].1h.3I(g[i]):g[i])}R{if(g[i].1b===1){P m=z.53(g[i].26("2w"),f);g.3s.1R(g,[i+1,0].6C(m))}d.31(g[i])}}}N g},7O:O(a){P b,id,1A=z.1A,1y=z.1k.1y,6b=z.1q.6b;V(P i=0,U;(U=a[i])!=12;i++){if(U.1j&&z.co[U.1j.1o()]){5C}id=U[z.2u];if(id){b=1A[id];if(b&&b.1J){V(P c in b.1J){if(1y[c]){z.1k.3l(U,c)}R{z.ai(U,c,b.1O)}}if(b.1O){b.1O.U=12}}if(6b){3m U[z.2u]}R if(U.5g){U.5g(z.2u)}3m 1A[id]}}}});O fE(i,a){if(a.3B){z.68({1Q:a.3B,3V:17,3A:"2w"})}R{z.a5((a.21||a.9R||a.2Z||"").1m(fc,"/*$0*/"))}if(a.1h){a.1h.3I(a)}}P H=/g6\\([^)]*\\)/i,g7=/2g=([^)]*)/,g8=/([A-Z]|^bM)/g,aE=/^-?\\d+(?:3P)?$/i,ga=/^-?\\d/,gb=/^([\\-+])=([\\-+.\\de]+)/,gd={36:"cu",fb:"2W",1F:"bL"},gf=["gg","hj"],gj=["gk","hi"],56,4J,2S;z.fn.1H=O(d,e){if(1r.Q===2&&e===x){N 6}N z.75(6,d,e,T,O(a,b,c){N c!==x?z.18(a,b,c):z.1H(a,b)})};z.1w({6z:{2g:{1M:O(a,b){if(b){P c=56(a,"2g","2g");N c===""?"1":c}R{N a.18.2g}}}},8K:{"hh":T,"hg":T,"hf":T,"2g":T,"he":T,"hd":T,"hc":T,"76":T},cg:{"8m":z.1q.8a?"8a":"ha"},18:O(a,b,c,d){if(!a||a.1b===3||a.1b===8||!a.18){N}P f,14,7r=z.5a(b),18=a.18,1P=z.6z[7r];b=z.cg[7r]||7r;if(c!==x){14=1a c;if(14==="1t"&&(f=gb.22(c))){c=(+(f[1]+1)*+f[2])+1X(z.1H(a,b));14="3K"}if(c==12||14==="3K"&&ar(c)){N}if(14==="3K"&&!z.8K[7r]){c+="3P"}if(!1P||!("1B"in 1P)||(c=1P.1B(a,c))!==x){2e{18[b]=c}2k(e){}}}R{if(1P&&"1M"in 1P&&(f=1P.1M(a,17,d))!==x){N f}N 18[b]}},1H:O(a,b,c){P d,1P;b=z.5a(b);1P=z.6z[b];b=z.cg[b]||b;if(b==="8a"){b="8m"}if(1P&&"1M"in 1P&&(d=1P.1M(a,T,c))!==x){N d}R if(56){N 56(a,b)}},cv:O(a,b,c){P d={};V(P e in b){d[e]=a.18[e];a.18[e]=b[e]}c.1i(a);V(e in b){a.18[e]=d[e]}}});z.56=z.1H;z.1g(["3g","2P"],O(i,e){z.6z[e]={1M:O(a,b,c){P d;if(b){if(a.5J!==0){N cw(a,e,c)}R{z.cv(a,gd,O(){d=cw(a,e,c)})}N d}},1B:O(a,b){if(aE.1c(b)){b=1X(b);if(b>=0){N b+"3P"}}R{N b}}}});if(!z.1q.2g){z.6z.2g={1M:O(a,b){N g7.1c((b&&a.2S?a.2S.1n:a.18.1n)||"")?(1X(4T.$1)/gB)+"":b?"1":""},1B:O(a,b){P c=a.18,2S=a.2S,2g=z.9A(b)?"g6(2g="+b*gB+")":"",1n=2S&&2S.1n||c.1n||"";c.76=1;if(b>=1&&z.3D(1n.1m(H,""))===""){c.5g("1n");if(2S&&!2S.1n){N}}c.1n=H.1c(1n)?1n.1m(H,2g):1n+" "+2g}}}z(O(){if(!z.1q.cd){z.6z.5G={1M:O(a,b){P c;z.cv(a,{"1F":"78-bL"},O(){if(b){c=56(a,"6O-h9","5G")}R{c=a.18.5G}});N c}}}});if(y.3d&&y.3d.4J){4J=O(a,b){P c,3d,cz;b=b.1m(g8,"-$1").1o();if((3d=a.2h.3d)&&(cz=3d.4J(a,12))){c=cz.h4(b);if(c===""&&!z.34(a.2h.25,a)){c=z.18(a,b)}}N c}}if(y.25.2S){2S=O(a,b){P c,7f,cK,1e=a.2S&&a.2S[b],18=a.18;if(1e===12&&18&&(cK=18[b])){1e=cK}if(!aE.1c(1e)&&ga.1c(1e)){c=18.1l;7f=a.9M&&a.9M.1l;if(7f){a.9M.1l=a.2S.1l}18.1l=b==="h2"?"gU":(1e||0);1e=18.gR+"3P";18.1l=c;if(7f){a.9M.1l=7f}}N 1e===""?"9B":1e}}56=4J||2S;O cw(a,b,c){P d=b==="2P"?a.5J:a.9Y,3h=b==="2P"?gf:gj,i=0,6l=3h.Q;if(d>0){if(c!=="5T"){V(;i<6l;i++){if(!c){d-=1X(z.1H(a,"6T"+3h[i]))||0}if(c==="6O"){d+=1X(z.1H(a,c+3h[i]))||0}R{d-=1X(z.1H(a,"5T"+3h[i]+"cO"))||0}}}N d+"3P"}d=56(a,b,b);if(d<0||d==12){d=a.18[b]||0}d=1X(d)||0;if(c){V(;i<6l;i++){d+=1X(z.1H(a,"6T"+3h[i]))||0;if(c!=="6T"){d+=1X(z.1H(a,"5T"+3h[i]+"cO"))||0}if(c==="6O"){d+=1X(z.1H(a,c+3h[i]))||0}}}N d+"3P"}if(z.2F&&z.2F.4k){z.2F.4k.2W=O(a){P b=a.5J,3g=a.9Y;N(b===0&&3g===0)||(!z.1q.f2&&((a.18&&a.18.1F)||z.1H(a,"1F"))==="4b")};z.2F.4k.gL=O(a){N!z.2F.4k.2W(a)}}P I=/%20/g,gM=/\\[\\]$/,bs=/\\r?\\n/g,gO=/#.*$/,gP=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/gQ,gJ=/^(?:gS|gT|gI|gI-gV|gW|2W|gX|3K|8h|gY|gZ|h0|21|eR|1Q|h1)$/i,gH=/^(?:h3|gE|gE\\-h5|.+\\-h6|bF|h7|h8):$/,gC=/^(?:9g|hb)$/,gv=/^\\/\\//,cb=/\\?/,gs=/<2w\\b[^<]*(?:(?!<\\/2w>)<[^<]*)*<\\/2w>/gi,gr=/^(?:30|86)/i,ca=/\\s+/,gp=/([?&])4o=[^&]*/,bP=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,bO=z.fn.7s,8A={},a4={},4Z,4V,aq=["*/"]+["*"];2e{4Z=cU.3i}2k(e){4Z=y.1Z("a");4Z.3i="";4Z=4Z.3i}4V=bP.22(4Z.1o())||[];O av(d){N O(a,b){if(1a a!=="1t"){b=a;a="*"}if(z.1z(b)){P c=a.1o().2l(ca),i=0,Q=c.Q,3A,bK,8X;V(;i<Q;i++){3A=c[i];8X=/^\\+/.1c(3A);if(8X){3A=3A.7g(1)||"*"}bK=d[3A]=d[3A]||[];bK[8X?"4f":"1x"](b)}}}}O 7H(a,b,c,d,e,f){e=e||b.2r[0];f=f||{};f[e]=T;P g=a[e],i=0,Q=g?g.Q:0,9k=(a===8A),3G;V(;i<Q&&(9k||!3G);i++){3G=g[i](b,c,d);if(1a 3G==="1t"){if(!9k||f[3G]){3G=x}R{b.2r.4f(3G);3G=7H(a,b,c,d,3G,f)}}}if((9k||!3G)&&!f["*"]){3G=7H(a,b,c,d,"*",f)}N 3G}O cy(a,b){P c,4m,9I=z.4R.9I||{};V(c in b){if(b[c]!==x){(9I[c]?a:(4m||(4m={})))[c]=b[c]}}if(4m){z.1w(T,a,4m)}}z.fn.1w({7s:O(d,e,f){if(1a d!=="1t"&&bO){N bO.1R(6,1r)}R if(!6.Q){N 6}P g=d.2z(" ");if(g>=0){P h=d.2f(g,d.Q);d=d.2f(0,g)}P i="9g";if(e){if(z.1z(e)){f=e;e=x}R if(1a e==="29"){e=z.73(e,z.4R.cF);i="hA"}}P j=6;z.68({1Q:d,14:i,3A:"2A",1f:e,2N:O(a,b,c){c=a.cB;if(a.fG()){a.2B(O(r){c=r});j.2A(h?z("<19>").4x(c.1m(gs,"")).2o(h):c)}if(f){j.1g(f,[c,b,a])}}});N 6},hB:O(){N z.73(6.eX())},eX:O(){N 6.3n(O(){N 6.3X?z.4S(6.3X):6}).1n(O(){N 6.1u&&!6.3w&&(6.2C||gr.1c(6.1j)||gJ.1c(6.14))}).3n(O(i,b){P c=z(6).1K();N c==12?12:z.2K(c)?z.3n(c,O(a,i){N{1u:b.1u,1s:a.1m(bs,"\\r\\n")}}):{1u:b.1u,1s:c.1m(bs,"\\r\\n")}}).1M()}});z.1g("eS eQ eP hF hG eO".2l(" "),O(i,o){z.fn[o]=O(f){N 6.3c(o,f)}});z.1g(["1M","hI"],O(i,e){z[e]=O(a,b,c,d){if(z.1z(b)){d=d||c;c=b;b=x}N z.68({14:e,1Q:a,1f:b,4r:c,3A:d})}});z.1w({hK:O(a,b){N z.1M(a,x,b,"2w")},hL:O(a,b,c){N z.1M(a,b,c,"4i")},9n:O(a,b){if(b){cy(a,z.4R)}R{b=a;a=z.4R}cy(a,b);N a},4R:{1Q:4Z,cp:gH.1c(4V[1]),6I:T,14:"9g",7t:"5y/x-eJ-3Q-eI",eH:T,3V:T,7y:{3f:"5y/3f, 21/3f",2A:"21/2A",21:"21/hV",4i:"5y/4i, 21/7a","*":aq},4I:{3f:/3f/,2A:/2A/,4i:/4i/},7M:{3f:"eD",21:"cB"},3r:{"* 21":w.8C,"21 2A":T,"21 4i":z.aj,"21 3f":z.g1},9I:{39:T,1Q:T}},bE:av(8A),bD:av(a4),68:O(g,h){if(1a g==="29"){h=g;g=x}h=h||{};P s=z.9n({},h),4y=s.39||s,8n=4y!==s&&(4y.1b||4y 6Z z)?z(4y):z.1k,1U=z.7w(),bx=z.5V("51 2i"),5e=s.5e||{},43,aG={},aC={},9u,5n,5E,9C,1v,28=0,6w,i,1G={4c:0,5P:O(a,b){if(!28){P c=a.1o();a=aC[c]=aC[c]||a;aG[a]=b}N 6},dM:O(){N 28===2?9u:12},8H:O(a){P b;if(28===2){if(!5n){5n={};1Y((b=gP.22(9u))){5n[b[1].1o()]=b[2]}}b=5n[a.1o()]}N b===x?12:b},bq:O(a){if(!28){s.8l=a}N 6},5b:O(a){a=a||"5b";if(5E){5E.5b(a)}2B(0,a);N 6}};O 2B(a,b,c,d){if(28===2){N}28=2;if(9C){eu(9C)}5E=x;9u=d||"";1G.4c=a>0?4:0;P f,4r,2m,2O=b,cY=c?d0(s,1G,c):x,5F,5o;if(a>=8V&&a<it||a===d3){if(s.d4){if((5F=1G.8H("iw-d6"))){z.5F[43]=5F}if((5o=1G.8H("iy"))){z.5o[43]=5o}}if(a===d3){2O="iz";f=T}R{2e{4r=d7(s,cY);2O="4r";f=T}2k(e){2O="fV";2m=e}}}R{2m=2O;if(!2O||a){2O="2m";if(a<0){a=0}}}1G.c8=a;1G.2O=""+(b||2O);if(f){1U.7R(4y,[4r,2O,1G])}R{1U.iC(4y,[1G,2O,2m])}1G.5e(5e);5e=x;if(6w){8n.2U("68"+(f?"iD":"al"),[1G,s,f?4r:2m])}bx.6R(4y,[1G,2O]);if(6w){8n.2U("eP",[1G,s]);if(!(--z.c7)){z.1k.2U("eQ")}}}1U.2q(1G);1G.4r=1G.2B;1G.2m=1G.6p;1G.2N=bx.23;1G.5e=O(a){if(a){P b;if(28<2){V(b in a){5e[b]=[5e[b],a[b]]}}R{b=a[1G.c8];1G.91(b,b)}}N 6};s.1Q=((g||s.1Q)+"").1m(gO,"").1m(gv,4V[1]+"//");s.2r=z.3D(s.3A||"*").1o().2l(ca);if(s.5U==12){1v=bP.22(s.1Q.1o());s.5U=!!(1v&&(1v[1]!=4V[1]||1v[2]!=4V[2]||(1v[3]||(1v[1]==="da:"?80:db))!=(4V[3]||(4V[1]==="da:"?80:db))))}if(s.1f&&s.eH&&1a s.1f!=="1t"){s.1f=z.73(s.1f,s.cF)}7H(8A,s,h,1G);if(28===2){N 17}6w=s.6I;s.14=s.14.8e();s.8x=!gC.1c(s.14);if(6w&&z.c7++===0){z.1k.2U("eS")}if(!s.8x){if(s.1f){s.1Q+=(cb.1c(s.1Q)?"&":"?")+s.1f;3m s.1f}43=s.1Q;if(s.1A===17){P j=z.3b(),1e=s.1Q.1m(gp,"$iK="+j);s.1Q=1e+((1e===s.1Q)?(cb.1c(s.1Q)?"&":"?")+"4o="+j:"")}}if(s.1f&&s.8x&&s.7t!==17||h.7t){1G.5P("iL-iM",s.7t)}if(s.d4){43=43||s.1Q;if(z.5F[43]){1G.5P("dc-d6-iO",z.5F[43])}if(z.5o[43]){1G.5P("dc-iP-iQ",z.5o[43])}}1G.5P("iR",s.2r[0]&&s.7y[s.2r[0]]?s.7y[s.2r[0]]+(s.2r[0]!=="*"?", "+aq+"; q=0.iS":""):s.7y["*"]);V(i in s.dd){1G.5P(i,s.dd[i])}if(s.dg&&(s.dg.1i(4y,1G,s)===17||28===2)){1G.5b();N 17}V(i in{4r:1,2m:1,2N:1}){1G[i](s[i])}5E=7H(a4,s,h,1G);if(!5E){2B(-1,"di iW")}R{1G.4c=1;if(6w){8n.2U("eO",[1G,s])}if(s.3V&&s.bQ>0){9C=5R(O(){1G.5b("bQ")},s.bQ)}2e{28=1;5E.8k(aG,2B)}2k(e){if(28<2){2B(-1,e)}R{am e;}}}N 1G},73:O(a,c){P s=[],23=O(a,b){b=z.1z(b)?b():b;s[s.Q]=dn(a)+"="+dn(b)};if(c===x){c=z.4R.cF}if(z.2K(a)||(a.6Y&&!z.7Q(a))){z.1g(a,O(){23(6.1u,6.1s)})}R{V(P d in a){8i(d,a[d],c,23)}}N s.5q("&").1m(I,"+")}});O 8i(a,b,c,d){if(z.2K(b)){z.1g(b,O(i,v){if(c||gM.1c(a)){d(a,v)}R{8i(a+"["+(1a v==="29"||z.2K(v)?i:"")+"]",v,c,d)}})}R if(!c&&b!=12&&1a b==="29"){V(P e in b){8i(a+"["+e+"]",b[e],c,d)}}R{d(a,b)}}z.1w({c7:0,5F:{},5o:{}});O d0(s,a,b){P c=s.4I,2r=s.2r,7M=s.7M,ct,14,4C,8F;V(14 in 7M){if(14 in b){a[7M[14]]=b[14]}}1Y(2r[0]==="*"){2r.4F();if(ct===x){ct=s.8l||a.8H("j5-14")}}if(ct){V(14 in c){if(c[14]&&c[14].1c(ct)){2r.4f(14);2c}}}if(2r[0]in b){4C=2r[0]}R{V(14 in b){if(!2r[0]||s.3r[14+" "+2r[0]]){4C=14;2c}if(!8F){8F=14}}4C=4C||8F}if(4C){if(4C!==2r[0]){2r.4f(4C)}N b[4C]}}O d7(s,a){if(s.dx){a=s.dx(a,s.3A)}P b=s.2r,3r={},i,2Q,Q=b.Q,3J,4p=b[0],4L,7N,4A,4P,5m;V(i=1;i<Q;i++){if(i===1){V(2Q in s.3r){if(1a 2Q==="1t"){3r[2Q.1o()]=s.3r[2Q]}}}4L=4p;4p=b[i];if(4p==="*"){4p=4L}R if(4L!=="*"&&4L!==4p){7N=4L+" "+4p;4A=3r[7N]||3r["* "+4p];if(!4A){5m=x;V(4P in 3r){3J=4P.2l(" ");if(3J[0]===4L||3J[0]==="*"){5m=3r[3J[1]+" "+4p];if(5m){4P=3r[4P];if(4P===T){4A=5m}R if(5m===T){4A=4P}2c}}}}if(!(4A||5m)){z.2m("di 7N jc "+7N.1m(" "," jd "))}if(4A!==T){a=4A?4A(a):5m(4P(a))}}}N a}P J=z.3b(),7L=/(\\=)\\?(&|$)|\\?\\?/i;z.9n({6V:"jh",3k:O(){N z.2u+"4o"+(J++)}});z.bE("4i 6V",O(s,b,c){P d=s.7t==="5y/x-eJ-3Q-eI"&&(1a s.1f==="1t");if(s.2r[0]==="6V"||s.6V!==17&&(7L.1c(s.1Q)||d&&7L.1c(s.1f))){P e,3k=s.3k=z.1z(s.3k)?s.3k():s.3k,aS=w[3k],1Q=s.1Q,1f=s.1f,1m="$1"+3k+"$2";if(s.6V!==17){1Q=1Q.1m(7L,1m);if(s.1Q===1Q){if(d){1f=1f.1m(7L,1m)}if(s.1f===1f){1Q+=(/\\?/.1c(1Q)?"&":"?")+s.6V+"="+3k}}}s.1Q=1Q;s.1f=1f;w[3k]=O(a){e=[a]};c.fC(O(){w[3k]=aS;if(e&&z.1z(aS)){w[3k](e[0])}});s.3r["2w 4i"]=O(){if(!e){z.2m(3k+" jk 6G jl")}N e[0]};s.2r[0]="4i";N"2w"}});z.9n({7y:{2w:"21/7a, 5y/7a, 5y/aR, 5y/x-aR"},4I:{2w:/7a|aR/},3r:{"21 2w":O(a){z.a5(a);N a}}});z.bE("2w",O(s){if(s.1A===x){s.1A=17}if(s.5U){s.14="9g";s.6I=17}});z.bD("2w",O(s){if(s.5U){P c,5N=y.5N||y.26("5N")[0]||y.25;N{8k:O(4o,b){c=y.1Z("2w");c.3V="3V";if(s.dR){c.jp=s.dR}c.3B=s.1Q;c.9l=c.6P=O(4o,a){if(a||!c.4c||/jq|2N/.1c(c.4c)){c.9l=c.6P=12;if(5N&&c.1h){5N.3I(c)}c=x;if(!a){b(8V,"4r")}}};5N.4u(c,5N.1W)},5b:O(){if(c){c.9l(0,1)}}}}});P K=w.9O?O(){V(P a in 5K){5K[a](0,1)}}:17,dX=0,5K;O au(){2e{N 2d w.dY()}2k(e){}}O dZ(){2e{N 2d w.9O("fW.jx")}2k(e){}}z.4R.ay=w.9O?O(){N!6.cp&&au()||dZ()}:au;(O(a){z.1w(z.1q,{68:!!a,e2:!!a&&("jA"in a)})})(z.4R.ay());if(z.1q.68){z.bD(O(s){if(!s.5U||z.1q.e2){P g;N{8k:O(c,d){P f=s.ay(),1O,i;if(s.e3){f.bt(s.14,s.1Q,s.3V,s.e3,s.8h)}R{f.bt(s.14,s.1Q,s.3V)}if(s.aA){V(i in s.aA){f[i]=s.aA[i]}}if(s.8l&&f.bq){f.bq(s.8l)}if(!s.5U&&!c["X-e4-8U"]){c["X-e4-8U"]="dY"}2e{V(i in c){f.5P(i,c[i])}}2k(4o){}f.8k((s.8x&&s.1f)||12);g=O(4o,a){P b,2O,5n,5v,3f;2e{if(g&&(a||f.4c===4)){g=x;if(1O){f.6P=z.a8;if(K){3m 5K[1O]}}if(a){if(f.4c!==4){f.5b()}}R{b=f.c8;5n=f.dM();5v={};3f=f.eD;if(3f&&3f.25){5v.3f=3f}5v.21=f.cB;2e{2O=f.2O}2k(e){2O=""}if(!b&&s.cp&&!s.5U){b=5v.21?8V:jG}R if(b===jH){b=jI}}}}2k(e5){if(!a){d(-1,e5)}}if(5v){d(b,2O,5v,5n)}};if(!s.3V||f.4c===4){g()}R{1O=++dX;if(K){if(!5K){5K={};z(w).d8(K)}5K[1O]=g}f.6P=g}},5b:O(){if(g){g(0,1)}}}}})}P L={},3q,5u,e6=/^(?:3O|32|33)$/,e8=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,7C,bg=[["3g","bn","jS","jT","jU"],["2P","bo","5G","f1","jW"],["2g"]],72;z.fn.1w({32:O(a,b,c){P d,1F;if(a||a===0){N 6.6k(5A("32",3),a,b,c)}R{V(P i=0,j=6.Q;i<j;i++){d=6[i];if(d.18){1F=d.18.1F;if(!z.1D(d,"7Y")&&1F==="4b"){1F=d.18.1F=""}if(1F===""&&z.1H(d,"1F")==="4b"){z.1D(d,"7Y",bw(d.1j))}}}V(i=0;i<j;i++){d=6[i];if(d.18){1F=d.18.1F;if(1F===""||1F==="4b"){d.18.1F=z.1D(d,"7Y")||""}}}N 6}},33:O(a,b,c){if(a||a===0){N 6.6k(5A("33",3),a,b,c)}R{P d,1F,i=0,j=6.Q;V(;i<j;i++){d=6[i];if(d.18){1F=z.1H(d,"1F");if(1F!=="4b"&&!z.1D(d,"7Y")){z.1D(d,"7Y",1F)}}}V(i=0;i<j;i++){if(6[i].18){6[i].18.1F="4b"}}N 6}},et:z.fn.3O,3O:O(b,c,d){P e=1a b==="7K";if(z.1z(b)&&z.1z(c)){6.et.1R(6,1r)}R if(b==12||e){6.1g(O(){P a=e?b:z(6).is(":2W");z(6)[a?"32":"33"]()})}R{6.6k(5A("3O",3),b,c,d)}N 6},k3:O(a,b,c,d){N 6.1n(":2W").1H("2g",0).32().3o().6k({2g:b},a,c,d)},6k:O(b,c,d,f){P g=z.ev(c,d,f);if(z.7e(b)){N 6.1g(g.2N,[17])}b=z.1w({},b);O bZ(){if(g.24===17){z.ew(6)}P a=z.1w({},g),c4=6.1b===1,2W=c4&&z(6).is(":2W"),1u,1K,p,e,1v,3F,3o,4a,7A;a.50={};V(p in b){1u=z.5a(p);if(p!==1u){b[1u]=b[p];3m b[p]}1K=b[1u];if(z.2K(1K)){a.50[1u]=1K[1];1K=b[1u]=1K[0]}R{a.50[1u]=a.eG&&a.eG[1u]||a.9i||\'eK\'}if(1K==="33"&&2W||1K==="32"&&!2W){N a.2N.1i(6)}if(c4&&(1u==="3g"||1u==="2P")){a.4s=[6.18.4s,6.18.ke,6.18.kf];if(z.1H(6,"1F")==="78"&&z.1H(6,"8m")==="4b"){if(!z.1q.c6||bw(6.1j)==="78"){6.18.1F="78-bL"}R{6.18.76=1}}}}if(a.4s!=12){6.18.4s="2W"}V(p in b){e=2d z.fx(6,a,p);1K=b[p];if(e6.1c(1K)){7A=z.1D(6,"3O"+p)||(1K==="3O"?2W?"32":"33":0);if(7A){z.1D(6,"3O"+p,7A==="32"?"33":"32");e[7A]()}R{e[1K]()}}R{1v=e8.22(1K);3F=e.1d();if(1v){3o=1X(1v[2]);4a=1v[3]||(z.8K[p]?"":"3P");if(4a!=="3P"){z.18(6,p,(3o||1)+4a);3F=((3o||1)/e.1d())*3F;z.18(6,p,3F+4a)}if(1v[1]){3o=((1v[1]==="-="?-1:1)*3o)+3F}e.6S(3F,3o,4a)}R{e.6S(3F,1K,"")}}}N T}N g.24===17?6.1g(bZ):6.24(g.24,bZ)},5S:O(f,g,h){if(1a f!=="1t"){h=g;g=f;f=x}if(g&&f!==17){6.24(f||"fx",[])}N 6.1g(O(){P e,cD=17,2D=z.2D,1f=z.1D(6);if(!h){z.bN(T,6)}O cG(a,b,c){P d=b[c];z.42(a,c,T);d.5S(h)}if(f==12){V(e in 1f){if(1f[e]&&1f[e].5S&&e.2z(".8f")===e.Q-4){cG(6,1f,e)}}}R if(1f[e=f+".8f"]&&1f[e].5S){cG(6,1f,e)}V(e=2D.Q;e--;){if(2D[e].U===6&&(f==12||2D[e].24===f)){if(h){2D[e](T)}R{2D[e].fa()}cD=T;2D.3s(e,1)}}if(!(h&&cD)){z.5Z(6,f)}})}});O cA(){5R(fd,0);N(72=z.3b())}O fd(){72=x}O 5A(a,b){P c={};z.1g(bg.6C.1R([],bg.2f(0,b)),O(){c[6]=a});N c}z.1g({km:5A("32",1),kn:5A("33",1),ko:5A("3O",1),kp:{2g:"32"},kq:{2g:"33"},kr:{2g:"3O"}},O(d,e){z.fn[d]=O(a,b,c){N 6.6k(e,a,b,c)}});z.1w({ev:O(b,c,d){P e=b&&1a b==="29"?z.1w({},b):{2N:d||!d&&c||z.1z(b)&&b,3T:b,9i:d&&c||c&&!z.1z(c)&&c};e.3T=z.fx.49?0:1a e.3T==="3K"?e.3T:e.3T in z.fx.8d?z.fx.8d[e.3T]:z.fx.8d.4j;if(e.24==12||e.24===T){e.24="fx"}e.2b=e.2N;e.2N=O(a){if(z.1z(e.2b)){e.2b.1i(6)}if(e.24){z.5Z(6,e.24)}R if(a!==17){z.bN(6)}};N e},9i:{kt:O(p,n,a,b){N a+b*p},eK:O(p,n,a,b){N((-4n.ku(p*4n.kv)/2)+0.5)*b+a}},2D:[],fx:O(a,b,c){6.1L=b;6.U=a;6.1N=c;b.7U=b.7U||{}}});z.fx.2E={b6:O(){if(6.1L.5l){6.1L.5l.1i(6.U,6.3b,6)}(z.fx.5l[6.1N]||z.fx.5l.4j)(6)},1d:O(){if(6.U[6.1N]!=12&&(!6.U.18||6.U.18[6.1N]==12)){N 6.U[6.1N]}P a,r=z.1H(6.U,6.1N);N ar(a=1X(r))?!r||r==="9B"?0:r:a},6S:O(b,c,d){P e=6,fx=z.fx;6.aW=72||cA();6.3o=c;6.3b=6.3F=b;6.8T=6.28=0;6.4a=d||6.4a||(z.8K[6.1N]?"":"3P");O t(a){N e.5l(a)}t.24=6.1L.24;t.U=6.U;t.fa=O(){if(e.1L.33&&z.1D(e.U,"7I"+e.1N)===x){z.1D(e.U,"7I"+e.1N,e.3F)}};if(t()&&z.2D.1x(t)&&!7C){7C=aw(fx.fF,fx.fH)}},32:O(){P a=z.1D(6.U,"7I"+6.1N);6.1L.7U[6.1N]=a||z.18(6.U,6.1N);6.1L.32=T;if(a!==x){6.6S(6.1d(),a)}R{6.6S(6.1N==="2P"||6.1N==="3g"?1:0,6.1d())}z(6.U).32()},33:O(){6.1L.7U[6.1N]=z.1D(6.U,"7I"+6.1N)||z.18(6.U,6.1N);6.1L.33=T;6.6S(6.1d(),0)},5l:O(c){P p,n,2N,t=72||cA(),2B=T,U=6.U,1L=6.1L;if(c||t>=1L.3T+6.aW){6.3b=6.3o;6.8T=6.28=1;6.b6();1L.50[6.1N]=T;V(p in 1L.50){if(1L.50[p]!==T){2B=17}}if(2B){if(1L.4s!=12&&!z.1q.c9){z.1g(["","X","Y"],O(a,b){U.18["4s"+b]=1L.4s[a]})}if(1L.33){z(U).33()}if(1L.33||1L.32){V(p in 1L.50){z.18(U,p,1L.7U[p]);z.42(U,"7I"+p,T);z.42(U,"3O"+p,T)}}2N=1L.2N;if(2N){1L.2N=17;2N.1i(U)}}N 17}R{if(1L.3T==kE){6.3b=t}R{n=t-6.aW;6.28=n/1L.3T;6.8T=z.9i[1L.50[6.1N]](6.28,n,0,1,1L.3T);6.3b=6.3F+((6.3o-6.3F)*6.8T)}6.b6()}N T}};z.1w(z.fx,{fF:O(){P a,2D=z.2D,i=0;V(;i<2D.Q;i++){a=2D[i];if(!a()&&2D[i]===a){2D.3s(i--,1)}}if(!2D.Q){z.fx.5S()}},fH:13,5S:O(){kF(7C);7C=12},8d:{kG:kH,kI:8V,4j:kJ},5l:{2g:O(a){z.18(a.U,"2g",a.3b)},4j:O(a){if(a.U.18&&a.U.18[a.1N]!=12){a.U.18[a.1N]=a.3b+a.4a}R{a.U[a.1N]=a.3b}}}});z.1g(["2P","3g"],O(i,b){z.fx.5l[b]=O(a){z.18(a.U,b,4n.57(0,a.3b)+a.4a)}});if(z.2F&&z.2F.4k){z.2F.4k.kK=O(b){N z.53(z.2D,O(a){N b===a.U}).Q}}O bw(a){if(!L[a]){P b=y.1p,U=z("<"+a+">").fQ(b),1F=U.1H("1F");U.3l();if(1F==="4b"||1F===""){if(!3q){3q=y.1Z("3q");3q.e1=3q.2P=3q.3g=0}b.31(3q);if(!5u||!3q.1Z){5u=(3q.ey||3q.ex).45;5u.kL((y.fI==="fO"?"<!kO 2A>":"")+"<2A><1p>");5u.kP()}U=5u.1Z(a);5u.1p.31(U);1F=z.1H(U,"1F");b.3I(3q)}L[a]=1F}N L[a]}P M=/^t(?:kR|d|h)$/i,aa=/^(?:1p|2A)$/i;if("fR"in y.25){z.fn.2J=O(a){P b=6[0],4W;if(a){N 6.1g(O(i){z.2J.a9(6,a,i)})}if(!b||!b.2h){N 12}if(b===b.2h.1p){N z.2J.a6(b)}2e{4W=b.fR()}2k(e){}P c=b.2h,41=c.25;if(!4W||!z.34(41,b)){N 4W?{1I:4W.1I,1l:4W.1l}:{1I:0,1l:0}}P d=c.1p,2Y=9U(c),6M=41.6M||d.6M||0,6U=41.6U||d.6U||0,3W=2Y.fU||z.1q.74&&41.3W||d.3W,44=2Y.ab||z.1q.74&&41.44||d.44,1I=4W.1I+3W-6M,1l=4W.1l+44-6U;N{1I:1I,1l:1l}}}R{z.fn.2J=O(a){P b=6[0];if(a){N 6.1g(O(i){z.2J.a9(6,a,i)})}if(!b||!b.2h){N 12}if(b===b.2h.1p){N z.2J.a6(b)}P c,37=b.37,fX=b,27=b.2h,41=27.25,1p=27.1p,3d=27.3d,6L=3d?3d.4J(b,12):b.2S,1I=b.3Y,1l=b.9G;1Y((b=b.1h)&&b!==1p&&b!==41){if(z.1q.cC&&6L.36==="9H"){2c}c=3d?3d.4J(b,12):b.2S;1I-=b.3W;1l-=b.44;if(b===37){1I+=b.3Y;1l+=b.9G;if(z.1q.f0&&!(z.1q.eZ&&M.1c(b.1j))){1I+=1X(c.aI)||0;1l+=1X(c.aM)||0}fX=37;37=b.37}if(z.1q.eV&&c.4s!=="gL"){1I+=1X(c.aI)||0;1l+=1X(c.aM)||0}6L=c}if(6L.36==="46"||6L.36==="9P"){1I+=1p.3Y;1l+=1p.9G}if(z.1q.cC&&6L.36==="9H"){1I+=4n.57(41.3W,1p.3W);1l+=4n.57(41.44,1p.44)}N{1I:1I,1l:1l}}}z.2J={a6:O(a){P b=a.3Y,1l=a.9G;if(z.1q.eU){b+=1X(z.1H(a,"bn"))||0;1l+=1X(z.1H(a,"bo"))||0}N{1I:b,1l:1l}},a9:O(a,b,i){P c=z.1H(a,"36");if(c==="9P"){a.18.36="46"}P d=z(a),92=d.2J(),b4=z.1H(a,"1I"),b5=z.1H(a,"1l"),gc=(c==="cu"||c==="9H")&&z.61("9B",[b4,b5])>-1,3v={},8v={},8w,8E;if(gc){8v=d.36();8w=8v.1I;8E=8v.1l}R{8w=1X(b4)||0;8E=1X(b5)||0}if(z.1z(b)){b=b.1i(a,i,92)}if(b.1I!=12){3v.1I=(b.1I-92.1I)+8w}if(b.1l!=12){3v.1l=(b.1l-92.1l)+8E}if("go"in b){b.go.1i(a,3v)}R{d.1H(3v)}}};z.fn.1w({36:O(){if(!6[0]){N 12}P a=6[0],37=6.37(),2J=6.2J(),7v=aa.1c(37[0].1j)?{1I:0,1l:0}:37.2J();2J.1I-=1X(z.1H(a,"bn"))||0;2J.1l-=1X(z.1H(a,"bo"))||0;7v.1I+=1X(z.1H(37[0],"aI"))||0;7v.1l+=1X(z.1H(37[0],"aM"))||0;N{1I:2J.1I-7v.1I,1l:2J.1l-7v.1l}},37:O(){N 6.3n(O(){P a=6.37||y.1p;1Y(a&&(!aa.1c(a.1j)&&z.1H(a,"36")==="9P")){a=a.37}N a})}});z.1g(["gg","gk"],O(i,c){P d="8L"+c;z.fn[d]=O(a){P b,2Y;if(a===x){b=6[0];if(!b){N 12}2Y=9U(b);N 2Y?("ab"in 2Y)?2Y[i?"fU":"ab"]:z.1q.74&&2Y.45.25[d]||2Y.45.1p[d]:b[d]}N 6.1g(O(){2Y=9U(6);if(2Y){2Y.lf(!i?a:z(2Y).44(),i?a:z(2Y).3W())}R{6[d]=a}})}});O 9U(a){N z.5i(a)?a:a.1b===9?a.3d||a.dI:17}z.1g(["lg","cO"],O(i,f){P g=f.1o();z.fn["3R"+f]=O(){P a=6[0];N a?a.18?1X(z.1H(a,g,"6T")):6[g]():12};z.fn["62"+f]=O(a){P b=6[0];N b?b.18?1X(z.1H(b,g,a?"6O":"5T")):6[g]():12};z.fn[g]=O(b){P c=6[0];if(!c){N b==12?12:6}if(z.1z(b)){N 6.1g(O(i){P a=z(6);a[g](b.1i(6,i,a[g]()))})}if(z.5i(c)){P d=c.45.25["cr"+f],1p=c.45.1p;N c.45.fI==="fO"&&d||1p&&1p["cr"+f]||d}R if(c.1b===9){N 4n.57(c.25["cr"+f],c.1p["8L"+f],c.25["8L"+f],c.1p["2J"+f],c.25["2J"+f])}R if(b===x){P e=z.1H(c,g),1e=1X(e);N z.9A(1e)?1e:e}R{N 6.1H(g,1a b==="1t"?b:b+"3P")}}});w.5Y=w.$=z;if(1a 9x==="O"&&9x.gz&&9x.gz.5Y){9x("6Y",[],O(){N z})}})(li);',62,1321,'||||||this|||||||||||||||||||||||||||||||||||||||||||return|function|var|length|else||true|elem|for|||||||null||type|||false|style|div|typeof|nodeType|test|cur|ret|data|each|parentNode|call|nodeName|event|left|replace|filter|toLowerCase|body|support|arguments|value|string|name|parts|extend|push|special|isFunction|cache|set|handleObj|_data|input|display|jqXHR|css|top|events|val|options|get|prop|handle|hooks|url|apply|target|guid|deferred|className|firstChild|parseFloat|while|createElement||text|exec|add|queue|documentElement|getElementsByTagName|doc|state|object|match|old|break|new|try|slice|opacity|ownerDocument|memory|selector|catch|split|error||find|fragment|promise|dataTypes|parent|first|expando|button|script|tbody|getAttribute|indexOf|html|done|checked|timers|prototype|expr|undefined|checkSet|table|offset|isArray|node|namespaces|complete|statusText|width|key|clone|currentStyle|matches|trigger|jQuerySub|hidden|result|win|innerHTML|select|appendChild|show|hide|contains|option|position|offsetParent|attr|context|wrapMap|now|on|defaultView|ready|xml|height|which|href|pushStack|jsonpCallback|remove|delete|map|end|count|iframe|converters|splice|check|namespace|props|disabled|internalKey|Array|nextSibling|dataType|src|handler|trim|copy|start|selection|td|removeChild|tmp|number|childNodes|pop|thisCache|toggle|px|form|inner|nType|duration|radio|async|scrollTop|elements|offsetTop|nodeHook|originalEvent|docElem|removeData|ifModifiedKey|scrollLeft|document|relative|root|self|off|unit|none|readyState|attrHooks|tns|unshift|attachEvent|eventType|json|_default|filters|DOMContentLoaded|deep|Math|_|current|POS|success|overflow|last|insertBefore|checkbox|delegateCount|append|callbackContext|valHooks|conv|stack|finalDataType|isNode|setAttribute|shift|ID|eventHandle|contents|getComputedStyle|selected|prev|constructor|curLoop|getAttributeNode|conv1|nth|ajaxSettings|makeArray|RegExp|all|ajaxLocParts|box|tr|browser|ajaxLocation|animatedProperties|once|addEventListener|grep|doneName||curCSS|max|handlers|notxml|camelCase|abort|toString|init|statusCode|index|removeAttribute|preventDefault|isWindow|Event|ontype|step|conv2|responseHeaders|etag|one|join|compareDocumentPosition|u00c0|class|iframeDoc|responses|anyFound|marginDiv|application|eventPath|genFx|isSupported|continue|nodeValue|transport|lastModified|marginRight|dir|firingIndex|offsetWidth|xhrCallbacks|click|rBackslash|head|getElementsByClassName|setRequestHeader|querySelectorAll|setTimeout|stop|border|crossDomain|Callbacks|getElementById|domManip|jQuery|dequeue|uFFFF|inArray|outer|origType|setup|cacheable|destElements|mark|ajax|returnFalse|sort|deleteExpando|submit|args|wrap|defer|cloneNode|TAG|found|tds|animate|len|propFix|returned|isXML|fail|resolve|curData|empty|cacheresults|fire|unique|fireGlobals|firing|PSEUDO|cssHooks|previousSibling|change|concat|checkFn|delegateType|insert|not|offsetSupport|global|teardown|CLASS|prevComputedStyle|clientTop|matched|margin|onreadystatechange|sel|fireWith|custom|padding|clientLeft|jsonp|siblingCheck|fromElement|jquery|instanceof|merge|firingLength|fxNow|param|boxModel|access|zoom|getAll|inline|removeEventListener|javascript|exclusive|nid|item|isEmptyObject|rsLeft|substr|bubbleType|isTrigger|matchesSelector|disable|propHooks|isDefaultPrevented|focus|handlerQueue|jqcur|selMatch|origName|load|contentType|contextXML|parentOffset|Deferred|related|accepts|failList|method|progressList|timerId|rNonWord|stopPropagation|selectedIndex|acceptData|inspectPrefiltersOrTransports|fxshow|hasDuplicate|boolean|jsre|responseFields|conversion|cleanData|setClass|isPlainObject|resolveWith|removeAttr|diff|orig|proxy|opt|eventName|olddisplay|readyList||browserMatch|queueDataKey|fixHook|markDataKey|_change|textarea|getSetAttribute|rspace|replaceWith|cssFloat|simulate|returnTrue|speeds|toUpperCase|run|before|password|buildParams|clean|send|mimeType|float|globalEventContext|1px|_submit|enctype|nav|outerHTML|results|wrapAll|curPosition|curTop|hasContent|Object|hasOwn|prefilters|triggerHandler|String|isPartStr|curLeft|firstDataType|version|getResponseHeader|case|safeFrag|cssNumber|scroll|attrHandle|attrMap|source|fixHooks|relatedTarget|copyIsArray|odd|pos|With|200|sourceIndex|placeBefore|even|values|scripts|then|curOffset|attrFn|isReady|isEmptyDataObject|progress|readyWait|reject|isXMLDoc||lists|attrNames|property|createDocumentFragment|lastChild|GET|tabindex|easing|extra|executeOnly|onload|focusin|ajaxSetup|conMarginTop|blur|ptlm|rleadingWhitespace|sizset|isPropagationStopped|responseHeadersString|aup|bup|define|argIndex|has|isNumeric|auto|timeoutTimer|order|leftMatch|firingStart|offsetLeft|fixed|flatOptions|pass|JSON|CHILD|runtimeStyle|cssText|ActiveXObject|static|bindType|textContent|dispatch|triggered|getWindow|mouseenter|mouseleave|quick|offsetHeight|vb|handleObjIn|retVal|Date|isObj|transports|globalEval|bodyOffset|sub|noop|setOffset|rroot|pageXOffset|fixDefaultChecked|xA0|findInputs|origCount|detachEvent|rfocusMorph|removeEvent|parseJSON|fragments|Error|throw|hasParent|relativeHierarchySelector||allTypes|isNaN|rtypenamespace|namespace_re|createStandardXHR|addToPrefiltersOrTransports|setInterval|pseudoWorks|xhr|lock|xhrFields|doScrollCheck|requestHeadersNames|fix|rnumpx|cloneFixAttributes|requestHeaders|fired|borderTopWidth|tmpSet|later|tabIndex|borderLeftWidth|notify|isImmediatePropagationStopped|oldData|cloneCopyEvent|ecmascript|previous|prevAll|specified|action|startTime|pValues|bindReady|prevObject|metaKey|winnow|toArray|timeStamp|curCSSTop|curCSSLeft|update|isDisconnected|removeClass|charCode|buildFragment|addClass|nodeIndex|charAt||clientX|fxAttrs|class2type|after|fixSpecified|pageX||boolHook|marginTop|marginLeft||overrideMimeType||rCRLF|open|multiple|rboolean|defaultDisplay|completeDeferred|focusout|link|onbeforeunload|deferDataKey|isSimulated|ajaxTransport|ajaxPrefilter|file|leadingWhitespace|userAgent|sibling|inprogress|list|block|ms|_unmark|_load|rurl|timeout|html5Clone|handleQueueMarkDefer|_just_changed|dirNodeCheck|dirCheck|createSafeFragment|createTextNode|dataAttr|doAnimation|isPartStrNotTag|attributes|toggler|isTag|isElement|noCloneEvent|inlineBlockNeedsLayout|active|status|shrinkWrapBlocks|rspacesAjax|rquery|isEvents|reliableMarginRight|getByName|baseHasDuplicate|cssProps|safeFragment|hasData|checkClone|colgroup||embed|prune|noData|isLocal|soFar|client|rxhtmlTag||absolute|swap|getWH|uniqueSort|ajaxExtend|computedStyle|createFxNow|responseText|fixedPosition|hadTimers|trimRight|traditional|stopQueue|trimLeft|preFilter|rnotwhite|uncomputed|rchecked|rnoshimcache|ATTR|Width|hoverHack|innerText|selectors|NAME|rootjQuery|location|navigator|rtagName|getText|response|only|ajaxHandleResponses|isXMLFilter|rReturn|304|ifModified|lt|Modified|ajaxConvert|unload|lastToggle|http|443|If|headers||_change_attached|beforeSend|getElementsByName|No|_submit_attached|keypress|mouseout|mouseover|encodeURIComponent||header|getPreventDefault|returnValue|image|reset|toElement|setFilters|pageY|dataFilter|clientY|mouseHooks|keyCode|fescape|keyHooks|ctrlKey|srcElement|currentTarget|delegateTarget|run_all|parentWindow|noBubble|customEvent|hover|getAllResponseHeaders|quickIs|quickParse|TEST|rquickIs|scriptCharset|contextmenu|rmouseEvent|rkeyEvent|pseudoError|rhoverHack|xhrId|XMLHttpRequest|createActiveXHR|contenteditable|frameBorder|cors|username|Requested|firefoxAccessException|rfxtypes|htmlFor|rfxnum|rparentsprev|parents|prevUntil|optgroup|rmultiselector|isSimple|guaranteedUnique|children|__className__|next|hasClass|classNames|closest|isBool|toggleClass|rclickable|rfocusable||rtype|rreturn|_toggle|clearTimeout|speed|_mark|contentDocument|contentWindow|changeData|setData|getData|parsedAttrs|responseXML||toJSON|specialEasing|processData|urlencoded|www|swing|random|uuid|rmultiDash|ajaxSend|ajaxComplete|ajaxStop|time|ajaxStart|rinlinejQuery|doesNotIncludeMarginInBodyOffset|subtractsBorderForOverflowNotVisible|area|serializeArray|col|doesAddBorderForTableAndCells|doesNotAddBorder|paddingLeft|reliableHiddenOffsets|rtbody|rhtml|rnoInnerhtml|rnocache|cellspacing|cellpadding|rscriptType|saveState|visibility|rcleanScript|clearFxNow|parseInt|fieldset|thead|appendChecked|radioValue|onclick|fireEvent|optDisabled|noCloneChecked||focusinBubbles|changeBubbles|wrapInner|submitBubbles|optSelected|checkOn|hrefNormalized|prepend|htmlSerialize||progressFunc|resolveFunc||detach|always|lastIndex|evalScript|tick|isResolved|interval|compatMode|clearAttributes|mergeAttributes|defaultChecked|argLength|defaultValue|CSS1Compat|createFlags|appendTo|getBoundingClientRect|uaMatch|getTime|pageYOffset|parsererror|Microsoft|prevOffsetParent|shimCloneNode|DOMParser|depth|parseXML|Invalid|Function|parse|array|alpha|ropacity|rupper|doScroll|rnum|rrelNum|calculatePosition|cssShow|fcamelCase|cssWidth|Left|rmsPrefix||cssHeight|Top|rdashAlpha|rmozilla|rmsie|using|rts|ropera|rselectTextarea|rscript||webkit|rprotocol|rwebkit|rvalidbraces|rvalidtokens|amd|rvalidescape|100|rnoContent|rvalidchars|app|rsingleTag|quickExpr|rlocalProtocol|datetime|rinput|_jQuery|visible|rbracket|readonly|rhash|rheaders|mg|pixelLeft|color|date|1em|local|email|month|range|search|tel|week|fontSize|about|getPropertyValue|storage|extension|res|widget|right|styleFloat|HEAD|zIndex|widows|orphans|lineHeight|fontWeight|fillOpacity|Bottom|Right|replaceAll|insertAfter|prependTo|512|defaultSelected|unwrap|th||caption|tfoot|legend|CDATA|ecma|java|meta|img|POST|serialize|video|summary|section|ajaxError|ajaxSuccess|output|post|meter|getScript|getJSON|hgroup|footer|figure|figcaption|details|datalist|canvas|audio|aside|plain|article|abbr|reverse|siblings|nextUntil|nextAll|parentsUntil|andSelf|level|Until|HTML|sizzle|msMatchesSelector|webkitMatchesSelector|mozMatchesSelector|finally|qsaError||__sizzle__|||createComment|switch|activeElement|enabled|0n|child||expression|unrecognized|Syntax|sizcache||300|keyup|keydown|Last|mousemove|Etag|notmodified|mouseup|mousedown|rejectWith|Success|dblclick|resize|undelegate|delegate|die|live|1_|Content|Type|unbind|Since|None|Match|Accept|01|bind|beforeactivate|propertyName|Transport|propertychange|stopImmediatePropagation|cancelBubble|defaultPrevented|beforeunload|screenY|screenX|offsetY|content|offsetX|buttons|char|view|shiftKey|eventPhase|from|to|cancelable|bubbles|altKey|callback|relatedNode|attrName|was|called|attrChange|focusoutblur|focusinfocus|charset|loaded|mouse|bhover|encoding|setAttributeNode|createAttribute|contentEditable|XMLHTTP|frameborder|useMap|withCredentials|usemap|colSpan|colspan|rowSpan|rowspan|404|1223|204|cellPadding|cellSpacing|maxLength|maxlength|readOnly|changed|can|removeProp|scoped|marginBottom|paddingTop|paddingBottom|required|paddingRight|loop|controls|autoplay|autofocus|rea|clearQueue|fadeTo|delay|substring|classid|applet|444553540000|96B8|11cf|AE6D|D27CDB6E|clsid|overflowX|overflowY|20px|4px|000|solid|5px|Bubbles|slideDown|slideUp|slideToggle|fadeIn|fadeOut|fadeToggle|2px|linear|cos|PI|notifyWith|pCount|when|rejected|resolved|pipe|isRejected|pending|Infinity|clearInterval|slow|600|fast|400|animated|write|locked|stopOnFalse|doctype|close|actual|able|safari|Number|Boolean|superclass|compatible|regexp|eval|execScript|XML|loadXML|XMLDOM|parseFromString|isPrototypeOf|isFinite|frameElement|holdReady|noConflict|size|hasOwnProperty|rv|mozilla|msie|opera|scrollTo|Height|bfnrt|window'.split('|'),0,{}));
;

(function($) {
	$.fn.ajaxSubmit = function(options) {
		if (!this.length) {
			log('ajaxSubmit: skipping submit process - no element selected');
			return this;
		}
		
		var method, action, url, $form = this;

		if (typeof options == 'function') {
			options = { success: options };
		}

		method = this.attr('method');
		action = this.attr('action');
		url = (typeof action === 'string') ? $.trim(action) : '';
		url = url || window.location.href || '';
		if (url) {
			url = (url.match(/^([^#]+)/)||[])[1];
		}

		options = $.extend(true, {
			url:  url,
			success: $.ajaxSettings.success,
			type: method || 'GET',
			iframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank'
		}, options);

		var veto = {};
		this.trigger('form-pre-serialize', [this, options, veto]);
		if (veto.veto) {
			log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');
			return this;
		}

		if (options.beforeSerialize && options.beforeSerialize(this, options) === false) {
			log('ajaxSubmit: submit aborted via beforeSerialize callback');
			return this;
		}

	   var traditional = options.traditional;
	   if ( traditional === undefined ) {
	      traditional = $.ajaxSettings.traditional;
	   }
	   
		var qx,n,v,a = this.formToArray(options.semantic);
		if (options.data) {
			options.extraData = options.data;
	      qx = $.param(options.data, traditional);
		}

		// give pre-submit callback an opportunity to abort the submit
		if (options.beforeSubmit && options.beforeSubmit(a, this, options) === false) {
			log('ajaxSubmit: submit aborted via beforeSubmit callback');
			return this;
		}

		// fire vetoable 'validate' event
		this.trigger('form-submit-validate', [a, this, options, veto]);
		if (veto.veto) {
			log('ajaxSubmit: submit vetoed via form-submit-validate trigger');
			return this;
		}

		var q = $.param(a, traditional);
	   if (qx)
	      q = ( q ? (q + '&' + qx) : qx );

		if (options.type.toUpperCase() == 'GET') {
			options.url += (options.url.indexOf('?') >= 0 ? '&' : '?') + q;
			options.data = null;  // data is null for 'get'
		}
		else {
			options.data = q; // data is the query string for 'post'
		}

		var callbacks = [];
		if (options.resetForm) {
			callbacks.push(function() { $form.resetForm(); });
		}
		if (options.clearForm) {
			callbacks.push(function() { $form.clearForm(options.includeHidden); });
		}

		// perform a load on the target only if dataType is not provided
		if (!options.dataType && options.target) {
			var oldSuccess = options.success || function(){};
			callbacks.push(function(data) {
				var fn = options.replaceTarget ? 'replaceWith' : 'html';
				$(options.target)[fn](data).each(oldSuccess, arguments);
			});
		}
		else if (options.success) {
			callbacks.push(options.success);
		}

		options.success = function(data, status, xhr) { // jQuery 1.4+ passes xhr as 3rd arg
			var context = options.context || options;   // jQuery 1.4+ supports scope context 
			for (var i=0, max=callbacks.length; i < max; i++) {
				callbacks[i].apply(context, [data, status, xhr || $form, $form]);
			}
		};

		// are there files to upload?
		var fileInputs = $('input:file', this).length > 0;
		var mp = 'multipart/form-data';
		var multipart = ($form.attr('enctype') == mp || $form.attr('encoding') == mp);

		// options.iframe allows user to force iframe mode
		// 06-NOV-09: now defaulting to iframe mode if file input is detected
	   if (options.iframe !== false && (fileInputs || options.iframe || multipart)) {
		   // hack to fix Safari hang (thanks to Tim Molendijk for this)
		   // see:  http://groups.google.com/group/jquery-dev/browse_thread/thread/36395b7ab510dd5d
		   if (options.closeKeepAlive) {
			   $.get(options.closeKeepAlive, function() { fileUpload(a); });
			}
		   else {
			   fileUpload(a);
			}
	   }
	   else {
			// IE7 massage (see issue 57)
			if ($.browser.msie && method == 'get' && typeof options.type === "undefined") {
				var ieMeth = $form[0].getAttribute('method');
				if (typeof ieMeth === 'string')
					options.type = ieMeth;
			}
			$.ajax(options);
	   }

		// fire 'notify' event
		this.trigger('form-submit-notify', [this, options]);
		return this;


		// private function for handling file uploads (hat tip to YAHOO!)
		function fileUpload(a) {
			var form = $form[0], el, i, s, g, id, $io, io, xhr, sub, n, timedOut, timeoutHandle;
	        var useProp = !!$.fn.prop;

	        if (a) {
	            if ( useProp ) {
	            	// ensure that every serialized input is still enabled
	              	for (i=0; i < a.length; i++) {
	                    el = $(form[a[i].name]);
	                    el.prop('disabled', false);
	              	}
	            } else {
	              	for (i=0; i < a.length; i++) {
	                    el = $(form[a[i].name]);
	                    el.removeAttr('disabled');
	              	}
	            };
	        }

			if ($(':input[name=submit],:input[id=submit]', form).length) {
				// if there is an input with a name or id of 'submit' then we won't be
				// able to invoke the submit fn on the form (at least not x-browser)
				alert('Error: Form elements must not have name or id of "submit".');
				return;
			}
			
			s = $.extend(true, {}, $.ajaxSettings, options);
			s.context = s.context || s;
			id = 'jqFormIO' + (new Date().getTime());
			if (s.iframeTarget) {
				$io = $(s.iframeTarget);
				n = $io.attr('name');
				if (n == null)
				 	$io.attr('name', id);
				else
					id = n;
			}
			else {
				$io = $('<iframe name="' + id + '" src="'+ s.iframeSrc +'" />');
				$io.css({ position: 'absolute', top: '-1000px', left: '-1000px' });
			}
			io = $io[0];


			xhr = { // mock object
				aborted: 0,
				responseText: null,
				responseXML: null,
				status: 0,
				statusText: 'n/a',
				getAllResponseHeaders: function() {},
				getResponseHeader: function() {},
				setRequestHeader: function() {},
				abort: function(status) {
					var e = (status === 'timeout' ? 'timeout' : 'aborted');
					log('aborting upload... ' + e);
					this.aborted = 1;
					$io.attr('src', s.iframeSrc); // abort op in progress
					xhr.error = e;
					s.error && s.error.call(s.context, xhr, e, status);
					g && $.event.trigger("ajaxError", [xhr, s, e]);
					s.complete && s.complete.call(s.context, xhr, e);
				}
			};

			g = s.global;
			// trigger ajax global events so that activity/block indicators work like normal
			if (g && ! $.active++) {
				$.event.trigger("ajaxStart");
			}
			if (g) {
				$.event.trigger("ajaxSend", [xhr, s]);
			}

			if (s.beforeSend && s.beforeSend.call(s.context, xhr, s) === false) {
				if (s.global) {
					$.active--;
				}
				return;
			}
			if (xhr.aborted) {
				return;
			}

			// add submitting element to data if we know it
			sub = form.clk;
			if (sub) {
				n = sub.name;
				if (n && !sub.disabled) {
					s.extraData = s.extraData || {};
					s.extraData[n] = sub.value;
					if (sub.type == "image") {
						s.extraData[n+'.x'] = form.clk_x;
						s.extraData[n+'.y'] = form.clk_y;
					}
				}
			}
			
			var CLIENT_TIMEOUT_ABORT = 1;
			var SERVER_ABORT = 2;

			function getDoc(frame) {
				var doc = frame.contentWindow ? frame.contentWindow.document : frame.contentDocument ? frame.contentDocument : frame.document;
				return doc;
			}
			
			// take a breath so that pending repaints get some cpu time before the upload starts
			function doSubmit() {
				// make sure form attrs are set
				var t = $form.attr('target'), a = $form.attr('action');

				// update form attrs in IE friendly way
				form.setAttribute('target',id);
				if (!method) {
					form.setAttribute('method', 'POST');
				}
				if (a != s.url) {
					form.setAttribute('action', s.url);
				}

				// ie borks in some cases when setting encoding
				if (! s.skipEncodingOverride && (!method || /post/i.test(method))) {
					$form.attr({
						encoding: 'multipart/form-data',
						enctype:  'multipart/form-data'
					});
				}

				// support timout
				if (s.timeout) {
					timeoutHandle = setTimeout(function() { timedOut = true; cb(CLIENT_TIMEOUT_ABORT); }, s.timeout);
				}
				
				// look for server aborts
				function checkState() {
					try {
						var state = getDoc(io).readyState;
						log('state = ' + state);
						if (state.toLowerCase() == 'uninitialized')
							setTimeout(checkState,50);
					}
					catch(e) {
						log('Server abort: ' , e, ' (', e.name, ')');
						cb(SERVER_ABORT);
						timeoutHandle && clearTimeout(timeoutHandle);
						timeoutHandle = undefined;
					}
				}

				// add "extra" data to form if provided in options
				var extraInputs = [];
				try {
					if (s.extraData) {
						for (var n in s.extraData) {
							extraInputs.push(
								$('<input type="hidden" name="'+n+'" />').attr('value',s.extraData[n])
									.appendTo(form)[0]);
						}
					}

					if (!s.iframeTarget) {
						// add iframe to doc and submit the form
						$io.appendTo('body');
		                io.attachEvent ? io.attachEvent('onload', cb) : io.addEventListener('load', cb, false);
					}
					setTimeout(checkState,15);
					form.submit();
				}
				finally {
					// reset attrs and remove "extra" input elements
					form.setAttribute('action',a);
					if(t) {
						form.setAttribute('target', t);
					} else {
						$form.removeAttr('target');
					}
					$(extraInputs).remove();
				}
			}

			if (s.forceSync) {
				doSubmit();
			}
			else {
				setTimeout(doSubmit, 10); // this lets dom updates render
			}

			var data, doc, domCheckCount = 50, callbackProcessed;

			function cb(e) {
				if (xhr.aborted || callbackProcessed) {
					return;
				}
				try {
					doc = getDoc(io);
				}
				catch(ex) {
					log('cannot access response document: ', ex);
					e = SERVER_ABORT;
				}
				if (e === CLIENT_TIMEOUT_ABORT && xhr) {
					xhr.abort('timeout');
					return;
				}
				else if (e == SERVER_ABORT && xhr) {
					xhr.abort('server abort');
					return;
				}

				if (!doc || doc.location.href == s.iframeSrc) {
					// response not received yet
					if (!timedOut)
						return;
				}
	            io.detachEvent ? io.detachEvent('onload', cb) : io.removeEventListener('load', cb, false);

				var status = 'success', errMsg;
				try {
					if (timedOut) {
						throw 'timeout';
					}

					var isXml = s.dataType == 'xml' || doc.XMLDocument || $.isXMLDoc(doc);
					log('isXml='+isXml);
					if (!isXml && window.opera && (doc.body == null || doc.body.innerHTML == '')) {
						if (--domCheckCount) {
							// in some browsers (Opera) the iframe DOM is not always traversable when
							// the onload callback fires, so we loop a bit to accommodate
							log('requeing onLoad callback, DOM not available');
							setTimeout(cb, 250);
							return;
						}
						// let this fall through because server response could be an empty document
						//log('Could not access iframe DOM after mutiple tries.');
						//throw 'DOMException: not available';
					}

					//log('response detected');
	                var docRoot = doc.body ? doc.body : doc.documentElement;
	                xhr.responseText = docRoot ? docRoot.innerHTML : null;
					xhr.responseXML = doc.XMLDocument ? doc.XMLDocument : doc;
					if (isXml)
						s.dataType = 'xml';
					xhr.getResponseHeader = function(header){
						var headers = {'content-type': s.dataType};
						return headers[header];
					};
	                // support for XHR 'status' & 'statusText' emulation :
	                if (docRoot) {
	                    xhr.status = Number( docRoot.getAttribute('status') ) || xhr.status;
	                    xhr.statusText = docRoot.getAttribute('statusText') || xhr.statusText;
	                }

					var dt = (s.dataType || '').toLowerCase();
					var scr = /(json|script|text)/.test(dt);
					if (scr || s.textarea) {
						// see if user embedded response in textarea
						var ta = doc.getElementsByTagName('textarea')[0];
						if (ta) {
							xhr.responseText = ta.value;
	                        // support for XHR 'status' & 'statusText' emulation :
	                        xhr.status = Number( ta.getAttribute('status') ) || xhr.status;
	                        xhr.statusText = ta.getAttribute('statusText') || xhr.statusText;
						}
						else if (scr) {
							// account for browsers injecting pre around json response
							var pre = doc.getElementsByTagName('pre')[0];
							var b = doc.getElementsByTagName('body')[0];
							if (pre) {
								xhr.responseText = pre.textContent ? pre.textContent : pre.innerText;
							}
							else if (b) {
								xhr.responseText = b.textContent ? b.textContent : b.innerText;
							}
						}
					}
					else if (dt == 'xml' && !xhr.responseXML && xhr.responseText != null) {
						xhr.responseXML = toXml(xhr.responseText);
					}

	                try {
	                    data = httpData(xhr, dt, s);
	                }
	                catch (e) {
	                    status = 'parsererror';
	                    xhr.error = errMsg = (e || status);
	                }
				}
				catch (e) {
					log('error caught: ',e);
					status = 'error';
	                xhr.error = errMsg = (e || status);
				}

				if (xhr.aborted) {
					log('upload aborted');
					status = null;
				}

	            if (xhr.status) { // we've set xhr.status
	                status = (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) ? 'success' : 'error';
	            }

				// ordering of these callbacks/triggers is odd, but that's how $.ajax does it
				if (status === 'success') {
					s.success && s.success.call(s.context, data, 'success', xhr);
					g && $.event.trigger("ajaxSuccess", [xhr, s]);
				}
	            else if (status) {
					if (errMsg == undefined)
						errMsg = xhr.statusText;
					s.error && s.error.call(s.context, xhr, status, errMsg);
					g && $.event.trigger("ajaxError", [xhr, s, errMsg]);
	            }

				g && $.event.trigger("ajaxComplete", [xhr, s]);

				if (g && ! --$.active) {
					$.event.trigger("ajaxStop");
				}

				s.complete && s.complete.call(s.context, xhr, status);

				callbackProcessed = true;
				if (s.timeout)
					clearTimeout(timeoutHandle);

				// clean up
				setTimeout(function() {
					if (!s.iframeTarget)
						$io.remove();
					xhr.responseXML = null;
				}, 100);
			}

			var toXml = $.parseXML || function(s, doc) { // use parseXML if available (jQuery 1.5+)
				if (window.ActiveXObject) {
					doc = new ActiveXObject('Microsoft.XMLDOM');
					doc.async = 'false';
					doc.loadXML(s);
				}
				else {
					doc = (new DOMParser()).parseFromString(s, 'text/xml');
				}
				return (doc && doc.documentElement && doc.documentElement.nodeName != 'parsererror') ? doc : null;
			};
			var parseJSON = $.parseJSON || function(s) {
				return window['eval']('(' + s + ')');
			};

			var httpData = function( xhr, type, s ) { // mostly lifted from jq1.4.4

				var ct = xhr.getResponseHeader('content-type') || '',
					xml = type === 'xml' || !type && ct.indexOf('xml') >= 0,
					data = xml ? xhr.responseXML : xhr.responseText;

				if (xml && data.documentElement.nodeName === 'parsererror') {
					$.error && $.error('parsererror');
				}
				if (s && s.dataFilter) {
					data = s.dataFilter(data, type);
				}
				if (typeof data === 'string') {
					if (type === 'json' || !type && ct.indexOf('json') >= 0) {
						data = parseJSON(data);
					} else if (type === "script" || !type && ct.indexOf("javascript") >= 0) {
						$.globalEval(data);
					}
				}
				return data;
			};
		}
	};

	
	
	/**
	 * ajaxForm() provides a mechanism for fully automating form submission.
	 *
	 * The advantages of using this method instead of ajaxSubmit() are:
	 *
	 * 1: This method will include coordinates for <input type="image" /> elements (if the element
	 *	is used to submit the form).
	 * 2. This method will include the submit element's name/value data (for the element that was
	 *	used to submit the form).
	 * 3. This method binds the submit() method to the form for you.
	 *
	 * The options argument for ajaxForm works exactly as it does for ajaxSubmit.  ajaxForm merely
	 * passes the options argument along after properly binding events for submit elements and
	 * the form itself.
	 */
	$.fn.ajaxForm = function(options) {
		// in jQuery 1.3+ we can fix mistakes with the ready state
		if (this.length === 0) {
			var o = { s: this.selector, c: this.context };
			if (!$.isReady && o.s) {
				log('DOM not ready, queuing ajaxForm');
				$(function() {
					$(o.s,o.c).ajaxForm(options);
				});
				return this;
			}
			// is your DOM ready?  http://docs.jquery.com/Tutorials:Introducing_$(document).ready()
			log('terminating; zero elements found by selector' + ($.isReady ? '' : ' (DOM not ready)'));
			return this;
		}

		return this.ajaxFormUnbind().bind('submit.form-plugin', function(e) {
			if (!e.isDefaultPrevented()) { // if event has been canceled, don't proceed
				e.preventDefault();
				$(this).ajaxSubmit(options);
			}
		}).bind('click.form-plugin', function(e) {
			var target = e.target;
			var $el = $(target);
			if (!($el.is(":submit,input:image"))) {
				// is this a child element of the submit el?  (ex: a span within a button)
				var t = $el.closest(':submit');
				if (t.length == 0) {
					return;
				}
				target = t[0];
			}
			var form = this;
			form.clk = target;
			if (target.type == 'image') {
				if (e.offsetX != undefined) {
					form.clk_x = e.offsetX;
					form.clk_y = e.offsetY;
				} else if (typeof $.fn.offset == 'function') { // try to use dimensions plugin
					var offset = $el.offset();
					form.clk_x = e.pageX - offset.left;
					form.clk_y = e.pageY - offset.top;
				} else {
					form.clk_x = e.pageX - target.offsetLeft;
					form.clk_y = e.pageY - target.offsetTop;
				}
			}
			// clear form vars
			setTimeout(function() { form.clk = form.clk_x = form.clk_y = null; }, 100);
		});
	};

	// ajaxFormUnbind unbinds the event handlers that were bound by ajaxForm
	$.fn.ajaxFormUnbind = function() {
		return this.unbind('submit.form-plugin click.form-plugin');
	};

	/**
	 * formToArray() gathers form element data into an array of objects that can
	 * be passed to any of the following ajax functions: $.get, $.post, or load.
	 * Each object in the array has both a 'name' and 'value' property.  An example of
	 * an array for a simple login form might be:
	 *
	 * [ { name: 'username', value: 'jresig' }, { name: 'password', value: 'secret' } ]
	 *
	 * It is this array that is passed to pre-submit callback functions provided to the
	 * ajaxSubmit() and ajaxForm() methods.
	 */
	$.fn.formToArray = function(semantic) {
		var a = [];
		if (this.length === 0) {
			return a;
		}

		var form = this[0];
		var els = semantic ? form.getElementsByTagName('*') : form.elements;
		if (!els) {
			return a;
		}

		var i,j,n,v,el,max,jmax;
		for(i=0, max=els.length; i < max; i++) {
			el = els[i];
			n = el.name;
			if (!n) {
				continue;
			}

			if (semantic && form.clk && el.type == "image") {
				// handle image inputs on the fly when semantic == true
				if(!el.disabled && form.clk == el) {
					a.push({name: n, value: $(el).val()});
					a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});
				}
				continue;
			}

			v = $.fieldValue(el, true);
			if (v && v.constructor == Array) {
				for(j=0, jmax=v.length; j < jmax; j++) {
					a.push({name: n, value: v[j]});
				}
			}
			else if (v !== null && typeof v != 'undefined') {
				a.push({name: n, value: v});
			}
		}

		if (!semantic && form.clk) {
			// input type=='image' are not found in elements array! handle it here
			var $input = $(form.clk), input = $input[0];
			n = input.name;
			if (n && !input.disabled && input.type == 'image') {
				a.push({name: n, value: $input.val()});
				a.push({name: n+'.x', value: form.clk_x}, {name: n+'.y', value: form.clk_y});
			}
		}
		return a;
	};

	$.fn.formToJsonStr = function(semantic) {
		var a = '{';
		if (this.length === 0) {
			return a;
		}

		var form = this[0];
		var els = semantic ? form.getElementsByTagName('*') : form.elements;
		if (!els) {
			return a;
		}

		var i,j,n,v,el,max,jmax;
		for(i=0, max=els.length; i < max; i++) {
			el = els[i];
			n = el.name;
			if (!n) {
				continue;
			}
			if (semantic && form.clk && el.type == "image") {
				// handle image inputs on the fly when semantic == true
				if(!el.disabled && form.clk == el) {
					a =a + '"' + n + '":"' + '"' + $(el).val().toValidJson() + '"' + ',';
					a =a + '"' + n+'.x' + '":"' + form.clk_x.toValidJson() + '"' + ',';
					a =a + '"' + n+'.y' + '":"' + form.clk_y.toValidJson() + '"' + ',';
				}
				continue;
			}

			v = $.fieldValue(el, true);
			if (v && v.constructor == Array) {
				for(j=0, jmax=v.length; j < jmax; j++) {
					a =a + '"' + n + '":"' + v[j].toValidJson() + '"' + ',';
				}
			}
			else if (v !== null && typeof v != 'undefined') {
				a =a + '"' + n + '":"'+ v.toValidJson() + '"' + ',';
			}
		}

		if (!semantic && form.clk) {
			// input type=='image' are not found in elements array! handle it here
			var $input = $(form.clk), input = $input[0];
			n = input.name;
			if (n && !input.disabled && input.type == 'image') {
				a =a + '"' + n + '":"' + $input.val().toValidJson() + '"' + ',';
				a =a + '"' + n+'.x' + '":"' + form.clk_x.toValidJson() + '"' + ',';
				a =a + '"' + n+'.y' + '":"' + form.clk_y.toValidJson() + '"' + ',';
			}
		}
		if(a.endWith(","))
		{
			a = a.substring(0,a.length-1);
		}
		a = a+'}';
		
		return a;
	};

	/**
	 * Serializes form data into a 'submittable' string. This method will return a string
	 * in the format: name1=value1&amp;name2=value2
	 */
	$.fn.formSerialize = function(semantic) {
		//hand off to jQuery.param for proper encoding
		return $.param(this.formToArray(semantic));
	};

	/**
	 * Serializes all field elements in the jQuery object into a query string.
	 * This method will return a string in the format: name1=value1&amp;name2=value2
	 */
	$.fn.fieldSerialize = function(successful) {
		var a = [];
		this.each(function() {
			var n = this.name;
			if (!n) {
				return;
			}
			var v = $.fieldValue(this, successful);
			if (v && v.constructor == Array) {
				for (var i=0,max=v.length; i < max; i++) {
					a.push({name: n, value: v[i]});
				}
			}
			else if (v !== null && typeof v != 'undefined') {
				a.push({name: this.name, value: v});
			}
		});
		//hand off to jQuery.param for proper encoding
		return $.param(a);
	};

	/**
	 * Returns the value(s) of the element in the matched set.  For example, consider the following form:
	 *
	 *  <form><fieldset>
	 *	  <input name="A" type="text" />
	 *	  <input name="A" type="text" />
	 *	  <input name="B" type="checkbox" value="B1" />
	 *	  <input name="B" type="checkbox" value="B2"/>
	 *	  <input name="C" type="radio" value="C1" />
	 *	  <input name="C" type="radio" value="C2" />
	 *  </fieldset></form>
	 *
	 *  var v = $(':text').fieldValue();
	 *  // if no values are entered into the text inputs
	 *  v == ['','']
	 *  // if values entered into the text inputs are 'foo' and 'bar'
	 *  v == ['foo','bar']
	 *
	 *  var v = $(':checkbox').fieldValue();
	 *  // if neither checkbox is checked
	 *  v === undefined
	 *  // if both checkboxes are checked
	 *  v == ['B1', 'B2']
	 *
	 *  var v = $(':radio').fieldValue();
	 *  // if neither radio is checked
	 *  v === undefined
	 *  // if first radio is checked
	 *  v == ['C1']
	 *
	 * The successful argument controls whether or not the field element must be 'successful'
	 * (per http://www.w3.org/TR/html4/interact/forms.html#successful-controls).
	 * The default value of the successful argument is true.  If this value is false the value(s)
	 * for each element is returned.
	 *
	 * Note: This method *always* returns an array.  If no valid value can be determined the
	 *	   array will be empty, otherwise it will contain one or more values.
	 */
	$.fn.fieldValue = function(successful) {
		for (var val=[], i=0, max=this.length; i < max; i++) {
			var el = this[i];
			var v = $.fieldValue(el, successful);
			if (v === null || typeof v == 'undefined' || (v.constructor == Array && !v.length)) {
				continue;
			}
			v.constructor == Array ? $.merge(val, v) : val.push(v);
		}
		return val;
	};

	/**
	 * Returns the value of the field element.
	 */
	$.fieldValue = function(el, successful) {
		var n = el.name, t = el.type, tag = el.tagName.toLowerCase();
		if (successful === undefined) {
			successful = true;
		}

		if (successful && (!n || el.disabled || t == 'reset' || t == 'button' ||
			(t == 'checkbox' || t == 'radio') && !el.checked ||
			(t == 'submit' || t == 'image') && el.form && el.form.clk != el ||
			tag == 'select' && el.selectedIndex == -1)) {
				return null;
		}

		if (tag == 'select') {
			var index = el.selectedIndex;
			if (index < 0) {
				return null;
			}
			var a = [], ops = el.options;
			var one = (t == 'select-one');
			var max = (one ? index+1 : ops.length);
			for(var i=(one ? index : 0); i < max; i++) {
				var op = ops[i];
				if (op.selected) {
					var v = op.value;
					if (!v) { // extra pain for IE...
						v = (op.attributes && op.attributes['value'] && !(op.attributes['value'].specified)) ? op.text : op.value;
					}
					if (one) {
						return v;
					}
					a.push(v);
				}
			}
			return a;
		}
		return $(el).val();
	};

	/**
	 * Clears the form data.  Takes the following actions on the form's input fields:
	 *  - input text fields will have their 'value' property set to the empty string
	 *  - select elements will have their 'selectedIndex' property set to -1
	 *  - checkbox and radio inputs will have their 'checked' property set to false
	 *  - inputs of type submit, button, reset, and hidden will *not* be effected
	 *  - button elements will *not* be effected
	 */
	$.fn.clearForm = function(includeHidden) {
		return this.each(function() {
			$('input,select,textarea', this).clearFields(includeHidden);
		});
	};

	/**
	 * Clears the selected form elements.
	 */
	$.fn.clearFields = $.fn.clearInputs = function(includeHidden) {
		var re = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; // 'hidden' is not in this list
		return this.each(function() {
			var t = this.type, tag = this.tagName.toLowerCase();
			if (re.test(t) || tag == 'textarea' || (includeHidden && /hidden/.test(t)) ) {
				this.value = '';
			}
			else if (t == 'checkbox' || t == 'radio') {
				this.checked = false;
			}
			else if (tag == 'select') {
				this.selectedIndex = -1;
			}
		});
	};

	/**
	 * Resets the form data.  Causes all form elements to be reset to their original value.
	 */
	$.fn.resetForm = function() {
		return this.each(function() {
			// guard against an input with the name of 'reset'
			// note that IE reports the reset function as an 'object'
			if (typeof this.reset == 'function' || (typeof this.reset == 'object' && !this.reset.nodeType)) {
				this.reset();
			}
		});
	};

	/**
	 * Enables or disables any matching elements.
	 */
	$.fn.enable = function(b) {
		if (b === undefined) {
			b = true;
		}
		return this.each(function() {
			this.disabled = !b;
		});
	};

	/**
	 * Checks/unchecks any matching checkboxes or radio buttons and
	 * selects/deselects and matching option elements.
	 */
	$.fn.selected = function(select) {
		if (select === undefined) {
			select = true;
		}
		return this.each(function() {
			var t = this.type;
			if (t == 'checkbox' || t == 'radio') {
				this.checked = select;
			}
			else if (this.tagName.toLowerCase() == 'option') {
				var $sel = $(this).parent('select');
				if (select && $sel[0] && $sel[0].type == 'select-one') {
					// deselect all other options
					$sel.find('option').selected(false);
				}
				this.selected = select;
			}
		});
	};

	// expose debug var
	$.fn.ajaxSubmit.debug = false;

	// helper fn for console logging
	function log() {
		if (!$.fn.ajaxSubmit.debug) 
			return;
		var msg = '[jquery.form] ' + Array.prototype.join.call(arguments,'');
		if (window.console && window.console.log) {
			window.console.log(msg);
		}
		else if (window.opera && window.opera.postError) {
			window.opera.postError(msg);
		}
	};

	})(jQuery);
/**
 * weebox.js
 * @category   javascript
 * @package    jquery
 * @author     Jack <xiejinci@gmail.com>
 * @version    
 */ 
(function($) {
	var cachedata = {};
	var arrweebox = new Array();
	var weebox = function(content,options) {
		var self 		= this;
		this.dh 		= null;
		this.mh 		= null;
		this.dc			= null;
		this.dt			= null;
		this.db			= null;
		this.selector 	= null;	
		this.ajaxurl 	= null;
		this.options 	= null;
		this._dragging 	= false;
		this._content 	= content || '';
		this._options 	= options || {};
		this._defaults 	= {
			boxid: null,
			boxclass: null,
			cache: false,
			type: 'dialog',
			title: '',
			width: 0,
			height: 0,
			timeout: 0, 
			draggable: true,
			modal: true,
			focus: null,
			blur: null,
			position: 'center',
			overlay: 30,
			showTitle: true,
			showButton: true,
			showCancel: true, 
			showOk: true,
			okBtnName: '确定',
			cancelBtnName: '取消',
			contentType: 'text',
			contentChange: false,
			clickClose: false,
			zIndex: 999,
			animate: '',
			showAnimate:'',
			hideAnimate:'',
			onclose: null,
			onopen: null,
			oncancel: null,
			onok: null,
			suggest:{url:'',tele:'',vele:'',fn:null},
			select:{url:'',type:'radio', tele:'',vele:'',width:120,search:false,fn:null}
		};
		//初始化选项
		this.initOptions = function() {
			self._options = self._options || {};
			self._options.animate = self._options.animate || '';
			self._options.showAnimate = self._options.showAnimate || self._options.animate;
			self._options.hideAnimate = self._options.hideAnimate || self._options.animate;
			self._options.type = self._options.type || 'dialog';
			self._options.title = self._options.title || '';
			self._options.boxclass = self._options.boxclass || 'wee'+self._options.type;
			self._options.contentType = self._options.contentType || "";
			if (self._options.contentType == "") {
				self._options.contentType = (self._content.substr(0,1) == '#') ? 'selector' : 'text';
			}
			self.options  = $.extend({}, self._defaults, self._options);
			self._options = null;
			self._defaults = null;
		};
		//初始化弹窗Box
		this.initBox = function() {
			var html = '';
			switch(self.options.type) {
				case 'alert':
				case 'select':
				case 'dialog':
				html =  '<div class="weedialog">' +
						'	<div class="dialog-header">' +
						'		<div class="dialog-tl"></div>' +
						'		<div class="dialog-tc">' +
						'			<div class="dialog-tc1"></div>' +
						'			<div class="dialog-tc2"><a href="javascript:;" onclick="return false" title="关闭" class="dialog-close"></a><span class="dialog-title"></span></div>' +
						'		</div>' +
						'		<div class="dialog-tr"></div>' +
						'	</div>' +
						'	<table width="100%" border="0" cellspacing="0" cellpadding="0" >' +
						'		<tr>' +
						'			<td class="dialog-cl"></td>' +
						'			<td>' +
						'				<div class="dialog-content"></div>' +
						'				<div class="dialog-button">' +
						'					<input type="button" class="dialog-ok" value="确定">' +
						'					<input type="button" class="dialog-cancel" value="取消">' +
						'				</div>' +
						'			</td>' +
						'			<td class="dialog-cr"></td>' +
						'		</tr>' +
						'	</table>' +
						'	<div class="dialog-bot">' +
						'		<div class="dialog-bl"></div>' +
						'		<div class="dialog-bc"></div>' +
						'		<div class="dialog-br"></div>' +
						'	</div>' +
						'</div>';
						break;
				case 'custom':
				case 'suggest':
				html = '<div><div class="dialog-content"></div></div>';
						break;
			}
			self.dh = $(html).appendTo('body').hide().css({
				position: 'absolute',	
				overflow: 'hidden',
				zIndex: self.options.zIndex
			});
			self.dc = self.find('.dialog-content');
			self.dt = self.find('.dialog-title');
			self.db = self.find('.dialog-button');
			if (self.options.boxid) {
				self.dh.attr('id', self.options.boxid);
			}	
			if (self.options.boxclass) {
				self.dh.addClass(self.options.boxclass);
			}
			if (self.options.height>0) {
				self.dc.css('height', self.options.height);
			}
			if (self.options.width>0) {
				self.dh.css('width', self.options.width);
			}
			self.dh.bgiframe();
		}
		//初始化遮照
		this.initMask = function() {
			if (self.options.modal) {
				if ($.browser.msie) {
                    h= document.compatMode == "CSS1Compat" ? document.documentElement.clientHeight : document.body.clientHeight;
                    w= document.compatMode == "CSS1Compat" ? document.documentElement.clientWidth : document.body.clientWidth;
                } else {
                    h= self.bheight();
                    w= self.bwidth();
                }
				self.mh = $("<div class='dialog-mask'></div>")
				.appendTo('body').hide().css({
					width: w,
					height: h,
					zIndex: self.options.zIndex-1
				}).bgiframe();
			}
		}
		//初始化弹窗内容
		this.initContent = function(content) {
			self.dh.find(".dialog-ok").val(self.options.okBtnName);
			self.dh.find(".dialog-cancel").val(self.options.cancelBtnName);	
			if (self.options.title == '') {
				//self.dt.hide();	
				//self.dt.html(self._titles[self._options.type] || '');
			} else {
				self.dt.html(self.options.title);
			}
			if (!self.options.showTitle) {
				self.dt.hide();
			}	
			if (!self.options.showButton) {
				self.dh.find('.dialog-button').hide();
			}
			if (!self.options.showCancel) {
				self.dh.find('.dialog-cancel').hide();
			}							
			if (!self.options.showOk) {
				self.dh.find(".dialog-ok").hide();
			}
			if (self.options.type == 'suggest') {//例外处理
				self.hide();
				//self.options.clickClose = true;
				$(self.options.suggest.tele).unbind('keyup').keyup(function(){
					var val = $.trim(this.value);
					var data = null;
					for(key in cachedata) {
						if (key == val) {
							data = cachedata[key];
						}
					}
					if (data === null) {
						$.ajax({
							type: "GET",
							data:{q:val},
						  	url: self.options.suggest.url || self._content,
						  	success: function(res){data = res;},
						  	dataType:'json',
						  	async: false				  	
						});
					}
					cachedata[val] = data;
					var html = '';
					for(key in data) {
						html += '<li>'+data[key].name+'</li>';
					}
					self.setContent(html);
					self.show();
					self.find('li').click(function(){
						var i = self.find('li').index(this);
						$(self.options.suggest.tele).val(data[i].name);
						$(self.options.suggest.vele).val(data[i].id);
						if (typeof self.options.suggest.fn == 'function') {
							fn(data[i]);
						}
						self.hide();
					});
				});
			} else if(self.options.type == 'select') {
				var type = self.options.select.type || 'radio';
				var url = self.options.select.url || self._content || '';
				var search = self.options.select.search || false;
				$.ajax({
					type: "GET",
				  	url: url,
				  	success: function(data){
						var html = '';
						if (data === null) {
							html = '没有数据';
						} else {
							if (search) {
								html += '<div class="wsearch"><input type="text"><input type="button" value="查询"></div>';
							}
							var ovals = $.trim($(self.options.select.vele).val()).split(',');//原值
							html += '<div class="wselect">';
							for(key in data) {
								var checked = ($.inArray(data[key].id, ovals)==-1)?'':'checked="checked"'; 
								html += '<li><label><input name="wchoose" '+checked+' type="'+type+'" value="'+data[key].id+'">'+data[key].name+'</label></li>';
							}
							html += '</div>';
						}
						self.setContent(html);
						self.find('li').width(self.options.select.width);
						self.find('.wsearch input').keyup(function(){
							var v = $.trim(this.value);
							self.find('li').hide();
							for(i in data) {
								if (data[i].id==v || data[i].name.indexOf(v)!=-1) {
									self.find('li:eq('+i+')').show();
								}
							}
						});
						self.setOnok(function(){
							if (type=='radio') {
								if (self.find(':checked').length == 0) {
									$(self.options.select.tele).val('');
									$(self.options.select.vele).val('');
								} else {
									var i = self.find(':radio[name=wchoose]').index(self.find(':checked')[0]);
									$(self.options.select.tele).val(data[i].name);
									$(self.options.select.vele).val(data[i].id);
									if (typeof self.options.select.fn == 'function') fn(data[i]);
								}
							} else {
								if (self.find(':checked').length == 0) {
									$(self.options.select.tele).val('');
									$(self.options.select.vele).val('');
								} else {
									var temps=[],ids=[],names=[];
									self.find(':checked').each(function(){
										var i = self.find(':checkbox[name=wchoose]').index(this);
										temps.push(data[i]);
										ids.push(data[i].id);
										names.push(data[i].name);
									});
									$(self.options.select.tele).val(names.join(","));
									$(self.options.select.vele).val(ids.join(","));
									if (typeof self.options.select.fn == 'function') fn(temps);
								}
							}
							self.close();
						});
						self.show();
					},
				  	dataType:'json'
				});
			} else {				
				if (self.options.contentType == "selector") {
					self.selector = self._content;
					self._content = $(self.selector).html();
					self.setContent(self._content);
					//if have checkbox do
					var cs = $(self.selector).find(':checkbox');
					self.dc.find(':checkbox').each(function(i){
						this.checked = cs[i].checked;
					});
					$(self.selector).empty();
					self.show();
					self.focus();
					self.onopen();
				} else if (self.options.contentType == "ajax") {	
					self.ajaxurl = self._content;	
					self.setLoading();				
					self.show();
					self.dh.find(".dialog-button").hide();
					if (self.options.cache == false) {
						if (self.ajaxurl.indexOf('?') == -1) {
							self.ajaxurl += "?_t="+Math.random();
						} else {
							self.ajaxurl += "&_t="+Math.random();
						}
					}
					$.get(self.ajaxurl, function(data) {
						self._content = data;
				    	self.setContent(self._content);
				    	self.show();
						self.focus();
				    	self.onopen();
					});
				} else if (self.options.contentType == "iframe") { /*加入iframe使程序可以直接引用其它页面 by ePim*/
					var html = '<style type="text/css">';
					html += ('\n.dialog-box .dialog-content{padding:0px;}');
					html += ('\n</style>');
					html += ('<iframe class="dialogIframe" src="'+self._content+'" width="100%" height="100%" frameborder="0"></iframe>');
					self.setContent(html);
					self.onopen();
					self.show();
				} else {
					self.setContent(self._content);	
					self.show();
					self.focus();
					self.onopen();
				}
			}
		}
		//初始化弹窗事件
		this.initEvent = function() {
			self.dh.find(".dialog-close, .dialog-cancel, .dialog-ok").unbind('click').click(function(){self.close()});			
			if (typeof(self.options.onok) == "function") {
				self.dh.find(".dialog-ok").unbind('click').click(function(){self.options.onok(self)});
			} 
			if (typeof(self.options.oncancel) == "function") {
				self.dh.find(".dialog-cancel").unbind('click').click(function(){self.options.oncancel(self)});
			}	
			if (self.options.timeout>0) {
				window.setTimeout(self.close, (self.options.timeout * 1000));
			}			
			this.drag();			
		}
		//设置onok事件
		this.setOnok = function(fn) {
			self.dh.find(".dialog-ok").unbind('click');
			if (typeof(fn)=="function")	self.dh.find(".dialog-ok").click(function(){fn(self)});
		}
		//设置onOncancel事件
		this.setOncancel = function(fn) {
			self.dh.find(".dialog-cancel").unbind('click');
			if (typeof(fn)=="function")	self.dh.find(".dialog-cancel").click(function(){fn(self)});
		}
		//设置onOnclose事件
		this.setOnclose = function(fn) {
			self.options.onclose = fn;
		}
		//弹窗拖拽
		this.drag = function() {		
			if (self.options.draggable && self.options.showTitle) {
				self.dh.find('.dialog-header').mousedown(function(event){
					var h  = this; 
					var o  = document;
					var ox = self.dh.position().left;
					var oy = self.dh.position().top;
					var mx = event.clientX;
					var my = event.clientY;
					var width = self.dh.width();
					var height = self.dh.height();
					var bwidth = self.bwidth();
					var bheight = self.bheight(); 
			        if(h.setCapture) {
			            h.setCapture();
			        }
					$(document).mousemove(function(event){						
						if (window.getSelection) {
							window.getSelection().removeAllRanges();
						} else { 
				        	document.selection.empty();
				        }
						//TODO
						var left = Math.max(ox+event.clientX-mx, 0);
						var top = Math.max(oy+event.clientY-my, 0);
						var left = Math.min(left, bwidth-width);
						var top = Math.min(top, bheight-height);
						self.dh.css({left: left, top: top});
					}).mouseup(function(){
						if(h.releaseCapture) { 
			                h.releaseCapture();
			            }
				        $(document).unbind('mousemove');
				        $(document).unbind('mouseup');
					});
				});			
			}	
		}
		//打开前的回弹函数
		this.onopen = function() {							
			if (typeof(self.options.onopen) == "function") {
				self.options.onopen(self);
			}	
		}
		//增加一个按钮
		this.addButton = function(opt) {
			opt = opt || {};
			opt.title = opt.title || 'OK';
			opt.bclass = opt.bclass || 'dialog-btn1';
			opt.fn = opt.fn || null;
			opt.index = opt.index || 0;
			var btn = $('<input type="button" class="'+opt.bclass+'" value="'+opt.title+'">').click(function(){
				if (typeof opt.fn == "function") opt.fn(self);
			});
			if (opt.index < self.db.find('input').length) {
				self.db.find('input:eq('+opt.index+')').before(btn);
			} else {
				self.db.append(opt);
			}			
		}
		//显示弹窗
		this.show = function() {
			if (self.options.showButton) {
				self.dh.find('.dialog-button').show();
			}
			if (self.options.position == 'center') {
				self.setCenterPosition();
			} else {
				self.setElementPosition();
			}
			if (typeof self.options.showAnimate == "string") {
				self.dh.show(self.options.animate);
			} else {
				self.dh.animate(self.options.showAnimate.animate, self.options.showAnimate.speed);
			}
			if (self.mh) {
				self.mh.show();
			}
		}
		this.hide = function(fn) {
			if (typeof self.options.hideAnimate == "string") {
				self.dh.hide(self.options.animate, fn);
			} else {
				self.dh.animate(self.options.hideAnimate.animate, self.options.hideAnimate.speed, "", fn);
			}
		}
		//设置弹窗焦点
		this.focus = function() {
			if (self.options.focus) {
				self.dh.find(self.options.focus).focus();//TODO IE中要两次
				self.dh.find(self.options.focus).focus();
			} else {
				self.dh.find('.dialog-cancel').focus();
			}
		}
		//在弹窗内查找元素
		this.find = function(selector) {
			return self.dh.find(selector);
		}
		//设置加载加状态
		this.setLoading = function() {			
			self.setContent('<div class="dialog-loading"></div>');
			self.dh.find(".dialog-button").hide();
			if (self.dc.height()<90) {				
				self.dc.height(Math.max(90, self.options.height));
			}
			if (self.dh.width()<200) {
				self.dh.width(Math.max(200, self.options.width));
			}
		}
		this.setWidth = function(width) {
			self.dh.width(width);
		}
		//设置标题
		this.setTitle = function(title) {
			self.dt.html(title);
		}
		//取得标题
		this.getTitle = function() {
			return self.dt.html();
		}
		//设置内容
		this.setContent = function(content) {
			self.dc.html(content);
			if (self.options.height>0) {
				self.dc.css('height', self.options.height);
			} else {
				self.dc.css('height','');
			}
			if (self.options.width>0) {
				self.dh.css('width', self.options.width);
			} else {
				self.dh.css('width','');
			}
			if (self.options.showButton) {
				self.dh.find(".dialog-button").show();
			}
		}
		//取得内容
		this.getContent = function() {
			return self.dc.html();
		}	
		//使能按钮
		this.disabledButton = function(btname, state) {
			self.dh.find('.dialog-'+btname).attr("disabled", state);
		}
		//隐藏按钮
		this.hideButton = function(btname) {
			self.dh.find('.dialog-'+btname).hide();			
		}
		//显示按钮
		this.showButton = function(btname) {
			self.dh.find('.dialog-'+btname).show();	
		}
		//设置按钮标题
		this.setButtonTitle = function(btname, title) {
			self.dh.find('.dialog-'+btname).val(title);	
		}
		//操作完成
		this.next = function(opt) {
			opt = opt || {};
			opt.title = opt.title || self.getTitle();
			opt.content = opt.content || "";
			opt.okname = opt.okname || "确定";
			opt.width = opt.width || 260;
			opt.onok = opt.onok || self.close;
			opt.onclose = opt.onclose || null;
			opt.oncancel = opt.oncancel || null;
			opt.hideCancel = opt.hideCancel || true;
			self.setTitle(opt.title);
			self.setButtonTitle("ok", okname);
			self.setWidth(width);
			self.setOnok(opt.onok);
			if (opt.content != "") self.setContent(opt.content);
			if (opt.hideCancel)	self.hideButton("cancel");
			if (typeof(opt.onclose) == "function") self.setOnclose(opt.onclose);
			if (typeof(opt.oncancel) == "function") self.setOncancel(opt.oncancel);
			self.show();
		}
		//关闭弹窗
		this.close = function(n) {
			if (typeof(self.options.onclose) == "function") {
				self.options.onclose(self);
			}
			if (self.options.contentType == 'selector') {
				if (self.options.contentChange) {
					//if have checkbox do
					var cs = self.find(':checkbox');
					$(self.selector).html(self.getContent());						
					if (cs.length > 0) {
						$(self.selector).find(':checkbox').each(function(i){
							this.checked = cs[i].checked;
						});
					}
				} else {
					$(self.selector).html(self._content);
				}
			} else if(self.options.contentType == "iframe") {
				var iframe = self.dh.find(".dialogIframe");
				iframe.removeAttr("src");
			}
			//设置关闭后的焦点
			if (self.options.blur) {
				$(self.options.blur).focus();
			}
			//从数组中删除
			for(i=0;i<arrweebox.length;i++) {
				if (arrweebox[i].dh.get(0) == self.dh.get(0)) {
					arrweebox.splice(i, 1);
					break;
				}
			}
			self.hide();
			self.dh.remove();
			if (self.mh) {
				self.mh.remove();
			}
		}
		//取得遮照高度
		this.bheight = function() {
			if ($.browser.msie && $.browser.version < 7) {
				var scrollHeight = Math.max(
					document.documentElement.scrollHeight,
					document.body.scrollHeight
				);
				var offsetHeight = Math.max(
					document.documentElement.offsetHeight,
					document.body.offsetHeight
				);
				
				if (scrollHeight < offsetHeight) {
					return $(window).height();
				} else {
					return scrollHeight;
				}
			} else {
				return $(document).height();
			}
		}
		//取得遮照宽度
		this.bwidth = function() {
			if ($.browser.msie && $.browser.version < 7) {
				var scrollWidth = Math.max(
					document.documentElement.scrollWidth,
					document.body.scrollWidth
				);
				var offsetWidth = Math.max(
					document.documentElement.offsetWidth,
					document.body.offsetWidth
				);
				
				if (scrollWidth < offsetWidth) {
					return $(window).width();
				} else {
					return scrollWidth;
				}
			} else {
				return $(document).width();
			}
		}
		//将弹窗显示在中间位置
		this.setCenterPosition = function() {
			var wnd = $(window), doc = $(document),
				pTop = doc.scrollTop(),	pLeft = doc.scrollLeft();
			pTop += (wnd.height() - self.dh.height()) / 2;
			pLeft += (wnd.width() - self.dh.width()) / 2;
			self.dh.css({top: pTop, left: pLeft});
		}
		//根据元素设置弹窗显示位置
		this.setElementPosition = function() {
			var trigger = $(self.options.position.refele);
			var reftop = self.options.position.reftop || 0;
			var refleft = self.options.position.refleft || 0;
			var adjust = (typeof self.options.position.adjust=="undefined")?true:self.options.position.adjust;
			var top = trigger.offset().top + trigger.height();
			var left = trigger.offset().left;
			var docWidth = document.documentElement.clientWidth || document.body.clientWidth;
			var docHeight = document.documentElement.clientHeight|| document.body.clientHeight;
			var docTop = document.documentElement.scrollTop|| document.body.scrollTop;
			var docLeft = document.documentElement.scrollLeft|| document.body.scrollLeft;
			var docBottom = docTop + docHeight;
			var docRight = docLeft + docWidth;
			if (adjust && left + self.dh.width() > docRight) {
				left = docRight - self.dh.width() - 1;
			}
			if (adjust && top + self.dh.height() > docBottom) {
				top = docBottom - self.dh.height() - 1;
			}
			left = Math.max(left+refleft, 0);
			top = Math.max(top+reftop, 0);
			self.dh.css({top: top, left: left});
		}
		this.initOptions();
		this.initMask();
		this.initBox();		
		this.initContent();
		this.initEvent();
	}	
	
	var weeboxs = function() {		
		var self = this;
		this._onbox = false;
		this._opening = false;
		this.zIndex = 999;
		this.length = function() {
			return arrweebox.length;
		}
		this.open = function(content, options) {
			self._opening = true;
			if (typeof(options) == "undefined") {
				options = {};
			}
			if (options.boxid) {
				for(var i=0; i<arrweebox.length; i++) {
					if (arrweebox[i].dh.attr('id') == options.boxid) {
						arrweebox[i].close();
						break;
					}
				}
			}
			options.zIndex = self.zIndex;
			self.zIndex += 10;
			var box = new weebox(content, options);
			box.dh.click(function(){self._onbox = true;});
			arrweebox.push(box);
			/*-----解决在ie下页面过大时出现部分阴影没有覆盖的问题-----by ePim*/
			if (box.options.position != "center"){
				box.setElementPosition();
			}
			if (box.mh) {
				box.mh.css({
					width: box.bwidth(),
					height: box.bheight()
				});
			}
			/*-----解决在ie下页面过大时出现部分没有遮罩的问题-----by ePim(WanJiDong@gmail.com)*/
			return box;
		}
		//关闭最上层窗体,程序调用方法：jQuery.weeboxs.close();
		this.close = function(){
			var closingBox = this.getTopBox();
			if(false!=closingBox) {
				closingBox.close();
			}
		}
		this.getTopBox = function() {
			if (arrweebox.length>0) {
				return arrweebox[arrweebox.length-1];
			} else {
				return false;
			}
		}
		$(window).scroll(function() {
			if (arrweebox.length > 0) {
				for(i=0;i<arrweebox.length;i++) {
					var box = arrweebox[i];//self.getTopBox();
					/*if (box.options.position == "center") {
						box.setCenterPosition();
					}*/
					if (box.options.position != "center"){
						box.setElementPosition();
					}
					if (box.mh) {
						box.mh.css({
							width: box.bwidth(),
							height: box.bheight()
						});
					}
				}
			}		
		}).resize(function() {
			if (arrweebox.length > 0) {
				var box = self.getTopBox();
				if (box.options.position == "center") {
					box.setCenterPosition();
				}
				if (box.mh) {
					box.mh.css({
						width: box.bwidth(),
						height: box.bheight()
					});
				}
			}
		});
		$(document).click(function(event) {
			if (event.button==2) return true;
			if (arrweebox.length>0) {
				var box = self.getTopBox();
				if(!self._opening && !self._onbox && box.options.clickClose) {
					box.close();
				}
			}
			self._opening = false;
			self._onbox = false;
		});
	};
	$.extend({weeboxs: new weeboxs()});		
})(jQuery);

/**
 * weebox.js
 * @category   javascript
 * @package    jquery
 * @author     Jack <xiejinci@gmail.com>
 * @version    
 */ 
(function($) {
	var cachedata = {};
	var arrweebox = new Array();
	var weebox = function(content,options) {
		var self 		= this;
		this.dh 		= null;
		this.mh 		= null;
		this.dc			= null;
		this.dt			= null;
		this.db			= null;
		this.selector 	= null;	
		this.ajaxurl 	= null;
		this.options 	= null;
		this._dragging 	= false;
		this._content 	= content || '';
		this._options 	= options || {};
		this._defaults 	= {
			boxid: null,
			boxclass: null,
			cache: false,
			type: 'dialog',
			title: '',
			width: 0,
			height: 0,
			timeout: 0, 
			draggable: true,
			modal: true,
			focus: null,
			blur: null,
			position: 'center',
			overlay: 30,
			showTitle: true,
			showButton: true,
			showCancel: true, 
			showOk: true,
			okBtnName: '确定',
			cancelBtnName: '取消',
			contentType: 'text',
			contentChange: false,
			clickClose: false,
			zIndex: 999,
			animate: '',
			showAnimate:'',
			hideAnimate:'',
			onclose: null,
			onopen: null,
			oncancel: null,
			onok: null,
			suggest:{url:'',tele:'',vele:'',fn:null},
			select:{url:'',type:'radio', tele:'',vele:'',width:120,search:false,fn:null}
		};
		//初始化选项
		this.initOptions = function() {
			self._options = self._options || {};
			self._options.animate = self._options.animate || '';
			self._options.showAnimate = self._options.showAnimate || self._options.animate;
			self._options.hideAnimate = self._options.hideAnimate || self._options.animate;
			self._options.type = self._options.type || 'dialog';
			self._options.title = self._options.title || '';
			self._options.boxclass = self._options.boxclass || 'wee'+self._options.type;
			self._options.contentType = self._options.contentType || "";
			if (self._options.contentType == "") {
				self._options.contentType = (self._content.substr(0,1) == '#') ? 'selector' : 'text';
			}
			self.options  = $.extend({}, self._defaults, self._options);
			self._options = null;
			self._defaults = null;
		};
		//初始化弹窗Box
		this.initBox = function() {
			var html = '';
			switch(self.options.type) {
				case 'alert':
				case 'select':
				case 'dialog':
				html =  '<div class="weedialog">' +
						'	<div class="dialog-header">' +
						'		<div class="dialog-tl"></div>' +
						'		<div class="dialog-tc">' +
						'			<div class="dialog-tc1"></div>' +
						'			<div class="dialog-tc2"><a href="javascript:;" onclick="return false" title="关闭" class="dialog-close"></a><span class="dialog-title"></span></div>' +
						'		</div>' +
						'		<div class="dialog-tr"></div>' +
						'	</div>' +
						'	<table width="100%" border="0" cellspacing="0" cellpadding="0" >' +
						'		<tr>' +
						'			<td class="dialog-cl"></td>' +
						'			<td>' +
						'				<div class="dialog-content"></div>' +
						'				<div class="dialog-button">' +
						'					<input type="button" class="dialog-ok" value="确定">' +
						'					<input type="button" class="dialog-cancel" value="取消">' +
						'				</div>' +
						'			</td>' +
						'			<td class="dialog-cr"></td>' +
						'		</tr>' +
						'	</table>' +
						'	<div class="dialog-bot">' +
						'		<div class="dialog-bl"></div>' +
						'		<div class="dialog-bc"></div>' +
						'		<div class="dialog-br"></div>' +
						'	</div>' +
						'</div>';
						break;
				case 'custom':
				case 'suggest':
				html = '<div><div class="dialog-content"></div></div>';
						break;
			}
			self.dh = $(html).appendTo('body').hide().css({
				position: 'absolute',	
				overflow: 'hidden',
				zIndex: self.options.zIndex
			});
			self.dc = self.find('.dialog-content');
			self.dt = self.find('.dialog-title');
			self.db = self.find('.dialog-button');
			if (self.options.boxid) {
				self.dh.attr('id', self.options.boxid);
			}	
			if (self.options.boxclass) {
				self.dh.addClass(self.options.boxclass);
			}
			if (self.options.height>0) {
				self.dc.css('height', self.options.height);
			}
			if (self.options.width>0) {
				self.dh.css('width', self.options.width);
			}
			self.dh.bgiframe();
		}
		//初始化遮照
		this.initMask = function() {
			if (self.options.modal) {
				if ($.browser.msie) {
                    h= document.compatMode == "CSS1Compat" ? document.documentElement.clientHeight : document.body.clientHeight;
                    w= document.compatMode == "CSS1Compat" ? document.documentElement.clientWidth : document.body.clientWidth;
                } else {
                    h= self.bheight();
                    w= self.bwidth();
                }
				self.mh = $("<div class='dialog-mask'></div>")
				.appendTo('body').hide().css({
					width: w,
					height: h,
					zIndex: self.options.zIndex-1
				}).bgiframe();
			}
		}
		//初始化弹窗内容
		this.initContent = function(content) {
			self.dh.find(".dialog-ok").val(self.options.okBtnName);
			self.dh.find(".dialog-cancel").val(self.options.cancelBtnName);	
			if (self.options.title == '') {
				//self.dt.hide();	
				//self.dt.html(self._titles[self._options.type] || '');
			} else {
				self.dt.html(self.options.title);
			}
			if (!self.options.showTitle) {
				self.dt.hide();
			}	
			if (!self.options.showButton) {
				self.dh.find('.dialog-button').hide();
			}
			if (!self.options.showCancel) {
				self.dh.find('.dialog-cancel').hide();
			}							
			if (!self.options.showOk) {
				self.dh.find(".dialog-ok").hide();
			}
			if (self.options.type == 'suggest') {//例外处理
				self.hide();
				//self.options.clickClose = true;
				$(self.options.suggest.tele).unbind('keyup').keyup(function(){
					var val = $.trim(this.value);
					var data = null;
					for(key in cachedata) {
						if (key == val) {
							data = cachedata[key];
						}
					}
					if (data === null) {
						$.ajax({
							type: "GET",
							data:{q:val},
						  	url: self.options.suggest.url || self._content,
						  	success: function(res){data = res;},
						  	dataType:'json',
						  	async: false				  	
						});
					}
					cachedata[val] = data;
					var html = '';
					for(key in data) {
						html += '<li>'+data[key].name+'</li>';
					}
					self.setContent(html);
					self.show();
					self.find('li').click(function(){
						var i = self.find('li').index(this);
						$(self.options.suggest.tele).val(data[i].name);
						$(self.options.suggest.vele).val(data[i].id);
						if (typeof self.options.suggest.fn == 'function') {
							fn(data[i]);
						}
						self.hide();
					});
				});
			} else if(self.options.type == 'select') {
				var type = self.options.select.type || 'radio';
				var url = self.options.select.url || self._content || '';
				var search = self.options.select.search || false;
				$.ajax({
					type: "GET",
				  	url: url,
				  	success: function(data){
						var html = '';
						if (data === null) {
							html = '没有数据';
						} else {
							if (search) {
								html += '<div class="wsearch"><input type="text"><input type="button" value="查询"></div>';
							}
							var ovals = $.trim($(self.options.select.vele).val()).split(',');//原值
							html += '<div class="wselect">';
							for(key in data) {
								var checked = ($.inArray(data[key].id, ovals)==-1)?'':'checked="checked"'; 
								html += '<li><label><input name="wchoose" '+checked+' type="'+type+'" value="'+data[key].id+'">'+data[key].name+'</label></li>';
							}
							html += '</div>';
						}
						self.setContent(html);
						self.find('li').width(self.options.select.width);
						self.find('.wsearch input').keyup(function(){
							var v = $.trim(this.value);
							self.find('li').hide();
							for(i in data) {
								if (data[i].id==v || data[i].name.indexOf(v)!=-1) {
									self.find('li:eq('+i+')').show();
								}
							}
						});
						self.setOnok(function(){
							if (type=='radio') {
								if (self.find(':checked').length == 0) {
									$(self.options.select.tele).val('');
									$(self.options.select.vele).val('');
								} else {
									var i = self.find(':radio[name=wchoose]').index(self.find(':checked')[0]);
									$(self.options.select.tele).val(data[i].name);
									$(self.options.select.vele).val(data[i].id);
									if (typeof self.options.select.fn == 'function') fn(data[i]);
								}
							} else {
								if (self.find(':checked').length == 0) {
									$(self.options.select.tele).val('');
									$(self.options.select.vele).val('');
								} else {
									var temps=[],ids=[],names=[];
									self.find(':checked').each(function(){
										var i = self.find(':checkbox[name=wchoose]').index(this);
										temps.push(data[i]);
										ids.push(data[i].id);
										names.push(data[i].name);
									});
									$(self.options.select.tele).val(names.join(","));
									$(self.options.select.vele).val(ids.join(","));
									if (typeof self.options.select.fn == 'function') fn(temps);
								}
							}
							self.close();
						});
						self.show();
					},
				  	dataType:'json'
				});
			} else {				
				if (self.options.contentType == "selector") {
					self.selector = self._content;
					self._content = $(self.selector).html();
					self.setContent(self._content);
					//if have checkbox do
					var cs = $(self.selector).find(':checkbox');
					self.dc.find(':checkbox').each(function(i){
						this.checked = cs[i].checked;
					});
					$(self.selector).empty();
					self.show();
					self.focus();
					self.onopen();
				} else if (self.options.contentType == "ajax") {	
					self.ajaxurl = self._content;	
					self.setLoading();				
					self.show();
					self.dh.find(".dialog-button").hide();
					if (self.options.cache == false) {
						if (self.ajaxurl.indexOf('?') == -1) {
							self.ajaxurl += "?_t="+Math.random();
						} else {
							self.ajaxurl += "&_t="+Math.random();
						}
					}
					$.get(self.ajaxurl, function(data) {
						self._content = data;
				    	self.setContent(self._content);
				    	self.show();
						self.focus();
				    	self.onopen();
					});
				} else if (self.options.contentType == "iframe") { /*加入iframe使程序可以直接引用其它页面 by ePim*/
					var html = '<style type="text/css">';
					html += ('\n.dialog-box .dialog-content{padding:0px;}');
					html += ('\n</style>');
					html += ('<iframe class="dialogIframe" src="'+self._content+'" width="100%" height="100%" frameborder="0"></iframe>');
					self.setContent(html);
					self.onopen();
					self.show();
				} else {
					self.setContent(self._content);	
					self.show();
					self.focus();
					self.onopen();
				}
			}
		}
		//初始化弹窗事件
		this.initEvent = function() {
			self.dh.find(".dialog-close, .dialog-cancel, .dialog-ok").unbind('click').click(function(){self.close()});			
			if (typeof(self.options.onok) == "function") {
				self.dh.find(".dialog-ok").unbind('click').click(function(){self.options.onok(self)});
			} 
			if (typeof(self.options.oncancel) == "function") {
				self.dh.find(".dialog-cancel").unbind('click').click(function(){self.options.oncancel(self)});
			}	
			if (self.options.timeout>0) {
				window.setTimeout(self.close, (self.options.timeout * 1000));
			}			
			this.drag();			
		}
		//设置onok事件
		this.setOnok = function(fn) {
			self.dh.find(".dialog-ok").unbind('click');
			if (typeof(fn)=="function")	self.dh.find(".dialog-ok").click(function(){fn(self)});
		}
		//设置onOncancel事件
		this.setOncancel = function(fn) {
			self.dh.find(".dialog-cancel").unbind('click');
			if (typeof(fn)=="function")	self.dh.find(".dialog-cancel").click(function(){fn(self)});
		}
		//设置onOnclose事件
		this.setOnclose = function(fn) {
			self.options.onclose = fn;
		}
		//弹窗拖拽
		this.drag = function() {		
			if (self.options.draggable && self.options.showTitle) {
				self.dh.find('.dialog-header').mousedown(function(event){
					var h  = this; 
					var o  = document;
					var ox = self.dh.position().left;
					var oy = self.dh.position().top;
					var mx = event.clientX;
					var my = event.clientY;
					var width = self.dh.width();
					var height = self.dh.height();
					var bwidth = self.bwidth();
					var bheight = self.bheight(); 
			        if(h.setCapture) {
			            h.setCapture();
			        }
					$(document).mousemove(function(event){						
						if (window.getSelection) {
							window.getSelection().removeAllRanges();
						} else { 
				        	document.selection.empty();
				        }
						//TODO
						var left = Math.max(ox+event.clientX-mx, 0);
						var top = Math.max(oy+event.clientY-my, 0);
						var left = Math.min(left, bwidth-width);
						var top = Math.min(top, bheight-height);
						self.dh.css({left: left, top: top});
					}).mouseup(function(){
						if(h.releaseCapture) { 
			                h.releaseCapture();
			            }
				        $(document).unbind('mousemove');
				        $(document).unbind('mouseup');
					});
				});			
			}	
		}
		//打开前的回弹函数
		this.onopen = function() {							
			if (typeof(self.options.onopen) == "function") {
				self.options.onopen(self);
			}	
		}
		//增加一个按钮
		this.addButton = function(opt) {
			opt = opt || {};
			opt.title = opt.title || 'OK';
			opt.bclass = opt.bclass || 'dialog-btn1';
			opt.fn = opt.fn || null;
			opt.index = opt.index || 0;
			var btn = $('<input type="button" class="'+opt.bclass+'" value="'+opt.title+'">').click(function(){
				if (typeof opt.fn == "function") opt.fn(self);
			});
			if (opt.index < self.db.find('input').length) {
				self.db.find('input:eq('+opt.index+')').before(btn);
			} else {
				self.db.append(opt);
			}			
		}
		//显示弹窗
		this.show = function() {
			if (self.options.showButton) {
				self.dh.find('.dialog-button').show();
			}
			if (self.options.position == 'center') {
				self.setCenterPosition();
			} else {
				self.setElementPosition();
			}
			if (typeof self.options.showAnimate == "string") {
				self.dh.show(self.options.animate);
			} else {
				self.dh.animate(self.options.showAnimate.animate, self.options.showAnimate.speed);
			}
			if (self.mh) {
				self.mh.show();
			}
		}
		this.hide = function(fn) {
			if (typeof self.options.hideAnimate == "string") {
				self.dh.hide(self.options.animate, fn);
			} else {
				self.dh.animate(self.options.hideAnimate.animate, self.options.hideAnimate.speed, "", fn);
			}
		}
		//设置弹窗焦点
		this.focus = function() {
			if (self.options.focus) {
				self.dh.find(self.options.focus).focus();//TODO IE中要两次
				self.dh.find(self.options.focus).focus();
			} else {
				self.dh.find('.dialog-cancel').focus();
			}
		}
		//在弹窗内查找元素
		this.find = function(selector) {
			return self.dh.find(selector);
		}
		//设置加载加状态
		this.setLoading = function() {			
			self.setContent('<div class="dialog-loading"></div>');
			self.dh.find(".dialog-button").hide();
			if (self.dc.height()<90) {				
				self.dc.height(Math.max(90, self.options.height));
			}
			if (self.dh.width()<200) {
				self.dh.width(Math.max(200, self.options.width));
			}
		}
		this.setWidth = function(width) {
			self.dh.width(width);
		}
		//设置标题
		this.setTitle = function(title) {
			self.dt.html(title);
		}
		//取得标题
		this.getTitle = function() {
			return self.dt.html();
		}
		//设置内容
		this.setContent = function(content) {
			self.dc.html(content);
			if (self.options.height>0) {
				self.dc.css('height', self.options.height);
			} else {
				self.dc.css('height','');
			}
			if (self.options.width>0) {
				self.dh.css('width', self.options.width);
			} else {
				self.dh.css('width','');
			}
			if (self.options.showButton) {
				self.dh.find(".dialog-button").show();
			}
		}
		//取得内容
		this.getContent = function() {
			return self.dc.html();
		}	
		//使能按钮
		this.disabledButton = function(btname, state) {
			self.dh.find('.dialog-'+btname).attr("disabled", state);
		}
		//隐藏按钮
		this.hideButton = function(btname) {
			self.dh.find('.dialog-'+btname).hide();			
		}
		//显示按钮
		this.showButton = function(btname) {
			self.dh.find('.dialog-'+btname).show();	
		}
		//设置按钮标题
		this.setButtonTitle = function(btname, title) {
			self.dh.find('.dialog-'+btname).val(title);	
		}
		//操作完成
		this.next = function(opt) {
			opt = opt || {};
			opt.title = opt.title || self.getTitle();
			opt.content = opt.content || "";
			opt.okname = opt.okname || "确定";
			opt.width = opt.width || 260;
			opt.onok = opt.onok || self.close;
			opt.onclose = opt.onclose || null;
			opt.oncancel = opt.oncancel || null;
			opt.hideCancel = opt.hideCancel || true;
			self.setTitle(opt.title);
			self.setButtonTitle("ok", okname);
			self.setWidth(width);
			self.setOnok(opt.onok);
			if (opt.content != "") self.setContent(opt.content);
			if (opt.hideCancel)	self.hideButton("cancel");
			if (typeof(opt.onclose) == "function") self.setOnclose(opt.onclose);
			if (typeof(opt.oncancel) == "function") self.setOncancel(opt.oncancel);
			self.show();
		}
		//关闭弹窗
		this.close = function(n) {
			if (typeof(self.options.onclose) == "function") {
				self.options.onclose(self);
			}
			if (self.options.contentType == 'selector') {
				if (self.options.contentChange) {
					//if have checkbox do
					var cs = self.find(':checkbox');
					$(self.selector).html(self.getContent());						
					if (cs.length > 0) {
						$(self.selector).find(':checkbox').each(function(i){
							this.checked = cs[i].checked;
						});
					}
				} else {
					$(self.selector).html(self._content);
				}
			} else if(self.options.contentType == "iframe") {
				var iframe = self.dh.find(".dialogIframe");
				iframe.removeAttr("src");
			}
			//设置关闭后的焦点
			if (self.options.blur) {
				$(self.options.blur).focus();
			}
			//从数组中删除
			for(i=0;i<arrweebox.length;i++) {
				if (arrweebox[i].dh.get(0) == self.dh.get(0)) {
					arrweebox.splice(i, 1);
					break;
				}
			}
			self.hide();
			self.dh.remove();
			if (self.mh) {
				self.mh.remove();
			}
		}
		//取得遮照高度
		this.bheight = function() {
			if ($.browser.msie && $.browser.version < 7) {
				var scrollHeight = Math.max(
					document.documentElement.scrollHeight,
					document.body.scrollHeight
				);
				var offsetHeight = Math.max(
					document.documentElement.offsetHeight,
					document.body.offsetHeight
				);
				
				if (scrollHeight < offsetHeight) {
					return $(window).height();
				} else {
					return scrollHeight;
				}
			} else {
				return $(document).height();
			}
		}
		//取得遮照宽度
		this.bwidth = function() {
			if ($.browser.msie && $.browser.version < 7) {
				var scrollWidth = Math.max(
					document.documentElement.scrollWidth,
					document.body.scrollWidth
				);
				var offsetWidth = Math.max(
					document.documentElement.offsetWidth,
					document.body.offsetWidth
				);
				
				if (scrollWidth < offsetWidth) {
					return $(window).width();
				} else {
					return scrollWidth;
				}
			} else {
				return $(document).width();
			}
		}
		//将弹窗显示在中间位置
		this.setCenterPosition = function() {
			var wnd = $(window), doc = $(document),
				pTop = doc.scrollTop(),	pLeft = doc.scrollLeft();
			pTop += (wnd.height() - self.dh.height()) / 2;
			pLeft += (wnd.width() - self.dh.width()) / 2;
			self.dh.css({top: pTop, left: pLeft});
		}
		//根据元素设置弹窗显示位置
		this.setElementPosition = function() {
			var trigger = $(self.options.position.refele);
			var reftop = self.options.position.reftop || 0;
			var refleft = self.options.position.refleft || 0;
			var adjust = (typeof self.options.position.adjust=="undefined")?true:self.options.position.adjust;
			var top = trigger.offset().top + trigger.height();
			var left = trigger.offset().left;
			var docWidth = document.documentElement.clientWidth || document.body.clientWidth;
			var docHeight = document.documentElement.clientHeight|| document.body.clientHeight;
			var docTop = document.documentElement.scrollTop|| document.body.scrollTop;
			var docLeft = document.documentElement.scrollLeft|| document.body.scrollLeft;
			var docBottom = docTop + docHeight;
			var docRight = docLeft + docWidth;
			if (adjust && left + self.dh.width() > docRight) {
				left = docRight - self.dh.width() - 1;
			}
			if (adjust && top + self.dh.height() > docBottom) {
				top = docBottom - self.dh.height() - 1;
			}
			left = Math.max(left+refleft, 0);
			top = Math.max(top+reftop, 0);
			self.dh.css({top: top, left: left});
		}
		this.initOptions();
		this.initMask();
		this.initBox();		
		this.initContent();
		this.initEvent();
	}	
	
	var weeboxs = function() {		
		var self = this;
		this._onbox = false;
		this._opening = false;
		this.zIndex = 999;
		this.length = function() {
			return arrweebox.length;
		}
		this.open = function(content, options) {
			self._opening = true;
			if (typeof(options) == "undefined") {
				options = {};
			}
			if (options.boxid) {
				for(var i=0; i<arrweebox.length; i++) {
					if (arrweebox[i].dh.attr('id') == options.boxid) {
						arrweebox[i].close();
						break;
					}
				}
			}
			options.zIndex = self.zIndex;
			self.zIndex += 10;
			var box = new weebox(content, options);
			box.dh.click(function(){self._onbox = true;});
			arrweebox.push(box);
			/*-----解决在ie下页面过大时出现部分阴影没有覆盖的问题-----by ePim*/
			if (box.options.position != "center"){
				box.setElementPosition();
			}
			if (box.mh) {
				box.mh.css({
					width: box.bwidth(),
					height: box.bheight()
				});
			}
			/*-----解决在ie下页面过大时出现部分没有遮罩的问题-----by ePim(WanJiDong@gmail.com)*/
			return box;
		}
		//关闭最上层窗体,程序调用方法：jQuery.weeboxs.close();
		this.close = function(){
			var closingBox = this.getTopBox();
			if(false!=closingBox) {
				closingBox.close();
			}
		}
		this.getTopBox = function() {
			if (arrweebox.length>0) {
				return arrweebox[arrweebox.length-1];
			} else {
				return false;
			}
		}
		$(window).scroll(function() {
			if (arrweebox.length > 0) {
				for(i=0;i<arrweebox.length;i++) {
					var box = arrweebox[i];//self.getTopBox();
					/*if (box.options.position == "center") {
						box.setCenterPosition();
					}*/
					if (box.options.position != "center"){
						box.setElementPosition();
					}
					if (box.mh) {
						box.mh.css({
							width: box.bwidth(),
							height: box.bheight()
						});
					}
				}
			}		
		}).resize(function() {
			if (arrweebox.length > 0) {
				var box = self.getTopBox();
				if (box.options.position == "center") {
					box.setCenterPosition();
				}
				if (box.mh) {
					box.mh.css({
						width: box.bwidth(),
						height: box.bheight()
					});
				}
			}
		});
		$(document).click(function(event) {
			if (event.button==2) return true;
			if (arrweebox.length>0) {
				var box = self.getTopBox();
				if(!self._opening && !self._onbox && box.options.clickClose) {
					box.close();
				}
			}
			self._opening = false;
			self._onbox = false;
		});
	};
	$.extend({weeboxs: new weeboxs()});		
})(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 2.1.2
 */

(function($){

$.fn.bgiframe = ($.browser.msie && /msie 6\.0/i.test(navigator.userAgent) ? function(s) {
    s = $.extend({
        top     : 'auto', // auto == .currentStyle.borderTopWidth
        left    : 'auto', // auto == .currentStyle.borderLeftWidth
        width   : 'auto', // auto == offsetWidth
        height  : 'auto', // auto == offsetHeight
        opacity : true,
        src     : 'javascript:false;'
    }, s);
    var html = '<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+
                   'style="display:block;position:absolute;z-index:-1;'+
                       (s.opacity !== false?'filter:Alpha(Opacity=\'0\');':'')+
                       'top:'+(s.top=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+\'px\')':prop(s.top))+';'+
                       'left:'+(s.left=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+\'px\')':prop(s.left))+';'+
                       'width:'+(s.width=='auto'?'expression(this.parentNode.offsetWidth+\'px\')':prop(s.width))+';'+
                       'height:'+(s.height=='auto'?'expression(this.parentNode.offsetHeight+\'px\')':prop(s.height))+';'+
                '"/>';
    return this.each(function() {
        if ( $(this).children('iframe.bgiframe').length === 0 )
            this.insertBefore( document.createElement(html), this.firstChild );
    });
} : function() { return this; });

// old alias
$.fn.bgIframe = $.fn.bgiframe;

function prop(n) {
    return n && n.constructor === Number ? n + 'px' : n;
}

})(jQuery);
String.prototype.endWith = function (s) {
    if (s == null || s == "" || this.length == 0 || s.length > this.length) {
        return false;
    }
    if (this.substring(this.length - s.length) == s) {
        return true;
    }
    else {
        return false;
    }
    return true;
};

String.prototype.startWith = function (s) {
    if (s == null || s == "" || this.length == 0 || s.length > this.length) {
        return false;
    }
    if (this.substr(0, s.length) == s) {
        return true;
    }
    else {
        return false;
    }
    return true;
};

String.prototype.toValidJson = function () {
    var v = this;
    if (v != undefined && v != null && v != "") {
        //v = v.toString().replace(new RegExp('(["\"])', 'g'), "\\\"");
        //v = v.replace(/[\r\n]/g, "");
        //v = v.replace("\n", "");
        //v = v.replaceAll("'", "&#39;");
        //v = v.replaceAll('\\\\', '\\\\');
        v = escape(v);
    }
    return v;
};

String.prototype.replaceAll = function (reallyDo, replaceWith, ignoreCase) {
    if (!RegExp.prototype.isPrototypeOf(reallyDo)) {
        return this.replace(new RegExp(reallyDo, (ignoreCase ? "gi" : "g")), replaceWith);
    } else {
        return this.replace(reallyDo, replaceWith);
    }
};

/*
* 检测数组中是否包含与指定值相同的单元
* 成功则返回值相同的第一个位置，没有相同的则返回false
*/
Array.prototype.contain = function (_val) {
    if (this.length <= 0) return false;
    for (var i = 0; i < this.length; i++) {
        if (this[i] == _val) return i;
    }
    return false;
};

// 清空数组
Array.prototype.clear = function () {
    this.splice(0, this.length);
};
jQuery.csCore = {
    PAGE_INDEX_KEY: "pageindex",
    PAGE_SIZE_KEY: "pagesize",
    loadPath: function (id) {
        var dict = $.csCore.getDictByID(id);
        if ($.csValidator.isNull($("#path").html())) {
            $("#path").html(dict.name);
        } else {
            $("#path").html(dict.name + ">>" + $("#path").html());
        }

        if (dict.parentID != "0") {
            $.csCore.loadPath(dict.parentID);
        }
    },
    getMemberByID: function (id) {
        return $.csCore.invoke($.csCore.buildServicePath('/service/member/getmemberbyid'), $.csControl.appendKeyValue("", "id", id));
    },
    getCashByMemberByID: function (pubmemberid) {
        return $.csCore.invoke($.csCore.buildServicePath('/service/member/getcashbymemberid'), $.csControl.appendKeyValue("", "pubmemberid", pubmemberid));
    },
    getDiscountByID: function (id) {
        return $.csCore.invoke($.csCore.buildServicePath('/service/bldiscount/GetDiscountByID'), $.csControl.appendKeyValue("", "ID", id));
    },
    isInRole: function (id) {
        return $.csCore.invoke($.csCore.buildServicePath('/service/groupmenu/isinrole'), $.csControl.appendKeyValue("", "id", id));
    },
    isJSON: function (obj) {
        var isjson = typeof (obj) == "object" && Object.prototype.toString.call(obj).toLowerCase() == "[object object]";
        return isjson;
    },
    addValueLine: function (viewID) {
        this.getViewElements(viewID).addClass('value');
    },
    buildServicePath: function (servicePath) {
        return SERVICE_ROOT + servicePath;
    },
    isAdmin: function () {
        return this.invoke(this.buildServicePath('/service/core/isadmin'));
    },
    signOut: function () {
        $.csCore.confirm($.csCore.getValue('Common_ExitConfirm'), "$.csCore.signOutRemote()");
    },
    signOutRemote: function () {
    	$.cookie("fashiontype", "");
        var data = this.invoke(this.buildServicePath('/service/member/signout'));
        if (!$.csValidator.isNull(data)) {
            if (data.toUpperCase() == "OK") {
                document.location.href = "../common/login.jsp";
            }
        }
    },
    getVersions: function () {
        return this.invoke(this.buildServicePath('/service/dict/getversions'));
    },
    getCurrentVersion:function(){
    	return this.invoke(this.buildServicePath('/service/core/getcurrentversion'));
    },
    contain: function (a, b) {
        a = "," + a + ",";
        b = "," + b + ",";
        if (a.indexOf(b) > -1) {
            return true;
        }
        return false;
    },
    getImageHeight: function (url) {
        var theimage = new image();
        theimage.src = url;
        return theimage.height;
    },
    setPageTitle: function (page, title) {
        page.title = title;
    },
    getDictResourceName: function (dictID) {
        return "Dict_" + dictID;
    },
    pickUser: function (controlID, controlText, isMultiple, groupID) {
        $.csCore.loadModal('../member/pick.htm', 600, 370, function () { $.csMemberPick.init(controlID, controlText, isMultiple, groupID); });
    },
    autoCompleteUsername: function (input, isMultiple) {
        if (isMultiple == "undefined" || isMultiple == null || isMultiple == "") {
            isMultiple = false;
        }
        var url = $.csCore.buildServicePath('/service/member/getmemberbykeyword');
        $("#" + input).autocomplete(url, {
            multiple: isMultiple,
            dataType: "json",
            parse: function (data) {
                return $.map(data, function (row) {
                    return {
                        data: row,
                        value: row.ID,
                        result: row.username
                    };
                });
            },
            formatItem: function (item) {
                return item.username + "(" + item.name + ")";
            }
        }).result(function (e, data) {

        });
    },
    postData: function (url, form) {
        flag = false;
        var formData = $.csControl.getFormData(form);
        //alert(JSON.stringify(formData));
        var data = this.invoke(url, formData);
        if (!$.csValidator.isNull(data)) {
            if (data.toUpperCase() == "OK") {
                flag = true;
                $('#' + form).resetForm();
            }
            else {
            	$("#imgCaptcha").attr("src","Kaptcha.jpg");
                $.csCore.alert(data);
            }
        }else{
        	$.csCore.alert(data);
        }
        return flag;
    },
    getData: function (url) {
        url = encodeURI(url);
        var d = "";
        $.ajax({
            url: url,
            async: false,
            cache: false,
            success: function (data, textStatus, jqXHR) {
                d = data;
            },
            error: function (jqXHR, textStatus, errorThrown) {
                d = "error:" + jqXHR.responseText;
            }
        });
        if (IS_NET == true) {
            d = JSON.stringify(d);
            d = escape(d);
            d = JSON.parse(d);
        } else {
            try {
                d = JSON.parse(d);
            }
            catch (e) { }
        }
        return d;
    },
    invoke: function (url, formData,nameid) {
        var d = "";
        if ($.csValidator.isNull(formData)) {
            formData = "{}";
        }
        if ($.csValidator.isNull(nameid)) {
        	 if (IS_NET == true) {
                 var param = '{"formData":"' + formData + '"}';
                 $.ajax({
                     url: url,
                     data: param,
                     type: 'post',
                     dataType: 'json',
                     async: false,
                     contentType: "application/json;charset=utf-8;",
                     success: function (data, textStatus, jqXHR) {
                         d = data;
                     },
                     error: function (xhr) {
                         d = xhr;
                     }
                 });

             } else {
                 $.ajax({
                     url: url,
                     data: { formData: formData },
                     type: "post",
                     dataType: "json",
                     async: false,
                     success: function (data, textStatus, jqXHR) {
                         d = data;
                     },
                     error: function (xhr) {
                         d = xhr.responseText;
                     }
                 });
             }
        	 if (IS_NET == true) {
                 d = JSON.stringify(d);
                 d = $.csCore.utf8ToGb2312(d);
                 var from = d.indexOf(":") + 1;
                 d = d.substring(from, d.length - 1);
                 if (d.substring(0, 1) == "\"") {
                     d = d.substring(1, d.length - 1);
                 } else {
                     try {
                         d = JSON.parse(d);
                     }
                     catch (e) { }
                     return d;
                 }
             } else {
                 try {

                     d = JSON.parse(d);
                 }
                 catch (e) { }
             }
             return d;
        }else{
        	 if (IS_NET == true) {
                 var param = '{"formData":"' + formData + '"}';
                 //alert(param);
                 $.ajax({
                     url: url,
                     data: param,
                     type: 'post',
                     dataType: 'json',
                     contentType: "application/json;charset=utf-8;",
                     success: function (data, textStatus, jqXHR) {
                         d = data;
                       $("#"+nameid).html(d);
                     },
                     error: function (xhr) {
                         d = xhr;
                     }
                 });

             } else {
                 $.ajax({
                     url: url,
                     data: { formData: formData },
                     type: "post",
                     dataType: "json",
                     success: function (data, textStatus, jqXHR) {
                         d = data;
                         $("#"+nameid).html(d);
                     },
                     error: function (xhr) {
                         d = xhr.responseText;
                     }
                 });
             }
        }
    },
    getDicts: function (categoryID) {
        var datas = this.invoke(this.buildServicePath('/service/dict/getdicts'), $.csControl.appendKeyValue("", "categoryid", categoryID));
        return datas;
    },
    getDictsByParent: function (categoryID, parentID) {
        var param = $.csControl.appendKeyValue("", "categoryid", categoryID);
        param = $.csControl.appendKeyValue(param, "parentid", parentID);
        var datas = this.invoke(this.buildServicePath('/service/dict/getdictsbyparent'), param);
        return datas;
    },
    getAllDicts: function (parentID) {
        var datas = this.invoke(this.buildServicePath('/service/dict/getalldicts'), $.csControl.appendKeyValue("", "parentid", parentID));
        return datas;
    },
    getNextDicts: function (parentID) {
        var datas = this.invoke(this.buildServicePath('/service/dict/getnextdicts'), $.csControl.appendKeyValue("", "parentid", parentID));
        return datas;
    },
    getDictByID: function (dictID) {
        var dict = this.invoke(this.buildServicePath('/service/dict/getdictbyid'), $.csControl.appendKeyValue("", "id", dictID));
        return dict;
    },
    getValue: function (name1, name2,nameid) {
        if ($.csValidator.isNull(name1)) {
            alert("param is required");
            return false;
        }
        var param = "";
        param = $.csControl.appendKeyValue(param, "name1", name1);
        if (!$.csValidator.isNull(name2)) {
            param = $.csControl.appendKeyValue(param, "name2", name2);
        }
        return this.invoke(this.buildServicePath('/service/core/getvalue'), param,nameid);
    },
    getCurrentMember: function () {
        return this.invoke(this.buildServicePath('/service/member/getcurrentmember'));
    },
    getBlDealItems: function () {
    	param = $.csControl.appendKeyValue("", "from", "BlAddDeal.js");
        var datas = this.invoke(this.buildServicePath('/service/blcash/GetDealItems'), param);
        return datas;
    },
    getBlDealItemByID: function (ID) {
        var dealItem = this.invoke(this.buildServicePath('/service/blcash/GetDealItemByID'), $.csControl.appendKeyValue("", "ID", ID));
        return dealItem;
    },
    removeData: function (url, removedIDs) {
        if (removedIDs == null || removedIDs == "") {
            this.alert($.csCore.getValue('Common_PleaseSelect', 'Common_ForRemoved'));
            return false;
        }
        this.confirm($.csCore.getValue('Common_RemoveConfirm'), "$.csCore.removeRemote('" + url + "','" + removedIDs + "')");
    },
    removeRemote: function (url, removedIDs) {
        var param = $.csControl.appendKeyValue("", "removedIDs", removedIDs);
        var data = $.csCore.invoke(url, param);
        if (data != null) {
            if (data == "OK") {
                removedIDs = removedIDs.split(',');
                for (var i = 0; i <= removedIDs.length - 1; i++) {
                    $('#row' + removedIDs[i]).remove();
                }
            }
            else {
                $.csCore.alert(data);
            }
        }
    },
    initPagination: function (divPagination, nCount, nPageSize, getPagingData) {
        var prev_text = $.csCore.getValue('Common_Prev');
        var next_text = $.csCore.getValue('Common_Next');
        var total = $.csCore.getValue("Common_Total");
        var item_unit = $.csCore.getValue("Common_ItemUnit");
        var item_per_page = $.csCore.getValue("Common_ItemPerPage");

        $("#" + divPagination).pagination(nCount, {
            callback: getPagingData,
            items_per_page: nPageSize,
            prev_text: prev_text,
            next_text: next_text
        });
        $('#' + divPagination.replaceAll("Pagination", "") + 'Statistic').html(total + nCount + item_unit + "," + nPageSize + item_per_page);

    },
    processList: function (moduler, data) {
        $('#' + moduler + 'Result').setTemplateElement(moduler + 'Template', null, { filter_data: false });
        if (data.data != null) {
            $('#' + moduler + 'Result').processTemplate(data);
        }
        else {
            $('#' + moduler + 'Result').processTemplate({ data: data });
        }
        var result = $('#' + moduler + 'Result').html().replaceAll("null", "", true).replaceAll("00:00:00.0", "", true);
        $('#' + moduler + 'Result').html(result);
    },
    changeVersion: function (versionID) {
        var datas = this.invoke(this.buildServicePath('/service/core/changeversion'), $.csControl.appendKeyValue("", "versionid", versionID));
        window.location.reload();//页面刷新
    },
    pressEnterToNext: function () {
        $('input:text:first').focus();
        var $inp = $('input');
        $inp.bind('keydown', function (e) {
            var key = e.which;
            if (key == 13) {
                e.preventDefault();
                var nxtIdx = $inp.index(this) + 1;
                $(":input:eq(" + nxtIdx + ")").focus();
            }
        });
    },
    pressEnterToSubmit: function (pressedId, buttonId) {
        $("#" + pressedId).keydown(
			function (e) {
			    if (e.keyCode == 13) {
			        $('#' + buttonId).trigger('click');
			    }
			}
		);
    },
    getViewElements: function (viewID) {
        return $("#" + viewID).find("[id^='_view_']");
    },
    resetView: function (viewID) {
        var elements = this.getViewElements(viewID);
        for (var i = 0; i < elements.length; i++) {
            elements.eq(i).html("");
        }
    },
    viewWithJSON: function (viewID, jsonObject) {
        var elements = this.getViewElements(viewID);
        $.each(jsonObject, function (fieldName, fieldValue) {
            if ($.inArray($("#_view_" + fieldName)[0], elements) >= 0) {

                if (!$.csValidator.isNull(fieldValue)) {
                    try {
                        if (fieldValue.toLowerCase().substring(0, 6) == "/date(") {
                            fieldValue = $.csDate.formatMillisecondDate(fieldValue);
                        }
                    } catch (err) { }

                    $("#_view_" + fieldName).html(unescape(fieldValue));
                }
            }
        });
    },
    loadModal: function (src, width, height, initEvent) {
        if (width <= 0 || height <= 0 || width == undefined || height == undefined) {
            width = 750;
            height = 415;
        }
        if (src.endWith(".htm") || src.endWith(".html")) {
            if ($.csValidator.isNull(initEvent)) {
                $.weeboxs.open(src, { contentType: 'ajax', width: width, height: height, showButton: false });
            } else {
                $.weeboxs.open(src, { contentType: 'ajax', onopen: initEvent, width: width, height: height, showButton: false });
            }

        } else {
            $.weeboxs.open("#" + src, { width: width, height: height, showButton: false });
        }
    },
    loadPage: function (container, url, initEvent) {
        if ($.csValidator.isNull(url)) {
            return false;
        }
        $('#' + container).html('');
        if ($.csValidator.isNull(initEvent)) {
            $('#' + container).load(url);
        } else {
            $('#' + container).load(url, initEvent);
        }
    },
    changeCaptcha: function (imgId) {
        $("#" + imgId).attr("src","Kaptcha.jpg?"+ (new Date()).getTime());
    },
    login: function (divId) {
        if ($.csValidator.checkNull('username', $.csCore.getValue('Common_Required', 'Member_Username'))) {
            return false;
        }
        if ($.csValidator.checkNull('password', $.csCore.getValue('Common_Required', 'Member_Password'))) {
            return false;
        }
        if (!IS_NET) {
            if ($.csValidator.checkNull('captcha', $.csCore.getValue('Common_Required', 'Common_Captcha'))) {
                return false;
            }
        }
        if (this.postData(this.buildServicePath('/service/member/login'), divId)) {
            document.location.href = this.getMyPlatform();
        }
    },
    utf8ToGb2312: function (str1) {
        str1 = unescape(str1.replace(/\\u/g, '%u').replace(/;/g, ''));
        return str1;

    },
    getMyPlatform: function () {
        var datas = this.invoke(this.buildServicePath('/service/member/getmyplatform'), '');
        return datas;
    },
    alert: function (msg) {
        hint = $.csCore.getValue("Common_Prompt");
        $.weeboxs.open(msg, { title: hint, type: 'alert', okBtnName: $.csCore.getValue("Button_OK") });
    },
    confirm: function (msg, okEvent) {
        $.weeboxs.open(msg, {
            title: $.csCore.getValue("Common_Prompt"),
            okBtnName: $.csCore.getValue("Button_OK"),
            cancelBtnName: $.csCore.getValue("Button_Cancel"),
            type: 'dialog',
            onok: function () {
                eval(okEvent);
                $.csCore.close();
            },
            oncancel: function () {
                $.csCore.close();
            }
        });
    },
    close: function () {
        $.weeboxs.close();
    },
    loadEditor: function (textareaId) {
        //自定义插件
        var uploadUrl = $.csCore.buildServicePath('/service/file/uploadimages');
        if (IS_NET) {
            uploadUrl = "../../scripts/jquery/xheditor/upload.ashx";
        }
        var uploadPlugin = {
            uploadFile: { c: 'upload_image', t: 'Upload Image (Ctrl+2)', h: 1, e: function () {
                var _this = this;
                var jDom = $('<div><input type="text" id="xheImgUrl" class="xheText" /><input type="button" id="xheSave" /></div>');
                var jUrl = $('#xheImgUrl', jDom);
                var jSave = $('#xheSave', jDom);
                _this.uploadInit(jUrl, uploadUrl, 'jpg,gif,png,bmp');
                jSave.click(function () {
                    _this.loadBookmark();
                    _this.pasteHTML("<img src='" + jUrl.val() + "'/>");
                    _this.hidePanel();
                    return false;
                });
                _this.saveBookmark();
                _this.showDialog(jDom);

                //alert($("#xheCancel").parent().parent().parent().html());
                $("#xheCancel").hide();
                $("#xheSave").hide();
                $(".xheUpload").css("width", "200px");
                $("#xheImgUrl").hide();
            }
            }
        };
        //初始化xhEditor编辑器插
        $('#' + textareaId).xheditor({
            plugins: uploadPlugin,
            tools: 'uploadFile,|,Link,Unlink,|,SelectAll,Removeformat,Align,|,Fontface,FontSize,Bold,Italic,Underline,FontColor,BackColor,|,Source,Fullscreen',
            skin: 'default',
            upMultiple: false,
            html5Upload: false
        });
    },
    loadUpload: function (dataID,types) {
    	if($.csValidator.isNull(types)){
    		types = "*.*";
    	}
        var buttonID = "button" + dataID;
        var progressID = "progress" + dataID;

        var dom = "<span id='" + buttonID + "'></span><div class='fieldset flash' id='" + progressID + "'></div>";
        $("#" + dataID).parent().append(dom);

        var attachmentIDs = $("#" + dataID).val();
        if (!$.csValidator.isNull(attachmentIDs)) {
            var attachments = this.getAttachmentByIDs(attachmentIDs);
            $.each(attachments, function (i, attachment) {
                var file = new Object();
                file.index = i;
                file.name = attachment.fileName;
                file.size = attachment.fileLength;
                file.id = "upload_" + dataID + i;
                file.filestatus = -4;
                loadSuccessFile(file, progressID, attachment.ID, attachment.fileNameInDisk, dataID);
            });
        };
        url = "/service/file/uploadfile?dataid=" + dataID;
        if (IS_NET) {
            url = "../../scripts/jquery/swfupload/upload.ashx?dataid=" + dataID;
        }

        var upload = new SWFUpload({
            upload_url: this.buildServicePath(url),
            file_size_limit: "500 MB",
            file_types: types,
            file_types_description: "All Files",
            file_upload_limit: 10,
            file_queue_limit: 0,
            swfupload_preload_handler: preLoad,
            swfupload_load_failed_handler: loadFailed,
            file_dialog_start_handler: fileDialogStart,
            file_queued_handler: fileQueued,
            file_queue_error_handler: fileQueueError,
            file_dialog_complete_handler: fileDialogComplete,
            upload_start_handler: uploadStart,
            upload_progress_handler: uploadProgress,
            upload_error_handler: uploadError,
            upload_success_handler: uploadSuccess,
            upload_complete_handler: uploadComplete,
            button_image_url: "../../scripts/jquery/swfupload/images/button_upload_cn.png",
            button_placeholder_id: buttonID,
            button_width: 61,
            button_height: 22,
            flash_url: "../../scripts/jquery/swfupload/swfupload.swf",
            flash9_url: "../../scripts/jquery/swfupload/swfupload_fp9.swf",
            custom_settings: { progressTarget: progressID },
            debug: false
        });
    },
    getAttachmentByIDs: function (IDs) {
        var datas = this.invoke(this.buildServicePath('/service/file/getattachmentbyids'), $.csControl.appendKeyValue("", "IDs", IDs));
        return datas;
    },
    getRandom: function () {
        Math.round(Math.random() * 10000);
    },
    playVideo: function (width, height, file) {
        var aid = this.getRandom();
        var video = "";
        video += "<object width='" + width + "' height='" + height + "' id='p" + aid + "' classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'>";
        video += " <param name='movie' value='player.swf' />";
        video += " <param name='quality' value='high' />";
        video += " <param name='menu' value='false' />";
        video += " <param name='allowFullScreen' value='true' />";
        video += " <param name='scale' value='noscale' />";
        video += " <param name='allowScriptAccess' value='always' />";
        video += " <param name='swLiveConnect' value='true' />";
        video += " <param name='flashVars' value=' &video=" + file + "&autoplay=1'/>";
        video += " <!-- [if !IE] -->";
        video += " <object width='" + width + "' height='" + height + "' data='player.swf' type='application/x-shockwave-flash' id='p" + aid + "'>";
        video += " <param name='quality' value='high' />";
        video += " <param name='menu' value='false' />";
        video += " <param name='allowFullScreen' value='true' />";
        video += " <param name='scale' value='noscale' />";
        video += " <param name='allowScriptAccess' value='always' />";
        video += " <param name='swLiveConnect' value='true' />";
        video += " <param name='flashVars' value=' &video=" + file + "&autoplay=1'/>";
        video += " </object>";
        video += " <!-- [endif] -->";
        video += "</object>";
        return video;
    },
    playImg: function (width, height, file) {
        return "<img style='margin-top:4px;width:" + width + "px;height:" + height + "px;' src='" + file + "'/>";
    },
    zoomImg: function (maxWidth, maxHeight) {
        $('img').each(function () {
            var ratio = 0;  // 缩放比例  
            var width = $(this).width();    // 图片实际宽度   
            var height = $(this).height();  // 图片实际高度     // 检查图片是否超宽   
            if (width > maxWidth) {
                ratio = maxWidth / width;   // 计算缩放比例       
                $(this).css("width", maxWidth); // 设定实际显示宽度       
                height = height * ratio;    // 计算等比例缩放后的高度       
                $(this).css("height", height);  // 设定等比例缩放后的高度   
            }     // 检查图片是否超高  
            if (height > maxHeight) {
                ratio = maxHeight / height; // 计算缩放比例      
                $(this).css("height", maxHeight);   // 设定实际显示高度       
                width = width * ratio;    // 计算等比例缩放后的高度       
                $(this).css("width", width);    // 设定等比例缩放后的高度   
            }
        });
    }
};

jQuery.csDate = {
    formatUTCDateTime: function (date) {
        if (date == null || date == "" || date == "null") return "";

        var beginIndex = date.indexOf("(") + 1;
        var endIndex = date.indexOf(")");
        var dateNum = date.substring(beginIndex, endIndex);
        var newDate = new Date(parseInt(dateNum, 10));
        return $.format.date(newDate, "yyyy-MM-dd ");
    },
    formatMillisecondDate: function (date) {
        if (IS_NET) {
            return $.csDate.formatUTCDateTime(date);
        } else {
            if (!$.csValidator.isNull(date)) {
                var newDate = new Date(date);
                return $.format.date(newDate, "yyyy-MM-dd ");
            }
        }
        return date;
    },
    formatDateTime: function (date) {
        if (date == null || date == "" || date == "null") return "";
        var beginIndex = date.indexOf("(") + 1;
        var endIndex = date.indexOf(")");
        var dateNum = date.substring(beginIndex, endIndex);
        var newDate = new Date(parseInt(dateNum, 10));
        return $.format.date(newDate, "yyyy-MM-dd hh:mm:ss");
    },
    getLastYear: function () {
        //获取系统时间 
        var date = new Date();
        year = date.getFullYear() ;
        month = date.getMonth();
        if (month == '0') {
        	month = '12';
        }
        day = date.getDate();
        return $.format.date(year + "-" + month + "-" + day, "yyyy-MM-dd");
    },
    getNow: function () {
        return $.format.date(new Date(), "yyyy-MM-dd");
    },
    datePicker: function (id, defaultDate) {
        defaultDate = $.csValidator.isNull(defaultDate) ? $.csDate.getNow() : defaultDate;
        $('#' + id).click(function () { WdatePicker({ dateFmt: 'yyyy-MM-dd' }); }).val(defaultDate).css("width", "80").css("text-align", "center").css("cursor", "pointer");
    },
    datePickerNull: function (id) {
        $('#' + id).click(function () { WdatePicker({ dateFmt: 'yyyy-MM-dd' }); }).css("width", "80").css("text-align", "center").css("cursor", "pointer");
    },
    datePickerTo10: function (id, defaultDate) {
        defaultDate = $.csValidator.isNull(defaultDate) ? $.csDate.getNow() : defaultDate;
        nowDate = $.csDate.getNow();
        $('#' + id).click(function () { WdatePicker({ dateFmt: 'yyyy-MM-dd', minDate:nowDate,maxDate:defaultDate}); }).val(defaultDate).css("width", "80").css("text-align", "center").css("cursor", "pointer");
//        $('#' + id).click(function () { WdatePicker({ dateFmt: 'yyyy-MM-dd', minDate:'%y-%M-{%d+-5}', maxDate:'#F{$dp.$DV(\'"+defaultDate+"\',{d:-2})}'}); }).val(defaultDate).css("width", "80").css("text-align", "center").css("cursor", "pointer");
    }
};

jQuery.csValidator = {
    checkNull: function (controlId, message) {
        var bFlag = false;
        if ($('#' + controlId) != null && $('#' + controlId).get(0) != null && $('#' + controlId).get(0).tagName.toLowerCase() == "select") {
            if ($('#' + controlId).val() < 0) {
                bFlag = true;
            }
        }
        else {
            var value = $("#" + controlId).val();
            if (this.isNull(value)) {
                bFlag = true;
            }
        }
        if (bFlag == true) {
            $.csCore.alert(message);
            $("#" + controlId).focus();
        }
        return bFlag;
    },
    checkNotValidEmail: function (controlId, message) {
        if ($("[id$='" + controlId + "']").val() != "") {
            var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
            if (!emailReg.test($("[id$='" + controlId + "']").val())) {
                $.csCore.alert(message);
                $("[id$='" + controlId + "']").focus();
                return true;
            }
        }
        return false;
    },
    isNull: function (val) {
        if (val == undefined || val == null || val == "" || val == '' || val == "undefined" || val == "null" || val == "NULL") {
            return true;
        }
        return false;
    },
    isExistImg: function (url) {      
        if ($.browser.msie) {
        	var x = new XMLHttpRequest();
            x.open("HEAD", url, false);
            x.send();
            return x.status == 200;
        }

        return true;
    },
    //判断是否为正整数
    checkNotPositiveInteger: function (val, message) { 
        if (val != undefined && val != null && val != "" && val != '' && val != "undefined" && val != "null" && val != "NULL") {
            var value = /^[1-9][0-9]*$/;
            if (!value.test(val)) {
                $.csCore.alert(message);
                return true;
            }
        }
        return false;
    },
    //判断是否为两位小数
    checkNotPositiveMoney: function (val, message) { 
        if (val != undefined && val != null && val != "" && val != '' && val != "undefined" && val != "null" && val != "NULL") {
            var value = /^-?\d+\.?\d{0,2}$/;
            if (!value.test(val)) {
                $.csCore.alert(message);
                return true;
            }
        }
        return false;
    }
};

jQuery.csControl = {
    fillBool: function (controlID) {
        $.csControl.fillOptions(controlID, $.csCore.getAllDicts(DICT_BOOL), "ID", "name");
    },
    initTable: function () {
        $(".list_result tr").mouseover(function () { $(this).addClass("over"); }).mouseout(function () { $(this).removeClass("over"); });
    },
    canListView: function () {
        if ($.cookie("area") == "ParamH" || $.cookie("area") == "ParamV") {
            return true;
        }
        return false;
    },
    view: function (url, event, width, height) {
        $('#paneView').empty();
        if ($.csValidator.isNull(url)) {
            return false;
        }
        if ($.cookie("area") == "ParamV" || $.cookie("area") == "ParamH") {
            $.csCore.loadPage('paneView', url, event);
        } else {
            if ($.csValidator.isNull(width)) {
                width = 750;
            }
            if ($.csValidator.isNull(height)) {
                height = 400;
            }

            $.csCore.loadModal(url, width, height, event);
        }
    },
    fillOptions: function (select, datas, fieldValue, fieldText, firstHint) {
        select = $('#' + select).empty();
        if (firstHint != null && firstHint != "") {
            var optionFirst = "<option value='-1'>" + firstHint + "</option>";
            select.append(optionFirst);
        };
        $.each(datas, function (i, data) {
        	if(fieldValue == "CXID"){//编辑页面，刺绣信息 ecode为空，不显示
        		if(data.ecode != null){
	        		 var actionValue = "data.ID";
	                 var actionText = "data." + fieldText;
	                 var option = "<option value='" + eval(actionValue) + "'>" + eval(actionText) + "</option>";
	                 select.append(option);
        		}
        	}else{
        		var actionValue = "data." + fieldValue;
                var actionText = "data." + fieldText;
                var option = "<option value='" + eval(actionValue) + "'>" + eval(actionText) + "</option>";
                select.append(option);
        	}
        });
    },
    fillRadios: function (divContainer, datas, fieldName, fieldValue, fieldText) {
        var div = $('#' + divContainer);
        $.each(datas, function (i, data) {
            if (i == 0) {
                checked = " checked='true' ";
            } else {
                checked = "";
            };
            var inputRadio = "<label style='display:inline;clear:none;'><input " + checked + " type='radio' name='" + fieldName + "' value='" + eval("data." + fieldValue) + "'>" + eval("data." + fieldText) + "</label> ";
            div.append(inputRadio);
        });
    },
    fillRadio: function (divContainer, datas, fieldName, fieldValue, fieldText,value) {
        var div = $('#' + divContainer);
        $.each(datas, function (i, data) {
        	if(eval("data." + fieldValue)==value){
        		checked = " checked='true' "; 
        	}else{
        		checked = ""; 
        	}
            var inputRadio = "<label style='display:inline;clear:none;'><input " + checked + " type='radio' name='" + fieldName + "' value='" + eval("data." + fieldValue) + "'>" + eval("data." + fieldText) + "</label> ";
            div.append(inputRadio);
        });
    },
    getRadioValue: function (name) {
        return $("input[name=" + name + "]:checked").val();
    },
    fillChecks: function (divContainer, datas, fieldName, fieldValue, fieldText, initValue) {
        try {
            initValue = initValue == null ? "" : initValue.toLowerCase();
        }
        catch (err) { }
        initValue = "," + initValue + ",";
        var div = $('#' + divContainer);
        div.empty();
        $.each(datas, function (i, data) {
            var value = eval("data." + fieldValue);
            var tempValue = "," + value + ",";
            tempValue = tempValue.toLowerCase();
            var checked = "";
            if (initValue != null && initValue != "" && initValue.indexOf(tempValue) >= 0) {
                checked = "checked='true'";
            }
            var inputCheck = "<label class='checkbox'><input " + checked + " type='checkbox' name='" + fieldName + "' value='" + value + "'>";
            inputCheck = inputCheck + eval("data." + fieldText) + "</label>";
            div.append(inputCheck);
        });
    },
    checkAll: function (chkRow, chked) {
        $('[name=' + chkRow + ']').each(function () { $(this).attr("checked", chked); });
    },
    getCheckedValue: function (chkRow) {
        var index = 0;
        var values = new Array();
        $('[name=' + chkRow + ']').each(function () {
            if (this.checked == true) {
                values[index] = this.value;
                index++;
            }
        });
        return values;
    },
    initSingleCheck: function (value) {
        var radio = $("input[value='" + value + "']");
        if (radio.length > 0) {
            radio.attr("checked", "checked");
        }
        else {
            var option = $("option[value='" + value + "']");
            if (option.length > 0) {
                option.attr("selected", true);
            }
        }
    },
    initSingleCheckById: function (id) {
    	$('#'+id).attr("checked", "checked");
    },
    checkOnce: function (current) {
        var checked = current.checked;
        $("input[name='" + current.name + "']").attr("checked", false);
        current.checked = checked;
    },
    getFormData: function (containerID) {
        var result = "{";
        var elements = "";
        elements += '#' + containerID + ' input[type=text],';
        elements += '#' + containerID + ' input[type=password],';
        elements += '#' + containerID + ' input[type=hidden],';
        elements += '#' + containerID + ' textarea,';
        elements += '#' + containerID + ' select,';
        elements += '#' + containerID + ' input[type=checkbox],';
        elements += '#' + containerID + ' input[type=radio]';
        $(elements).each(
			function () {
			    if ($(this).attr('type') == 'radio' || $(this).attr('type') == "checkbox") {

			        if ($(this).attr('checked') == 'checked' || $(this).attr('checked') == 'true' || $(this).attr('checked') == true) {
			            result += $.csControl.appendElement(this);
			        }
			    }
			    else {
			        result += $.csControl.appendElement(this);
			    }
			}
		);
        if (result.endWith(",")) {
            result = result.substring(0, result.length - 1);
        }
        result += "}";
        return result;
    },
    appendElement: function (element) {
        var name = $(element).attr('name');
        if ($.csValidator.isNull(name)) {
            name = $(element).attr('id');
        }
        if (!$.csValidator.isNull(name)) {
            var val = $(element).val();
            if (!$.csValidator.isNull(val)) {
                val = val.toValidJson();
            }
            return "'" + name + "':'" + val + "',";
        }
        return "";
    },
    appendKeyValue: function (json, key, value) {
        if ($.csValidator.isNull(key)) {
            alert("key is reqiured");
            return false;
        }
        var base = json;
        if ($.csValidator.isNull(base)) {
            base = "{'" + key + "':'" + value + "'}";
        } else {
            if (base.startWith("{") && base.endWith("}")) {
                base = base.replaceAll("}", "", true);
                base = base + ",'" + key + "':'" + value + "'}";
            } else {
                alert("json param is error;");
            }
        }
        return base;
    }
};

jQuery.csMemberPick = {
    moduler: "MemberPick",
    controlID: "",
    controlText: "",
    isMultiple: true,
    bindEvent: function () {
        $("#btnMemberPickSearch").click($.csMemberPick.list);
        $("#btnPickMember").click($.csMemberPick.pick);
        $("#btnCancelPickMember").click($.csCore.close);
    },
    list: function () {
        var param = $.csControl.getFormData($.csMemberPick.moduler + 'Search');
        var url = $.csCore.buildServicePath("/service/member/getpickmembers");
        //alert(param);
        var data = $.csCore.invoke(url, param);
        $.csControl.fillOptions('select_left', data, "ID", "name");
        var selectValues = $("#" + $.csMemberPick.controlID).val();
        if (!$.csValidator.isNull(selectValues)) {
            var Values = selectValues.split(',');
            $.each(Values, function (i, value) {
                $("#select_left option[value='" + value + "']").remove();
            });
        }

        $.csMemberCommon.bindLabel();
    },
    pick: function () {
        var values = "";
        var texts = "";
        var options = $("#select_right").find("option");
        $.each(options, function (i, option) {
            values += option.value + ",";
            texts += option.text + ",";
        });
        if (values.endWith(",")) {
            values = values.substring(0, values.length - 1);
        }
        if (texts.endWith(",")) {
            texts = texts.substring(0, texts.length - 1);
        }
        $("#" + $.csMemberPick.controlID).val(values);
        $("#" + $.csMemberPick.controlText).val(texts);
        $.csCore.close();
    },
    beforeMove: function () {
        if ($.csMemberPick.isMultiple) {
            var selectLeft = $("#select_left").find("option:selected");
            $.each(selectLeft, function (i, item) {
                $("#select_right option[value='" + item.value + "']").remove();
            });
        } else {
            var selectLeft = $("#select_left").find("option:selected");
            var selectRight = $("#select_right").find("option");
            $.each(selectRight, function (i, item) {
                $("#select_left").append("<option value='" + item.value + "'>" + item.text + "</option>");
                $("#select_right option[value='" + item.value + "']").remove();
            });
        }
        return true;
    },
    init: function (controlID, controlText, isMultiple, groupID) {
        $.csMemberCommon.fillStatus("searchStatusID");
        $.csMemberCommon.fillGroup("searchGroupIDs");
        if (!$.csValidator.isNull(groupID)) {
            $("#searchGroupIDs").hide();
            $.csControl.initSingleCheck(groupID);
        }

        $.csMemberPick.controlID = controlID;
        $.csMemberPick.controlText = controlText;
        $.csMemberPick.isMultiple = isMultiple;

        var selectValues = $("#" + controlID).val();
        var selectTexts = $("#" + controlText).val();
        if (!$.csValidator.isNull(selectValues)) {
            Values = selectValues.split(',');
            Texts = selectTexts.split(',');
            var domOption = "";
            for (var i = 0; i < Values.length; i++) {
                domOption += "<option value='" + Values[i] + "'>" + Texts[i] + "</option>"
            }
            $("#select_right").append(domOption);
        }
        if (isMultiple) {
            $("#select_left").attr("multiple", "multiple");
            $("#select_right").attr("multiple", "multiple");
        } else {
            $("#options_right_all,#options_left_all").hide();
        }
        $.csMemberPick.list();
        $.csMemberPick.bindEvent();
        var options = {
            sortType: "key",
            button_select: "#options_right",
            button_deselect: "#options_left",
            button_select_all: "#options_right_all",
            button_deselect_all: "#options_left_all",
            beforeMove: $.csMemberPick.beforeMove
        };
        $("#select_left").multiSelect("#select_right", options);
        $.csCore.pressEnterToSubmit('searchKeyword','btnMemberPickSearch');
    }
};

jQuery.cookie = function (key, value, options) {
    if (arguments.length > 1 && String(value) !== "[object Object]") {
        options = jQuery.extend({}, options);
        if (value === null || value === undefined) {
            options.expires = -1;
        }
        if (typeof options.expires === 'number') {
            var days = options.expires, t = options.expires = new Date();
            t.setDate(t.getDate() + days);
        }
        value = String(value);
        return (document.cookie = [
            encodeURIComponent(key), '=',
            options.raw ? value : encodeURIComponent(value),
            options.expires ? '; expires=' + options.expires.toUTCString() : '',
            options.path ? '; path=' + options.path : '',
            options.domain ? '; domain=' + options.domain : '',
            options.secure ? '; secure' : ''
        ].join(''));
    }
    options = value || {};
    var result, decode = options.raw ? function (s) { return s; } : decodeURIComponent;
    return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;
};

var IS_NET = false;
var SERVICE_ROOT = "/hongling";
$(document).ready(function (){
	$.csCore.pressEnterToNext();
	$.csCore.pressEnterToSubmit('captcha','btnSubmit');
    $("#imgCaptcha").bind("click", $.csLogin.changeCaptcha);
	$("#btnSubmit").bind("click", $.csLogin.login);
	$.csLogin.realm();
});
jQuery.csLogin={
	changeCaptcha:function (){
		$.csCore.changeCaptcha('imgCaptcha');
	},
	login:function(){
		$.csCore.login('form');
	},
	loadVersions:function(){
	    var currentVersion = $.csCore.getCurrentVersion();
	    var option = $("option[value='" + currentVersion + "']");
        if (option.length > 0) {
            option.attr("selected", true);
        }
	},
	bindEvent:function (){
		$("#versions").change(function(){$.csCore.changeVersion($("#versions").val());});
	},
	realm : function(){
		var realm = window.location.href; 
		var param = $.csControl.appendKeyValue("","realm",realm);
		var realmdata = $.csCore.invoke($.csCore.buildServicePath('/service/realmname/getrealmname'),param);
		if (!$.csValidator.isNull(realmdata) && !$.csValidator.isNull(realmdata.customerName)){
			$("#logo_login").html("");
			$(".lblLogoTitle").html("");
			$("#logo_login").html("<img src='../../themes/default/images/realm/"+ realmdata.customerName +".gif'></img>");
			$(".lblLogoTitle").html(realmdata.title);
			$.cookie("realmname_logoname", realmdata.customerName);
		}
		$.csLogin.bindEvent();
		$.csLogin.loadVersions();
	}
};